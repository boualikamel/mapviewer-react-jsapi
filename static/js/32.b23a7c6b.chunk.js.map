{"version":3,"sources":["../node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js","../node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","../node_modules/@arcgis/core/chunks/_rollupPluginBabelHelpers.js","../node_modules/@arcgis/core/layers/ogc/ogcFeatureUtils.js"],"names":["u","t","renderer","type","symbol","r","p","o","n","s","e","indexOf","JSON","stringify","Function","i","name","description","prototype","attributes","a","attachment","data","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAttachments","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","query","queryRelated","supportsCount","supportsOrderBy","supportsPagination","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","c","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","features","f","coordinates","geometryType","objectIdField","geometry","l","properties","id","y","d","length","push","S","g","m","b","j","h","G","w","P","F","lengths","coords","hasZ","M","I","crs","code","RegExp","test","T","Set","Number","NEGATIVE_INFINITY","Object","keys","filter","Math","max","has","delete","add","alias","fields","maxObjectId","objectIdFieldName","objectIdFieldType","unknownFields","Array","from","k","WeakMap","set","get","reduce","create","exec","call","this","groups","Symbol","replace","arguments","slice","apply","TypeError","constructor","value","writable","configurable","setPrototypeOf","__proto__","getLogger","links","$","href","signal","limit","customParameters","token","apiKey","headers","accept","timeInfo","find","unshift","editable","nullable","warn","message","details","field","jsonValues","startTimeField","endTimeField","trackIdField","drawingInfo","x","v","N","authority","version","toLowerCase","GCS_NAD_1927","wkid","WGS84","parseInt","isNaN","WebMercator","q","fromJSON","O","capabilities","maxRecordCount","collection","layerDefinition","queryParameters","spatialReference","supportedCrs","num","start","timeExtent","where","objectIds","outSpatialReference","isWGS84","D","C","R","W","Z","datetime","startindex","K","L","rel","isInteger","numberMatched","numberReturned","J","_","globalIdField","A","hasM","E","U","B","z","isWebMercator","objectId","H","toJSON","Q","exceededTransferLimit","globalIdFieldName","xmin","ymin","xmax","ymax","end","toISOString","bbox"],"mappings":"yTAIoT,SAASA,EAAEC,GAAG,MAAM,CAACC,SAAS,CAACC,KAAK,SAASC,OAAO,sBAAsBH,GAAG,2BAA2BA,EAAEI,IAAE,yBAAyBJ,EAAEK,IAAEC,MAAI,SAASC,EAAEC,EAAEC,GAAG,GAAGT,YAAE,oBAAoB,OAAM,8BAAC,eAAMS,EAAG,MAAQD,IAAI,IAAI,IAAIR,EAAC,eAASS,EAAT,YAAqB,IAAI,IAAMA,KAAKD,EAAGR,GAAC,cAASS,EAAEC,QAAQ,KAAV,YAAoBD,EAApB,iBAA8BA,GAAvC,cAAgDE,KAAKC,UAAUJ,EAAEC,IAAjE,KAAwE,IAAML,EAAE,IAAIS,SAASb,GAAG,OAAM,kBAAI,IAAII,GAAE,MAAMA,GAAG,OAAM,8BAAC,eAAMK,EAAG,MAAQD,KAAK,SAASM,IAAO,IAALd,EAAK,uDAAH,GAAI,MAAM,CAAC,CAACe,KAAK,cAAcC,YAAY,GAAGC,UAAU,CAACC,WAAWV,YAAER,MAAM,SAASmB,EAAEnB,EAAEQ,GAAG,MAAM,CAACY,WAAW,KAAKC,KAAK,CAACC,aAAY,EAAGC,oBAAmB,EAAGC,WAAU,EAAGC,UAAUzB,GAAG0B,SAAS,CAACC,iCAAgC,GAAIC,WAAW,CAACC,mBAAkB,EAAGC,kBAAiB,EAAGC,qBAAoB,EAAGC,YAAYxB,EAAEyB,eAAezB,EAAE0B,gBAAgB1B,EAAE2B,wBAAuB,EAAGC,eAAc,EAAGC,0BAAyB,EAAGC,2BAA0B,EAAGC,cAAa,EAAGC,eAAehC,EAAEiC,gCAA+B,GAAIC,MAAMjC,IAAEkC,aAAa,CAACC,eAAc,EAAGC,iBAAgB,EAAGC,oBAAmB,GAAIC,QAAQ,CAACC,uBAAuBxC,EAAEyC,kBAAiB,EAAGC,oDAAmD,EAAGC,2BAA0B,EAAGC,wBAAuB,EAAGC,0BAAyB,EAAGC,2BAA0B,EAAGC,wBAAuB,EAAGC,2BAA0B,EAAGC,wBAAuB,M,kPCA/uC3C,G,WAAyHN,G,WAA0SkD,GAAlpBpD,EAAE,CAACqD,WAAW,uBAAuBC,gBAAgB,uBAAuBC,WAAW,yBAAyBC,MAAM,oBAAoBC,QAAQ,sBAAsBC,aAAa,uBAAuB,SAAS5D,EAAEK,GAAG,OAAOH,EAAEG,GAAG,SAASK,EAAEL,GAAX,gFAAqBA,EAAEP,KAAvB,OAAiC,YAAjC,OAA6D,sBAA7D,uBAA2C,OAA3C,SAAiDO,EAAjD,wDAAgGA,EAAEwD,UAAlG,4DAA2FjE,EAA3F,aAA2GA,GAA3G,sBAA+G,OAA/G,UAAqHA,EAArH,sHAAAkE,IAAA,yEAAyH,SAAS1D,EAAEC,GAAX,0FAAkBA,EAAlB,yCAA2B,MAA3B,YAAuCA,EAAEP,KAAzC,OAAmD,UAAnD,OAAyF,eAAzF,MAA0G,eAA1G,OAAqJ,oBAArJ,MAA2K,YAA3K,QAAoO,iBAApO,wBAA2D,OAA3D,SAAiEO,EAAE0D,YAAnE,0CAAuH,uBAAM1D,EAAE0D,YAAR,QAAvH,yDAAoM1D,EAAE0D,aAAtM,2DAAkN,OAAnBnE,EAA/L,QAAkN,gBAAMA,EAAN,SAAlN,wHAAAkE,IAAA,uEAAkQzD,EAAE0D,aAApQ,2DAA6PnE,EAA7P,sBAA+RA,GAA/R,2DAAiS,OAAPS,EAA1R,QAAiS,gBAAMA,EAAN,SAAjS,wHAAAyD,IAAA,qIAAAA,IAAA,sGAA0S,SAASR,EAAEjD,GAAX,2GAAaH,EAAb,+BAAe,GAAuBQ,EAAmBR,EAAhC8D,aAA6B5D,EAAGF,EAAjB+D,cAAxC,cAA0E5D,GAA1E,4DAAqEV,EAArE,QAAkGU,EAAqBV,EAA9BuE,SAAsBC,EAAQxE,EAAnByE,WAAgBN,EAAGnE,EAAN0E,IAAWhE,GAAGL,EAAEK,EAAEP,QAAQY,EAA3I,wDAA0Q,OAAlG4D,EAAE,OAAOhB,GAArBvC,EAAEoD,GAAG,IAAoB/D,IAAIkD,EAAE,KAAKlD,GAAG,MAAM0D,IAAI/C,EAAEX,KAAKW,EAAEX,GAAGkE,EAAER,GAASS,EAAE,IAAI3E,IAAES,EAAEJ,EAAE,IAAIE,IAAEE,EAAEH,GAAG,KAAKa,EAAE,KAAKuD,GAAvQ,UAAgRC,EAAhR,sHAAAT,IAAA,yEAAmR,SAASnE,EAAEU,GAAE,oBAAgBA,GAAhB,IAAC,4BAAiB,GAAjB,QAAsBmE,OAAO,EAAE,OAAM,GAAtC,8BAAyC,OAAM,EAAuD,SAASzD,EAAEV,GAAW,IAAR,IAAIT,EAAE,EAAUO,EAAE,EAAEA,EAAEE,EAAEmE,OAAOrE,IAAI,CAAC,IAAMD,EAAEG,EAAEF,GAAGH,EAAEK,GAAGF,EAAE,GAAGE,EAAEmE,QAAQ5E,GAAGM,EAAE,GAAGF,EAAE,GAAGA,EAAE,GAAGE,EAAE,GAAG,OAAON,GAAG,EAAE,SAAS0E,EAAEjE,GAAG,IAAMT,EAAES,EAAE,GAAGF,EAAEE,EAAEA,EAAEmE,OAAO,GAAG,OAAO5E,EAAE,KAAKO,EAAE,IAAIP,EAAE,KAAKO,EAAE,IAAIP,EAAE,KAAKO,EAAE,IAAIE,EAAEoE,KAAK7E,GAAGS,EAAE,SAASJ,EAAEI,EAAET,EAAEO,GAAG,OAAOP,EAAEE,MAAM,IAAI,aAAa,OAAqL,SAAWO,EAAET,EAAEO,GAAG,OAAOuE,EAAErE,EAAET,EAAEmE,YAAY5D,GAAGE,EAA5NkE,CAAElE,EAAET,EAAEO,GAAG,IAAI,kBAAkB,OAA+L,SAAWE,EAAET,EAAEO,GAAE,oBAAgBP,EAAEmE,aAAlB,IAAC,4BAA6BW,EAAErE,EAA/B,QAAmCF,IAApC,8BAAuC,OAAOE,EAAvPsE,CAAEtE,EAAET,EAAEO,GAAG,IAAI,aAAa,OAA+N,SAAWE,EAAET,EAAEO,GAAG,OAAOuE,EAAErE,EAAET,EAAEmE,YAAY5D,GAAGE,EAAtQuE,CAAEvE,EAAET,EAAEO,GAAG,IAAI,eAAe,OAA4O,SAAWE,EAAET,EAAEO,GAAE,oBAAgBP,EAAEmE,aAAlB,IAAC,2BAA6B,KAAnB7D,EAAmB,QAAC2E,EAAExE,EAAEH,EAAE,GAAGC,GAAG,IAAI,IAAIP,EAAE,EAAEA,EAAEM,EAAEsE,OAAO5E,IAAIkF,EAAEzE,EAAEH,EAAEN,GAAGO,IAA/E,8BAAkF,OAAOE,EAA/U0E,CAAE1E,EAAET,EAAEO,GAAG,IAAI,QAAQ,OAA4T,SAAWE,EAAET,EAAEO,GAAG,OAAO6E,EAAE3E,EAAET,EAAEmE,YAAY5D,GAAGE,EAAnW4E,CAAE5E,EAAET,EAAEO,GAAG,IAAI,UAAU,OAA8U,SAAWE,EAAET,EAAEO,GAAG,IAAMD,EAAEN,EAAEmE,YAAYc,EAAExE,EAAEH,EAAE,GAAGC,GAAG,IAAI,IAAIH,EAAE,EAAEA,EAAEE,EAAEsE,OAAOxE,IAAI8E,EAAEzE,EAAEH,EAAEF,GAAGG,GAAG,OAAOE,EAAza6E,CAAE7E,EAAET,EAAEO,IAAqa,SAAS0E,EAAExE,EAAET,EAAEO,GAAG,IAAMD,EAAEoE,EAAE1E,IAAn7B,SAAWS,GAAG,OAAOU,EAAEV,GAA+5B8D,CAAEjE,GAAYwE,EAAErE,EAAEH,EAAEC,GAAfgF,EAAE9E,EAAEH,EAAEC,GAAY,SAAS2E,EAAEzE,EAAET,EAAEO,GAAG,IAAMD,EAAEoE,EAAE1E,IAA/8B,SAAWS,GAAG,OAAOU,EAAEV,GAA27ByD,CAAE5D,GAAYwE,EAAErE,EAAEH,EAAEC,GAAfgF,EAAE9E,EAAEH,EAAEC,GAAY,SAASuE,EAAErE,EAAET,EAAEO,GAAE,oBAAgBP,GAAhB,IAAC,4BAAiBoF,EAAE3E,EAAnB,QAAuBF,IAAxB,8BAA2BE,EAAE+E,QAAQX,KAAK7E,EAAE4E,QAAQ,SAASW,EAAE9E,EAAET,EAAEO,GAAG,IAAI,IAAID,EAAEN,EAAE4E,OAAO,EAAEtE,GAAG,EAAEA,IAAI8E,EAAE3E,EAAET,EAAEM,GAAGC,GAAGE,EAAE+E,QAAQX,KAAK7E,EAAE4E,QAAQ,SAASQ,EAAE3E,EAAET,EAAEO,GAAG,kBAAaP,EAAb,GAAMM,EAAN,KAAQF,EAAR,KAAUU,EAAV,KAAeL,EAAEgF,OAAOZ,KAAKvE,EAAEF,GAAGG,EAAEmF,MAAMjF,EAAEgF,OAAOZ,KAAK/D,GAAG,GAAG,SAAS6E,EAAElF,GAAG,cAAcA,GAAG,IAAI,SAAS,MAAM,sBAAsB,IAAI,SAAS,MAAM,sBAAsB,QAAQ,MAAM,WAAW,SAASmF,EAAE5F,GAAG,IAAIA,EAAE,MAAM,IAAIS,IAAE,sBAAsB,yBAAyB,GAAG,YAAYT,EAAEE,MAAM,sBAAsBF,EAAEE,KAAK,MAAM,IAAIO,IAAE,2CAA2C,+CAA+C,CAACY,KAAKrB,IAAI,IAAUO,EAAGP,EAAP6F,IAAS,GAAItF,EAAJ,CAAa,IAAMD,EAAE,iBAAiBC,EAAEA,EAAE,SAASA,EAAEL,KAAKK,EAAEiE,WAAWzD,KAAK,SAASR,EAAEL,KAAKK,EAAEiE,WAAWsB,KAAK,KAAK1F,EAAE,IAAI2F,OAAO,oBAAoB,KAAK,IAAIzF,IAAIF,EAAE4F,KAAK1F,GAAG,MAAM,IAAIG,IAAE,gCAAgC,mCAAmC,CAACoF,IAAItF,KAAI,SAAS0F,EAAExF,GAAO,IAAoC8D,EAApC,EAALvE,EAAK,uDAAH,GAAUO,EAAE,GAAGD,EAAE,IAAI4F,IAAIxC,EAAE,IAAIwC,IAAUhC,GAAE,EAAG/C,EAAEgF,OAAOC,kBAAkB1B,EAAE,KAAKrE,GAAE,EAA1C,EAAmEL,EAArBoE,aAAaO,OAA3D,MAA6D,KAA7D,EAAqEI,GAAE,EAA5G,cAA8HjE,EAAEL,IAAhI,yBAAyH0E,EAAzH,QAAmJ1E,EAAqB0E,EAA9Bb,SAAsBtE,EAAQmF,EAAnBX,WAAgB1D,EAAGqE,EAANV,GAAQ,KAAIhE,IAAIkE,IAAIA,EAAEvE,EAAEK,EAAEP,OAAOE,EAAEK,EAAEP,QAAQyE,MAAQT,IAAGA,EAAEnE,EAAES,EAAEC,KAAOJ,IAAIA,EAAE,MAAMS,KAAiB,YAAXyD,SAASzD,KAAiB4D,EAAE2B,OAAOC,KAAKtG,GAAGuG,QAAQ,SAAA9F,GAAC,OAAET,EAAES,KAAKK,OAAOT,GAAG,WAAWkE,GAAG,MAAMzD,IAAIK,EAAEqF,KAAKC,IAAItF,EAAEL,GAAG4D,EAAEE,OAAO,EAAEF,EAAEA,EAAE6B,QAAQ,SAAA9F,GAAC,OAAET,EAAES,KAAKK,KAAI,IAAI4D,EAAEE,SAASF,EAAE1E,EAAE0E,EAAE,MAAM5D,EAAE4D,EAAE,MAAMK,GAAG/E,GAAE,CAAC,IAAIS,GAAE,EAAG,IAAI,IAAML,KAAKJ,EAAG,IAAGM,EAAEoG,IAAItG,GAAT,CAAqB,IAAMU,EAAEd,EAAEI,GAAG,GAAG,MAAMU,EAAT,CAAmC,IAAMN,EAAEmF,EAAE7E,GAAG,YAAYN,GAAGkD,EAAEiD,OAAOvG,GAAGE,EAAEsG,IAAIxG,GAAGG,EAAEsE,KAAK,CAAC9D,KAAKX,EAAEyG,MAAMzG,EAAEF,KAAKM,KAAKkD,EAAEkD,IAAIxG,QAA/GK,GAAE,EAAGiD,EAAEkD,IAAIxG,GAAuG2E,EAAEtE,IAAtgB,2BAAoB,IAAnI,8BAAynB,IAAMuE,EAAEN,GAAG,IAAIA,EAAEE,QAAQF,EAAE,IAAI,KAAK,GAAGM,EAAH,qBAAoBzE,GAApB,IAAK,gCAAUH,EAAV,QAAiBA,EAAEW,OAAOiE,IAAI5E,EAAEF,KAAK,qBAA1C,+BAA8D,MAAM,CAAC4G,OAAOvG,EAAE6D,aAAaO,EAAEe,KAAKxB,EAAE6C,YAAYP,KAAKC,IAAI,EAAEtF,GAAG6F,kBAAkBhC,EAAEiC,kBAAkB1C,EAAE2C,cAAcC,MAAMC,KAAK1D,IAAI,SAAS2D,EAAE5G,EAAET,GAAG,OAAOmH,MAAMC,KAAK1D,EAAE5C,EAAEL,GAAGT,M,iCCAp3H,SAASA,IAAIA,EAAE,SAASA,EAAES,GAAG,OAAO,IAAIiD,EAAE1D,OAAE,EAAOS,IAAI,IAAIF,EAAEwF,OAAO9E,UAAUX,EAAE,IAAIgH,QAAQ,SAAS5D,EAAE1D,EAAES,EAAEF,GAAG,IAAIR,EAAE,IAAIgG,OAAO/F,EAAES,GAAG,OAAOH,EAAEiH,IAAIxH,EAAEQ,GAAGD,EAAEkH,IAAIxH,IAAII,EAAEL,EAAE2D,EAAEzC,WAAW,SAASlB,EAAEC,EAAES,GAAG,IAAIL,EAAEE,EAAEkH,IAAI/G,GAAG,OAAO4F,OAAOC,KAAKlG,GAAGqH,QAAQ,SAAShH,EAAEF,GAAG,OAAOE,EAAEF,GAAGP,EAAEI,EAAEG,IAAIE,IAAI4F,OAAOqB,OAAO,OAAO,OAAOjH,EAAEiD,EAAEqC,QAAQrC,EAAEzC,UAAU0G,KAAK,SAAS3H,GAAG,IAAIS,EAAEF,EAAEoH,KAAKC,KAAKC,KAAK7H,GAAG,OAAOS,IAAIA,EAAEqH,OAAO/H,EAAEU,EAAEoH,OAAOpH,GAAGiD,EAAEzC,UAAU8G,OAAOC,SAAS,SAAShI,EAAES,GAAG,GAAG,iBAAiBA,EAAE,CAAC,IAAIL,EAAEE,EAAEkH,IAAIK,MAAM,OAAOtH,EAAEwH,OAAOC,SAASJ,KAAKC,KAAK7H,EAAES,EAAEuH,QAAQ,gBAAgB,SAAShI,EAAES,GAAG,MAAM,IAAIL,EAAEK,OAAO,GAAG,mBAAmBA,EAAE,CAAC,IAAIiD,EAAEmE,KAAK,OAAOtH,EAAEwH,OAAOC,SAASJ,KAAKC,KAAK7H,GAAG,WAAW,IAAIA,EAAEiI,UAAU,MAAM,iBAAiBjI,EAAEA,EAAE4E,OAAO,KAAK5E,EAAE,GAAGkI,MAAMN,KAAK5H,IAAI6E,KAAK9E,EAAEC,EAAE0D,IAAIjD,EAAE0H,MAAMN,KAAK7H,MAAM,OAAOO,EAAEwH,OAAOC,SAASJ,KAAKC,KAAK7H,EAAES,IAAIT,EAAEmI,MAAMN,KAAKI,WAAW,SAASxH,EAAET,EAAES,GAAG,GAAG,mBAAmBA,GAAG,OAAOA,EAAE,MAAM,IAAI2H,UAAU,sDAAsDpI,EAAEiB,UAAUoF,OAAOqB,OAAOjH,GAAGA,EAAEQ,UAAU,CAACoH,YAAY,CAACC,MAAMtI,EAAEuI,UAAS,EAAGC,cAAa,KAAM/H,GAAGL,EAAEJ,EAAES,GAAG,SAASL,EAAEJ,EAAES,GAAG,OAAOL,EAAEiG,OAAOoC,gBAAgB,SAASzI,EAAES,GAAG,OAAOT,EAAE0I,UAAUjI,EAAET,IAAIA,EAAES,GAJtoC,mC,ugBCIw+BmF,EAAErF,IAAEoI,UAAU,2C,SAA0D1C,E,gFAAf,WAAiBxF,EAAEF,GAAnB,IAAAY,EAAA,6DAAAA,EAAA,yDAAqBA,EAArB,+BAAuB,GAAGb,EAA1B,+BAA4B,EAAeE,EAAGC,EAATmI,MAAWrE,EAAEsE,EAAErI,EAAE,QAAQ,yBAAyBqI,EAAErI,EAAE,+CAA+C,yBAA2BJ,YAAEmE,GAAvK,sBAAgL,IAAIzD,IAAE,uCAAuC,qBAA7N,uBAAsQd,kBAAEuE,EAAEuE,KAAK,CAACC,OAAO5H,EAAE4H,OAAOrG,MAAK,yBAAEsG,MAAM1I,GAAKa,EAAE8H,kBAAf,IAAgCC,MAAM/H,EAAEgI,SAAQC,QAAQ,CAACC,OAAO,0BAArW,uBAA6P3F,EAA7P,EAAwPrC,KAAxP,UAAqY6C,YAAER,GAAvY,WAAgZiB,EAAEI,YAAErB,EAAE,CAACU,aAAa7D,EAAE6D,eAAerE,EAAEQ,EAAEuG,QAAQnC,EAAEmC,QAAQ,GAAGzG,EAAE,MAAME,EAAEmF,KAAKnF,EAAEmF,KAAKf,EAAEe,KAAKV,EAAEL,EAAEP,aAAaM,EAAEnE,EAAE8D,eAAeM,EAAEqC,mBAAmB,WAAe9B,EAAE3E,EAAE+I,SAAe/D,EAAExF,EAAEwJ,MAAM,SAAA9I,GAAC,OAAEA,EAAEM,OAAO2D,KAA5lB,oBAA2mBC,EAAEsC,kBAA7mB,uBAAqoB,IAAInG,IAAE,uCAAuC,kEAAlrB,QAAovBf,EAAEyJ,QAAQ,CAACzI,KAAK2D,EAAEmC,MAAMnC,EAAExE,KAAK,mBAAmBuJ,UAAS,EAAGC,UAAS,IAA3zB,wBAAq0BnE,EAAErF,KAAK,mBAAmBqF,EAAEkE,UAAS,EAAGlE,EAAEmE,UAAS,EAAx3B,WAA83BhF,IAAIC,EAAEqC,oBAAyBvG,EAAEV,EAAEwJ,MAAM,SAAA9I,GAAC,OAAEA,EAAEM,OAAO4D,EAAEqC,wBAAwBvG,EAAEP,KAAK,wBAA4B8E,EAAh/B,uBAAw/B,IAAIlE,IAAE,qCAAqC,4EAAniC,QAA+mCf,IAAI4E,EAAEmC,QAAQnC,EAAEuC,cAActC,OAAO,GAAGgB,EAAE+D,KAAK,CAAC5I,KAAK,wCAAwC6I,QAAQ,4EAA4EC,QAAQ,CAAC3C,cAAcvC,EAAEuC,iBAAzzC,cAAy1CnH,GAAz1C,8DAA+1C,OAAXC,EAAp1C,SAAu2Ce,OAAOf,EAAEe,KAAKf,EAAE6G,OAAO,MAAM7G,EAAE6G,QAAQ7G,EAAE6G,MAAM7G,EAAEe,MAAM,qBAAqBf,EAAEE,MAAM,0BAA0BF,EAAEE,OAAOF,EAAEyJ,SAAS,MAAMzJ,EAAEyJ,YAAYzJ,EAAEyJ,SAASzJ,EAAE0J,SAAS,MAAM1J,EAAE0J,YAAY1J,EAAE0J,UAAW1J,EAAEe,KAAtjD,uBAAikD,IAAID,IAAE,uCAAuC,wBAAwB,CAACgJ,MAAM9J,IAA7oD,YAAqpD,IAAIiF,IAAE8E,WAAWrJ,QAAQV,EAAEE,MAAhrD,uBAA4rD,IAAIY,IAAE,uCAAN,kCAAwEd,EAAEe,KAA1E,KAAkF,CAAC+I,MAAM9J,IAArxD,wJAA4xDkF,IAASzE,EAAE,IAAI0E,IAAEpF,GAAMmF,EAAE8E,kBAAsBhK,EAAES,EAAE+G,IAAItC,EAAE8E,kBAAmB9E,EAAE8E,eAAehK,EAAEe,KAAKf,EAAEE,KAAK,qBAAqBgF,EAAE8E,eAAe,MAAQ9E,EAAE+E,gBAAoBjK,EAAES,EAAE+G,IAAItC,EAAE+E,gBAAiB/E,EAAE+E,aAAajK,EAAEe,KAAKf,EAAEE,KAAK,qBAAqBgF,EAAE+E,aAAa,MAAQ/E,EAAEgF,gBAAoBlK,EAAES,EAAE+G,IAAItC,EAAEgF,eAAgBhF,EAAEgF,aAAalK,EAAEe,MAAMmE,EAAEgF,aAAa,KAAKtE,EAAE+D,KAAK,CAAC5I,KAAK,kDAAkD6I,QAAQ,0BAA0BC,QAAQ,CAACP,SAASpE,OAAMA,EAAE8E,gBAAgB9E,EAAE+E,eAAerE,EAAE+D,KAAK,CAAC5I,KAAK,qCAAqC6I,QAAQ,8CAA8CC,QAAQ,CAACP,SAASpE,KAAKA,EAAE,OAAv6E,kBAAm7E,CAACiF,YAAY9E,YAAEL,GAAGZ,aAAaY,EAAE8B,OAAO/G,EAAE2F,OAAOrF,EAAEgE,cAAcK,EAAE4E,SAASpE,IAA//E,kE,+BAAihFmC,E,8EAAf,WAAiB5G,GAAjB,MAAAU,EAAA,iCAAAA,EAAA,yDAAmBZ,EAAnB,+BAAqB,GAAgBY,EAAGV,EAATmI,MAAWtI,EAAEuI,EAAE1H,EAAE,OAAO,qBAAqB0H,EAAE1H,EAAE,8CAA8C,qBAAuBf,YAAEE,GAAvJ,sBAAgK,IAAIQ,IAAE,6CAA6C,2BAAnN,cAA2PN,EAA+BD,EAAtC4I,OAA0B5E,EAAYhE,EAA7B0I,iBAA0BvF,EAAGnD,EAAVwI,OAAhR,SAA2S/I,kBAAEM,EAAEwI,KAAK,CAACC,OAAOrF,EAAE0F,QAAQ,CAACC,OAAO,oBAAoB3G,MAAK,2BAAK6B,GAAL,IAAO2E,MAAM1I,MAApX,uBAAkSmE,EAAlS,EAA6RtD,KAA7R,kBAAgYsD,GAAhY,6C,+BAAiZG,E,8EAAf,WAAiBrE,GAAjB,MAAAU,EAAA,iCAAAA,EAAA,yDAAmBZ,EAAnB,+BAAqB,GAAgBY,EAAGV,EAATmI,MAAWtI,EAAEuI,EAAE1H,EAAE,cAAc,qBAAqB0H,EAAE1H,EAAE,qDAAqD,qBAAuBf,YAAEE,GAArK,sBAA8K,IAAIQ,IAAE,6CAA6C,2BAAjO,cAAyQN,EAA+BD,EAAtC4I,OAA0B5E,EAAYhE,EAA7B0I,iBAA0BvF,EAAGnD,EAAVwI,OAA9R,SAAyT/I,kBAAEM,EAAEwI,KAAK,CAACC,OAAOrF,EAAE0F,QAAQ,CAACC,OAAO,oBAAoB3G,MAAK,2BAAK6B,GAAL,IAAO2E,MAAM1I,MAAlY,uBAAgTmE,EAAhT,EAA2StD,KAA3S,kBAA8YsD,GAA9Y,6C,+BAA+ZyF,E,8EAAf,WAAiB3J,GAAjB,UAAAU,EAAA,yBAAAA,EAAA,6DAAmBL,EAAnB,+BAAqB,GAAiBP,EAA+BO,EAAtCqI,OAA0B/I,EAAYU,EAA7BmI,iBAA0B9H,EAAGL,EAAViI,OAA3D,SAAsF/I,kBAAES,EAAE,CAACsI,OAAO5H,EAAEiI,QAAQ,CAACC,OAAO,oBAAoB3G,MAAK,2BAAKtC,GAAL,IAAO8I,MAAM3I,MAA1J,uBAA6ED,EAA7E,EAAwEe,KAAxE,kBAAsKf,GAAtK,4C,+BAAuL+J,E,8EAAf,WAAiB5J,GAAjB,QAAAU,EAAA,+BAAAA,EAAA,yDAAmBL,EAAnB,+BAAqB,GAAUP,EAAE,+CAA+CY,EAAE0H,EAAEpI,EAAEmI,MAAM,eAAerI,IAAMH,YAAEe,GAAnH,0CAA6HyE,EAAE+D,KAAK,yCAAyC,8DAA8D,OAA3O,cAA6PrJ,EAA+BQ,EAAtCqI,OAA0B3I,EAAYM,EAA7BmI,iBAA0B1E,EAAGzD,EAAViI,OAAlR,SAA6S/I,kBAAEmB,EAAE2H,KAAK,CAACC,OAAOxE,EAAE6E,QAAQ,CAACC,OAAO9I,GAAGmC,MAAK,2BAAKlC,GAAL,IAAO0I,MAAM5I,MAArW,uBAAoSoD,EAApS,EAA+RrC,KAA/R,kBAAiXqC,GAAjX,6C,sBAAmX,SAAS4G,EAAEtK,GAAG,IAAMc,EAAEL,YAAE,2DAA2D,CAAC8J,UAAU,EAAEC,QAAQ,EAAE1E,KAAK,IAAI6B,KAAK3H,GAAGO,EAAE,MAAMO,OAAE,EAAOA,EAAEgH,OAAO,IAAIvH,EAAE,OAAO,KAAK,IAAgBH,EAAUG,EAApBgK,UAAiBpJ,EAAGZ,EAARuF,KAAU,OAAO1F,EAAEqK,eAAe,IAAI,MAAM,OAAOtJ,EAAEsJ,eAAe,IAAI,QAAQ,OAAOlF,IAAEmF,aAAa,IAAI,QAAQ,OAAO,IAAInF,IAAE,CAACoF,KAAK,OAAO,IAAI,QAAQ,IAAI,SAAS,OAAOpF,IAAEqF,MAAM,QAAQ,OAAO,KAAK,IAAI,OAAO,IAAI,OAAQ,IAAMnK,EAAE0F,OAAO0E,SAAS1J,EAAE,IAAI,OAAOgF,OAAO2E,MAAMrK,GAAG,KAAK,SAASA,EAAE8E,IAAEwF,YAAY,IAAIxF,IAAE,CAACoF,KAAKlK,IAAI,QAAQ,OAAO,M,SAAqBuK,E,kFAAf,WAAiBvK,EAAET,EAAEc,GAArB,eAAAK,EAAA,sEAAsCwE,EAAElF,EAAET,EAAEc,GAA5C,cAA8BP,EAA9B,yBAAsD2E,UAAE+F,SAAS1K,IAAjE,4C,+BAAmFoF,E,kFAAf,WAAiBlF,EAAET,EAAEc,GAArB,eAAAK,EAAA,sEAAsC+J,EAAEzK,EAAET,EAAEc,GAA5C,cAA8BP,EAA9B,yBAAsDoE,YAAEpE,IAAxD,4C,+BAA0E2K,E,kFAAf,WAAiBzK,EAAEF,EAAED,GAArB,uGAAAa,EAAA,yDAAkEoD,EAAoH9D,EAAxJ0K,aAAczI,MAAO0I,eAA8BzG,EAAqGlE,EAAhH4K,WAA6BnH,EAAmFzD,EAAnG6K,gBAAnF,EAAsL7K,EAAjF8K,gBAAwBxG,EAA7H,EAAsHoE,OAA0B9D,EAAhJ,EAA+H4D,iBAAqC9D,EAAkB1E,EAAnC+K,iBAAgCvG,EAAGxE,EAAhBgL,aAAyBvG,EAAGP,EAATiE,MAAWhD,EAAEiD,EAAE3D,EAAE,QAAQ,yBAAyB2D,EAAE3D,EAAE,+CAA+C,yBAA2B9E,YAAEwF,GAA3T,sBAAoU,IAAI9E,IAAE,uCAAuC,qBAAjX,UAAqZmF,EAAsC1F,EAA/C+D,SAAe+C,EAAgC9G,EAApCmL,IAAY5G,EAAwBvE,EAA9BoL,MAAmBvB,EAAW7J,EAAtBqL,WAAmBvB,EAAG9J,EAATsL,OAActL,EAAEuL,UAAlc,sBAAkd,IAAIhL,IAAE,qDAAqD,4CAA7gB,cAA+jBwJ,EAAE/E,IAAE0F,SAAS9F,GAAG6F,EAAE7J,YAAEZ,EAAEwL,oBAAoBzB,GAAG3E,EAAEqF,EAAEgB,QAAQ,KAAK1G,EAAE0F,EAAE/F,GAAGiG,EAAE9F,EAAEa,EAAEhB,GAAGgH,EAAEC,EAAE9B,GAAG+B,EAAEC,EAAE/B,GAAGgC,EAAE,MAAMhF,EAAEA,EAAE,MAAMvC,QAAG,IAASA,EAAE,GAAGP,EAA9rB,UAA+sBvE,kBAAE4F,EAAEkD,KAAH,YAAC,eAAWxI,GAAZ,IAAcoC,MAAK,uCAAK2C,GAAK6F,GAAV,IAAYrF,IAAIF,EAAE2G,SAASL,EAAEvJ,MAAMyJ,EAAEnD,MAAMqD,EAAEE,WAAWzH,EAAEoE,MAAMnE,IAAGqE,QAAQ,CAACC,OAAO,2BAAtzB,QAA2nC,GAA3nC,SAAssBmD,EAAtsB,EAAisBnL,KAAmJoL,GAAE,EAAMD,EAAE5D,QAAO6D,IAAID,EAAE5D,MAAMW,MAAM,SAAA9I,GAAC,MAAE,SAASA,EAAEiM,SAAOD,GAAGtG,OAAOwG,UAAUH,EAAEI,gBAAgBzG,OAAOwG,UAAUH,EAAEK,kBAAkBJ,EAAED,EAAEK,eAAeL,EAAEI,eAA4BE,EAAiD5I,EAAxD4C,OAAuBiG,EAAiC7I,EAA/C8I,cAAqBC,EAA0B/I,EAA/BgJ,KAAYC,EAAmBjJ,EAAxBwB,KAAqB0H,EAAGlJ,EAAjBG,cAAmBgJ,EAAEnJ,EAAEE,aAAakJ,EAAE5I,YAAE8H,EAAE,CAACpI,aAAaiJ,EAAE3H,KAAKyH,EAAE9I,cAAc+I,KAAQzH,GAAGqF,EAAEuC,cAAT,eAAsCD,GAAtC,IAAuB,6BAAUtN,GAAV,UAAsBsE,YAAgB7D,GAAEV,YAAEC,GAAEsE,SAAS+I,EAAEF,GAAE,IAAM3B,iBAAiBjG,IAAEqF,MAAM5K,GAAEsE,SAASjE,YAAEqD,YAAEjD,GAAEuK,KAAhI,+BAA3nC,eAA8wCsC,GAA9wC,IAA+vC,+BAAUtN,GAAV,UAAmBwN,SAASxN,GAAEkB,WAAWkM,GAAxyC,uCAAizCK,GAAE9H,IAAIA,GAAGqF,EAAEuC,cAAcvC,EAAE0C,SAASlN,IAAEmN,GAAE,IAAI3I,IAA71C,mBAAs2C2I,GAAEC,sBAAsBnB,EAAEkB,GAAE1J,SAASqJ,EAAEK,GAAE7G,OAAOgG,EAAEa,GAAEvJ,aAAaiJ,EAAEM,GAAEE,kBAAkBd,EAAEY,GAAET,KAAKD,EAAEU,GAAEjI,KAAKyH,EAAEQ,GAAE3G,kBAAkBoG,EAAEO,GAAEnC,iBAAiBiC,GAAEE,KAA5/C,6C,sBAA2iD,SAASrI,EAAE7E,EAAET,GAAG,OAAOA,EAAEuJ,MAAM,SAAAvJ,GAAI,IAAMc,EAAEwJ,EAAEtK,GAAG,OAAOuE,YAAEzD,EAAEL,MAAM,SAAS0L,EAAE1L,GAAG,IAAWT,EAAwBS,EAA7BqN,KAAYhN,EAAiBL,EAAtBsN,KAAYxN,EAAUE,EAAfuN,KAAY5N,EAAGK,EAARwN,KAAU,gBAASjO,EAAT,YAAcc,EAAd,YAAmBP,EAAnB,YAAwBH,GAAI,SAAS8L,EAAEzL,GAAG,GAAGL,YAAEK,GAAG,OAAO,KAAK,IAAYT,EAASS,EAAfkL,MAAY7K,EAAGL,EAAPyN,IAAS,gBAAS5N,YAAEN,GAAGA,EAAEmO,cAAc,KAA9B,YAAsC7N,YAAEQ,GAAGA,EAAEqN,cAAc,MAAO,SAAS/B,EAAE3L,GAAG,OAAOL,YAAEK,KAAKA,GAAG,QAAQA,EAAE,KAAKA,EAAE,SAAS2E,EAAE3E,EAAET,GAAG,IAAxX,SAAWS,GAAG,OAAOH,YAAEG,IAAI,WAAWA,EAAEP,KAAoV+L,CAAExL,GAAG,OAAO,KAAK,IAAuBK,EAAGL,EAApB+K,iBAAsB,IAAI1K,GAAGA,EAAEkL,QAAQ,MAAM,CAACoC,KAAKjC,EAAE1L,IAAI,IAAMF,EAAE+E,EAAExE,EAAEd,GAAG,OAAOO,EAAE,CAAC6N,KAAKjC,EAAE1L,GAAG,WAAWF,GAAGO,EAAEyM,cAAc,CAACa,KAAKjC,EAAEzI,YAAEjD,EAAE8E,IAAEqF,SAAS,KAAK,SAAS/B,EAAEpI,EAAET,EAAEc,GAAG,OAAOL,EAAE8I,MAAM,SAAA9I,GAAC,OAAEA,EAAEiM,MAAM1M,GAAGS,EAAEP,OAAOY,MAAKL,EAAE8I,MAAM,SAAA9I,GAAC,OAAEA,EAAEiM,MAAM1M,IAAIS,EAAEP","file":"static/js/32.b23a7c6b.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/has.js\";import{clone as s}from\"../../../../core/lang.js\";import{queryCapabilities as e}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as p,defaultPolygonSymbolJSON as o}from\"../../../../symbols/support/defaultsJSON.js\";function u(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?p:o}}}function n(s,e){if(t(\"csp-restrictions\"))return()=>({[e]:null,...s});try{let t=`this.${e} = null;`;for(const e in s){t+=`this${e.indexOf(\".\")?`[\"${e}\"]`:`.${e}`} = ${JSON.stringify(s[e])};`}const r=new Function(t);return()=>new r}catch(r){return()=>({[e]:null,...s})}}function i(t={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:s(t)}}]}function a(t,s){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:s,supportsDelete:s,supportsEditing:s,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:s,supportsExceedsLimitStatistics:!0},query:e,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:s,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{a as createCapabilities,n as createDefaultAttributesFunction,i as createDefaultTemplate,u as createDrawingInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import t from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";const o={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function r(e){return o[e]}function*i(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*s(e){if(!e)return null;switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*c(e,o={}){const{geometryType:i,objectIdField:s}=o;for(const u of e){var c;const{geometry:e,properties:l,id:f}=u;if(e&&r(e.type)!==i)continue;const a=l||{};let y=null!=(c=a[s])?c:null;s&&null!=f&&!a[s]&&(a[s]=y=f);const d=new t(e?p(new n,e,o):null,a,null,y);yield d}}function u(e){for(const t of e)if(t.length>2)return!0;return!1}function l(e){return!a(e)}function f(e){return a(e)}function a(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function p(e,t,n){switch(t.type){case\"LineString\":return d(e,t,n);case\"MultiLineString\":return g(e,t,n);case\"MultiPoint\":return m(e,t,n);case\"MultiPolygon\":return h(e,t,n);case\"Point\":return w(e,t,n);case\"Polygon\":return P(e,t,n)}}function d(e,t,n){return S(e,t.coordinates,n),e}function g(e,t,n){for(const o of t.coordinates)S(e,o,n);return e}function m(e,t,n){return S(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates){b(e,o[0],n);for(let t=1;t<o.length;t++)j(e,o[t],n)}return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){const o=t.coordinates;b(e,o[0],n);for(let r=1;r<o.length;r++)j(e,o[r],n);return e}function b(e,t,n){const o=y(t);l(o)?F(e,o,n):S(e,o,n)}function j(e,t,n){const o=y(t);f(o)?F(e,o,n):S(e,o,n)}function S(e,t,n){for(const o of t)G(e,o,n);e.lengths.push(t.length)}function F(e,t,n){for(let o=t.length-1;o>=0;o--)G(e,t[o],n);e.lengths.push(t.length)}function G(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function M(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function I(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function T(e,t={}){const n=[],o=new Set,c=new Set;let l,f=!1,a=Number.NEGATIVE_INFINITY,y=null,p=!1,{geometryType:d=null}=t,g=!1;for(const h of i(e)){const{geometry:e,properties:t,id:i}=h;if(!e||(d||(d=r(e.type)),r(e.type)===d)){if(!f){f=u(s(e))}if(p||(p=null!=i,p&&(l=typeof i,\"number\"===l&&(y=Object.keys(t).filter((e=>t[e]===i))))),p&&\"number\"===l&&null!=i&&(a=Math.max(a,i),y.length>1?y=y.filter((e=>t[e]===i)):1===y.length&&(y=t[y[0]]===i?y:[])),!g&&t){let e=!0;for(const r in t){if(o.has(r))continue;const i=t[r];if(null==i){e=!1,c.add(r);continue}const s=M(i);\"unknown\"!==s?(c.delete(r),o.add(r),n.push({name:r,alias:r,type:s})):c.add(r)}g=e}}}const m=y&&1===y.length&&y[0]||null;if(m)for(const r of n)r.name===m&&(r.type=\"esriFieldTypeOID\");return{fields:n,geometryType:d,hasZ:f,maxObjectId:Math.max(0,a),objectIdFieldName:m,objectIdFieldType:l,unknownFields:Array.from(c)}}function k(e,t){return Array.from(c(i(e),t))}export{k as createOptimizedFeatures,r as getGeometryType,T as inferLayerProperties,I as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(){t=function(t,e){return new c(t,void 0,e)};var n=RegExp.prototype,o=new WeakMap;function c(t,e,n){var u=new RegExp(t,e);return o.set(u,n||o.get(t)),r(u,c.prototype)}function u(t,e){var r=o.get(e);return Object.keys(r).reduce((function(e,n){return e[n]=t[r[n]],e}),Object.create(null))}return e(c,RegExp),c.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=u(e,this)),e},c.prototype[Symbol.replace]=function(t,e){if(\"string\"==typeof e){var r=o.get(this);return n[Symbol.replace].call(this,t,e.replace(/\\$<([^>]+)>/g,(function(t,e){return\"$\"+r[e]})))}if(\"function\"==typeof e){var c=this;return n[Symbol.replace].call(this,t,(function(){var t=arguments;return\"object\"!=typeof t[t.length-1]&&(t=[].slice.call(t)).push(u(t,c)),e.apply(this,t)}))}return n[Symbol.replace].call(this,t,e)},t.apply(this,arguments)}function e(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}export{t as _};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/_rollupPluginBabelHelpers.js\";import\"../../geometry.js\";import t from\"../../request.js\";import i from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{isNone as r,unwrapOr as a,isSome as o}from\"../../core/maybe.js\";import{WGS84 as s,equals as l}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as c}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as d,convertToGeometry as u,convertFromGeometry as p}from\"../graphics/featureConversionUtils.js\";import m from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as f,inferLayerProperties as g,createOptimizedFeatures as y}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as w}from\"../graphics/sources/support/clientSideDefaults.js\";import h from\"../support/FieldsIndex.js\";import{kebabDict as b}from\"../support/fieldType.js\";import j from\"../../rest/support/FeatureSet.js\";import F from\"../../geometry/SpatialReference.js\";const I=n.getLogger(\"esri.layers.graphics.sources.ogcfeature\");async function T(e,n,a={},o=5){const{links:s}=e,l=$(s,\"items\",\"application/geo+json\")||$(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(r(l))throw new i(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:c}=await t(l.href,{signal:a.signal,query:{limit:o,...a.customParameters,token:a.apiKey},headers:{accept:\"application/geo+json\"}});await f(c);const d=g(c,{geometryType:n.geometryType}),u=n.fields||d.fields||[],p=null!=n.hasZ?n.hasZ:d.hasZ,m=d.geometryType,y=n.objectIdField||d.objectIdFieldName||\"OBJECTID\";let j=n.timeInfo;const F=u.find((e=>e.name===y));if(!F){if(!d.objectIdFieldType)throw new i(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");u.unshift({name:y,alias:y,type:\"esriFieldTypeOID\",editable:!1,nullable:!1})}else F.type=\"esriFieldTypeOID\",F.editable=!1,F.nullable=!1;if(y!==d.objectIdFieldName){const e=u.find((e=>e.name===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}if(!m)throw new i(\"ogc-feature-layer:missing-property\",\"geometryType not set and couldn't be inferred from the provided features\");u===d.fields&&d.unknownFields.length>0&&I.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const t of u){if(null==t.name&&(t.name=t.alias),null==t.alias&&(t.alias=t.name),\"esriFieldTypeOID\"!==t.type&&\"esriFieldTypeGlobalID\"!==t.type&&(t.editable=null==t.editable||!!t.editable,t.nullable=null==t.nullable||!!t.nullable),!t.name)throw new i(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:t});if(-1===b.jsonValues.indexOf(t.type))throw new i(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${t.name}\"`,{field:t})}if(j){const e=new h(u);if(j.startTimeField){const t=e.get(j.startTimeField);t?(j.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.startTimeField=null}if(j.endTimeField){const t=e.get(j.endTimeField);t?(j.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.endTimeField=null}if(j.trackIdField){const t=e.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,I.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(I.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:j}}),j=null)}return{drawingInfo:w(m),geometryType:m,fields:u,hasZ:!!p,objectIdField:y,timeInfo:j}}async function k(e,n={}){const{links:a}=e,o=$(a,\"data\",\"application/json\")||$(a,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(r(o))throw new i(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:l,signal:c}=n,{data:d}=await t(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function S(e,n={}){const{links:a}=e,o=$(a,\"conformance\",\"application/json\")||$(a,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(r(o))throw new i(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:l,signal:c}=n,{data:d}=await t(o.href,{signal:c,headers:{accept:\"application/json\"},query:{...l,token:s}});return d}async function x(e,i={}){const{apiKey:n,customParameters:r,signal:a}=i,{data:o}=await t(e,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:n}});return o}async function v(e,i={}){const n=\"application/vnd.oai.openapi+json;version=3.0\",a=$(e.links,\"service-desc\",n);if(r(a))return I.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:o,customParameters:s,signal:l}=i,{data:c}=await t(a.href,{signal:l,headers:{accept:n},query:{...s,token:o}});return c}function N(t){const i=e(/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(.*)\\/(.*)\\/(.*)$/i,{authority:1,version:2,code:3}).exec(t),n=null==i?void 0:i.groups;if(!n)return null;const{authority:r,code:a}=n;switch(r.toLowerCase()){case\"ogc\":switch(a.toLowerCase()){case\"crs27\":return F.GCS_NAD_1927;case\"crs83\":return new F({wkid:4269});case\"crs84\":case\"crs84h\":return F.WGS84;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(a,10);return Number.isNaN(e)?null:900913===e?F.WebMercator:new F({wkid:e})}default:return null}}async function q(e,t,i){const n=await M(e,t,i);return j.fromJSON(n)}async function M(e,t,i){const n=await O(e,t,i);return d(n)}async function O(e,n,o){const{capabilities:{query:{maxRecordCount:l}},collection:d,layerDefinition:f,queryParameters:{apiKey:g,customParameters:w},spatialReference:h,supportedCrs:b}=e,{links:j}=d,I=$(j,\"items\",\"application/geo+json\")||$(j,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(r(I))throw new i(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:T,num:k,start:S,timeExtent:x,where:v}=n;if(n.objectIds)throw new i(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const N=F.fromJSON(h),q=a(n.outSpatialReference,N),M=q.isWGS84?null:P(q,b),O=G(T,b),D=C(x),R=W(v),Z=null!=k?k:null!=S&&void 0!==S?10:l,{data:K}=await t(I.href,{...o,query:{...w,...O,crs:M,datetime:D,query:R,limit:Z,startindex:S,token:g},headers:{accept:\"application/geo+json\"}});let L=!1;if(K.links){L=!!K.links.find((e=>\"next\"===e.rel))}!L&&Number.isInteger(K.numberMatched)&&Number.isInteger(K.numberReturned)&&(L=K.numberReturned<K.numberMatched);const{fields:J,globalIdField:_,hasM:A,hasZ:E,objectIdField:U}=f,B=f.geometryType,z=y(K,{geometryType:B,hasZ:E,objectIdField:U});if(!M&&q.isWebMercator)for(const t of z)if(t.geometry){const e=u(t.geometry,B,E,!1);e.spatialReference=F.WGS84,t.geometry=p(c(e,q))}for(const t of z)t.objectId=t.attributes[U];const H=M||!M&&q.isWebMercator?q.toJSON():s,Q=new m;return Q.exceededTransferLimit=L,Q.features=z,Q.fields=J,Q.geometryType=B,Q.globalIdFieldName=_,Q.hasM=A,Q.hasZ=E,Q.objectIdFieldName=U,Q.spatialReference=H,Q}function D(e){return o(e)&&\"extent\"===e.type}function P(e,t){return t.find((t=>{const i=N(t);return l(i,e)}))}function R(e){const{xmin:t,ymin:i,xmax:n,ymax:r}=e;return`${t},${i},${n},${r}`}function C(e){if(r(e))return null;const{start:t,end:i}=e;return`${o(t)?t.toISOString():\"..\"}/${o(i)?i.toISOString():\"..\"}`}function W(e){return r(e)||!e||\"1=1\"===e?null:e}function G(e,t){if(!D(e))return null;const{spatialReference:i}=e;if(!i||i.isWGS84)return{bbox:R(e)};const n=P(i,t);return n?{bbox:R(e),\"bbox-crs\":n}:i.isWebMercator?{bbox:R(c(e,F.WGS84))}:null}function $(e,t,i){return e.find((e=>e.rel===t&&e.type===i))||e.find((e=>e.rel===t&&!e.type))}export{T as getCollectionDefinition,k as getServerCollections,S as getServerConformance,x as getServerLandingPage,v as getServerOpenApi,N as getSpatialReference,q as queryFeatureSet,M as queryFeatureSetJSON,O as queryOptimizedFeatureSet};\n"],"sourceRoot":""}