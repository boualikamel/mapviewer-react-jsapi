{"version":3,"sources":["../node_modules/@arcgis/core/widgets/AreaMeasurement2D/AreaMeasurement2DTool.js","../node_modules/@arcgis/core/widgets/AreaMeasurement2D/AreaMeasurement2DViewModel.js","../node_modules/@arcgis/core/widgets/AreaMeasurement2D.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/coordinateHelper.js","../node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","../node_modules/@arcgis/core/support/requestImageUtils.js","../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js","../node_modules/@arcgis/core/libs/basisu/BasisU.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassGeometryTest.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/views/interactive/snapping/Settings.js","../node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/IntersectionSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/ParallelSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/draw/DrawAction.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryHelper.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../node_modules/@arcgis/core/views/draw/input/DrawEvents.js","../node_modules/@arcgis/core/views/interactive/keybindings.js","../node_modules/@arcgis/core/chunks/MultipointDrawAction.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/sdfPrimitives.js","../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawTool.js","../node_modules/@arcgis/core/views/draw/PointDrawAction.js","../node_modules/@arcgis/core/views/draw/PolygonDrawAction.js","../node_modules/@arcgis/core/views/draw/PolylineDrawAction.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/draw/SegmentDrawAction.js","../node_modules/@arcgis/core/views/draw/Draw.js"],"names":["N","J","arguments","_drawActive","_handles","r","_graphicsLayer","k","_manipulatorLayer","_groupLayer","q","layers","listMode","visible","_vertices","geodesicDistanceThreshold","measurement","measurementLabel","D","then","e","messages","this","add","M","a","startToolCreation","detach","_draw","destroy","_set","reset","length","_startSketch","view","A","map","focus","m","_updateGraphics","X","v","w","finishToolCreation","remove","removeAll","_updateSketch","type","_updateCursor","create","mode","on","vertices","_stopSketch","manipulators","forEach","manipulator","interactive","complete","spatialReference","t","pop","manipulatorId","n","s","i","o","F","style","color","handleColor","size","handleWidth","outline","width","geometry","symbol","C","layer","graphic","focusedSymbol","K","I","x","y","palette","next","T","W","coord","push","findById","id","cursor","O","paths","isGeographic","j","L","g","B","WGS84","isWebMercator","p","u","fillGeometry","outlineGeometry","H","rings","l","d","S","G","f","_","area","perimeter","Q","c","h","Z","Y","unit","fillColor","pathColor","pathWidth","U","z","centroid","E","font","P","family","haloColor","haloSize","text","addMany","R","isWGS84","prototype","value","Number","readOnly","constructOnly","$","getLogger","supportedViewType","tool","isDisabled","b","active","_validateUnit","defaultUnit","_override","_clearOverride","_validateUnits","createTool","removeTool","toolConstructor","constructorArguments","error","unitOptions","indexOf","filter","slice","aliasOf","String","buttonDisabled","widgetIcon","base","container","hint","hintText","panelError","measurementItem","measurementItemDisabled","measurementItemTitle","measurementItemValue","settings","units","unitsLabel","unitsSelect","unitsSelectWrapper","actionSection","newMeasurementButton","iconClass","label","messagesUnits","viewModel","isSupported","state","key","class","unsupported","classes","for","onchange","_changeUnit","bind","systems","pluralCapitalized","disabled","onclick","_newMeasurement","title","newMeasurement","start","target","options","selectedIndex","source","overridable","left","right","index","component","_pos","unnormalizeVertexPositions","edges","data","coordinateHelper","unnormalize","swapVertices","undoStack","redoStack","components","lastOperation","accumulate","apply","undo","createPoint","pos","toArray","find","hasZ","hasM","isClosed","fromArray","fromPoint","xoffset","Math","max","abs","yoffset","stops","maxSize","minSize","floor","renderer","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","vertex","code","screenSizePerspective","screenSizePerspectiveAlignment","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","xmin","min","ymin","xmax","ymax","toMap","intersects","viewingMode","_unnormalizationInfo","tag","valueType","supported","upperBoundX","lowerBoundX","valid","signedDistanceFieldEnabled","include","output","fragment","varyings","binaryHighlightOcclusionEnabled","uniforms","screenSizePerspectiveEnabled","debugDrawBorder","attributes","vvSize","occlusionTestEnabled","pixelSnappingEnabled","vvColor","float","FrontFacePass","setUniform4fv","textureIsSignedDistanceField","outlineColor","outlineSize","setUniform1f","setUniform2f","screenOffset","setUniform2fv","anchorPos","distanceFieldBoundingBox","Object","freeze","__proto__","build","bindHUDMaterialUniforms","calculateAnchorPosForRendering","verticalOffsetEnabled","verticalOffset","camera","fovY","fullViewport","pixelRatio","setUniform4f","screenLength","perDistance","minWorldLength","maxWorldLength","tan","responseType","_visibilityHandles","fullExtent","operationalLayerType","_visibilityWatcher","_enforceVisibility","visibilityMode","watch","_visibleWatcher","webmap","getLayerJSONFromResourceInfo","layerType","_get","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","_turnOffOtherLayers","uid","initialized","getItemAt","_isAnyLayerVisible","some","json","read","write","ignoreOrigin","origins","constants","isDraped","screenCenterOffsetUnitsEnabled","renderTransparentlyOccludedHUD","default","locateFile","initializeBasis","ceil","getNumImages","isUASTC","getFaces","isETC1S","BasisFile","Uint8Array","startTranscoding","getNumLevels","getHasAlpha","getImageWidth","getImageHeight","getImageTranscodedSizeInBytes","transcodeImage","close","delete","KTX2File","getLevels","getWidth","getHeight","capabilities","compressedTextureETC","compressedTextureS3TC","hasMipmap","samplingMode","internalFormat","height","levels","charCodeAt","Int32Array","fromCharCode","warn","textureData","glTexture","powerOfTwoStretchInfo","loadingPromise","loadingController","events","params","mipmap","noUnpackFlip","preMultiplyAlpha","wrap","powerOfTwoResizeMode","estimatedTexMemRequired","estimateTexMemRequired","startPreload","HTMLVideoElement","startPreloadVideoElement","HTMLImageElement","startPreloadImageElement","src","preload","crossOrigin","pixelFormat","dataType","wrapMode","flipped","maxAnisotropy","parameters","maxMaxAnisotropy","createDescriptor","loadFromURL","Image","loadFromImageElement","loadFromVideoElement","ImageData","HTMLCanvasElement","loadFromImage","encoding","DDS_ENCODING","loadFromDDSData","KTX2_ENCODING","loadFromKTX2","BASIS_ENCODING","loadFromBasis","loadFromPixelData","readyState","currentTime","framebuffer","vao","sourceTexture","setData","drawStretchedTexture","descriptor","updateData","generateMipmap","loadAsync","signal","loadFromVideoElementAsync","removeEventListener","addEventListener","getDataDimensions","requiresPowerOfTwo","makePowerOfTwoTexture","gl","textureCoordinateScaleFactor","stretchToPowerOfTwo","colorTarget","depthStencilTarget","requiresFrameUpdates","dispose","detachColorTexture","bindFramebuffer","getViewport","setViewport","program","useProgram","bindTexture","bindVAO","setPipelineState","pipeline","drawArrays","abort","emit","videoWidth","videoHeight","byteLength","editGeometry","addedVertex","originalEdge","getLastVertex","splice","updateVertexIndex","addedVertices","operation","removedVertices","_textureIDs","Set","_textureRepository","textureRep","_textureId","textureId","_initTransparent","initTextureTransparent","_texture","_acquire","_textureNormal","normalTextureId","_textureEmissive","emissiveTextureId","_textureOcclusion","occlusionTextureId","_textureMetallicRoughness","metallicRoughnessTextureId","release","clear","_release","acquire","multipassGeometryEnabled","geometryLinearDepthTexture","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_renderOccluded","_color","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","applyProps","_updateQuadMaterial","_updateOutlineMaterial","recreateGeometry","_updateTransform","previous","center","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","addGeometry","get","createPolylineGeometry","object","computeScreenPixelSizeAt","transformation","exclusive","Uint16Array","transparent","writeDepth","polygonOffset","renderOccluded","setParameterValues","multipassTerrainEnabled","selectable","grabbable","dragging","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","elevationInfo","offset","_updateGraphicSymbol","action","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","_focused","originalPoint","clone","mapPoint","radiusPx","toScreen","renderSpatialReference","eye","nonNullable","main","selected","selectedOutline","hoverOutline","secondary","secondaryOutline","hoverSize","hoverColor","hoverOutlineColor","stagedColor","stagedOutlineColor","midpoint","fill","line","reshapeGraphics","transformGraphics","enabled","Boolean","lineSnapper","parallelLineSnapper","rightAngleSnapper","rightAngleTriangleSnapper","shortLineThreshold","distance","pointThreshold","intersectionParallelLineThreshold","parallelLineThreshold","touchSensitivityMultiplier","pointOnLineThreshold","orange","lineHintWidthReference","lineHintWidthTarget","lineHintFadedExtensions","parallelLineHintWidth","parallelLineHintLength","parallelLineHintOffset","rightAngleHintSize","rightAngleHintOutlineSize","range","step","toXYZ","renderCoordsHelper","toRenderCoords","intersectionPoint","lineStart","lineEnd","fadeLeft","fadeRight","point","previousVertex","centerVertex","nextVertex","getUniqueHints","visualizeIntersectionPoint","visualizeLine","visualizeParallelSign","visualizeRightAngleQuad","visualizePoint","graphicsLayer","_visualizeSnappingIndicator","toRgb","symbolLayers","enable","capStyle","joinStyle","miterLimit","anchorPoint","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","frame","markerGraphics","scaleSymbolsProportionally","respectFrame","rotation","placeOnEndPoints","undone","updatedVertices","canAccumulate","accumulateParams","helper","minNumberOfVertices","_removeVertex","removedVertex","_undoRemoveVertex","createdEdge","edge","createdVertex","lerp","createNew","unshift","dx","dy","dz","addDelta","move","planeType","_plane","_offsetPlane","_minDistance","_maxDistance","_initialize","_left","isOriginalDirection","_edgeDirection","_initializeNeighbors","_initializePlane","_initializeDistanceConstraints","_toXYZ","_computeNeighbor","end","direction","_passesBisectingAngleThreshold","_bisectVectorsPerpendicular","PI","_bisectDirection","_computeNormalDirection","requiresSplitEdgeLeft","_updateDistanceConstraint","requiresSplitEdgeRight","_updateIntersectDistanceConstraint","_pointInBasis2D","isFinite","copy","fromXYZ","getM","plane","_offset","_maybeEqualsVec3","_cloneNeighbor","origin","angle","accumulationType","rotate","axis1","factor1","factor2","axis2","scale","operations","closed","_geometry","_dirty","_listener","updateVertices","_minNumVerticesPerType","canUndo","redo","canRedo","toPoint","toPolyline","toPolygon","fromGeometry","vertexHandle","excludeFeature","visualizer","pointer","_hasZ","_cursorScreenPoint","_snappingTask","_stagedVertex","_stagedVertexUnsnapped","_lastVertexUnsnapped","_nativeEventHistory","interactiveUndoDisabled","history","redoHistory","snapToScene","defaultZ","_coordinateHelper","_snappingManager","snappingManager","_editGeometry","editGeometryType","_snappingGraphicsLayer","SNAPPING_GRAPHICS_LAYER_ID","internal","_snappingContext","_activeComponent","doneSnapping","_committedVertices","pointToArray","notifyChange","screenToMap","update","snap","sceneIntersectionHelper","intersectElevationFromScreen","getGeometryZValue","createDehydratedPoint","getCoordsFromScreenPoint","_addVertex","native","_completeDrawing","EventedAccessor","V","vertexIndex","defaultPrevented","coordinates","_popVertexOnPointerMove","_addVertexOnPointerUp","_activePointerId","_viewHandles","_undoRedoHandles","_addViewHandles","_addUndoRedoHandles","_removeViewHandles","_removeUndoRedoHandles","stopPropagation","TOOL","_shouldHandlePointerEvent","pointerId","_vertexAddHandler","_drawCompleteHandler","repeat","_isDuplicateOfLastVertex","_popCursorVertex","appendVertex","Event","getCoordsAndPointFromScreenPoint","_pushCursorVertex","promise","button","predicate","cancel","snappingContext","updatingHandles","frameTask","resourceController","scheduler","registerTask","SNAPPING","context","info","handle","originalPos","snapOrigin","mapStart","mapEnd","schedule","execute","addPromise","_ray","_externalResources","_isWorldDown","_start","_end","_width","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stippleIntegerRepeats","_stipplePattern","_stippleOffColor","_falloff","_extensionType","_laserlineStyle","_laserlineEnabled","_fadedExtensions","materialParameters","updateGeometry","attached","material","laserline","extensionType","Float32Array","worldUpAtPosition","updateMaterial","recreate","_laserlineAttached","stippleOffColor","stipplePattern","stippleIntegerRepeats","innerWidth","innerColor","falloff","geometries","updateLineSegmentFinite","updateLineSegmentInfinite","updateVertexAttributes","intersectsLine","c0","MAX_VALUE","elevationProvider","getElevation","getAltitude","ray","c1","frustum","getMutableAttribute","fadedExtensions","geometryVertexAttrsUpdated","_location","_direction","_length","projectToScreen","location","geometryRecords","unprojectFromScreen","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncVisible","_createOrDestroyResources","_createResources","_stage","removeAllGeometries","isPickable","updatePolicy","castShadow","createResources","cameraChanged","cameraHandle","setVisible","cachedResult","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","calculateOffsetRenderUnits","featureExpressionInfoContext","arcade","modules","arcadeUtils","executeFunction","func","unitInMeters","offsetElevationInfoUnits","createExecContext","sr","errorOncePerTick","updateExecContext","createFeature","setFromElevationInfo","sqrt","SQRT2","Array","isArray","shader","configuration","transparencyPassType","sdf","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","binaryHighlightOcclusion","vvInstancingEnabled","cullAboveGround","rctx","projectionMatrix","aboveGround","setUniformMatrix4fv","viewInverseTransposeMatrix","shaderPolygonOffset","nearFar","inverseViewport","hudVisibilityTexture","rebindTextures","polygonOffsetEnabled","depthEnabled","blending","depthTest","depthWrite","colorWrite","factor","count","me","techniqueConfig","centerOffsetUnits","occlusionTest","vvSizeEnabled","vvColorEnabled","intersectDrapedHudGeometry","intersectHudGeometry","vertexAttributes","le","screenToWorldRatio","fe","pe","selectionMode","hud","re","viewMatrix","oe","ee","normalAndViewAngle","ce","applyVerticalOffsetTransformationView","applyProjection","te","factorAlignment","ue","se","ae","unprojectFromRenderScreen","indices","ge","ne","normal","cosAngle","ie","he","minPixelSize","paddingPixels","applyVerticalGroundOffsetView","applyPolygonOffsetView","applyCenterOffsetView","applyCenterOffsetNDC","applyPolygonOffsetNDC","viewport","computeRenderPixelSizeAtDist","updateScaleInfo","fullWidth","fullHeight","updateParameters","_material","drawInSecondSlot","updateTexture","selectProgram","_technique","_techniqueRep","releaseAndAcquire","getTechniqueConfig","_output","bindTextures","bindTextureScale","bindPass","_isOcclusionSlot","_occlusionTechnique","technique","texCoordScale","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorValues","vvColorColors","de","vec3f","vec2f","vec4u8","vec4f","vertexBufferLayout","createBuffer","position","invTranspTransformation","uv0","set","auxpos1","auxpos2","_pixelSnappingEnabled","_primitive","_elevationInfo","resources","console","preferredTextureSize","updateSizeAttribute","texture","geometrySize","createRenderGeometry","createTexture","fromElevationInfo","createPointGeometry","primitive","toUnitRGBA","createLineSegmentHintFromMap","setDirectionFromPoints","outlineRenderOccluded","createLineSegmentHint","grabbableForEvent","_manipulator","snapToSceneEnabled","_snappingPipeline","_createOperationCompleted","_pointerDownStates","updating","effectiveEnabled","_frameTask","geometryType","componentIndex","added","updated","removed","drawingMode","_snappingEnabled","createManipulatorDragPipeline","_closeOnClickVertexIndex","screenPoint","discardStagedVertex","_screenToMap","hasStagedVertex","commitStagedVertex","createManipulatorDragPipelineClick","createManipulatorDragPipelineFreehand","createManipulatorDragPipelineHybrid","isCompleted","_screenToMapDragEventStep","stagedVertex","numVertices","createSnapDragEventPipelineStep","_onPointerMove","_onHold","aborted","committedVertices","has","grabbing","screenStart","screenEnd","_getDrawSurface","mapToScreen","elevationDrawSurface","getZ","sceneDrawSurface","_mapToScreen","_vertexWithinPointerDistance","EventedMixin","excludeGraphics","exclude","drawOperation","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","onInputEvent","_addDrawTool","_removeDrawTool","replacement","version","_drawTool","completeCreateOperation","toolViewManager","tools","activeTool","getVertexCoords","_panEnabled","_dragEnabled","_clickEnabled","mapToLocal","transform","transformInv","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","referenceMapPoint","viewRight","worldBasisAtPosition","fromRenderCoords","_isDragging","viewAlignedCoordinateSystem","_getClickModeViewHandles","_getDragModeViewHandles","_resetGeometry","activeAction"],"mappings":"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","file":"static/js/58.b1561157.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../intl.js\";import\"../../symbols.js\";import r from\"../../core/Handles.js\";import{formatDecimal as s,formatImperialArea as i,formatMetricArea as o,formatImperialLength as a,formatMetricLength as n}from\"../../core/unitFormatUtils.js\";import{convertUnit as l}from\"../../core/unitUtils.js\";import{init as m}from\"../../core/watchUtils.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{geodesicDensify as p,planarLength as u,simplify as d,geodesicLength as y,geodesicArea as f,planarArea as _}from\"../../geometry/geometryEngine.js\";import{isLoaded as v,load as w,project as g,isSupported as b}from\"../../geometry/projection.js\";import{isSupported as j,geodesicDensify as L,geodesicLengths as S,geodesicAreas as G}from\"../../geometry/support/geodesicUtils.js\";import k from\"../../layers/GraphicsLayer.js\";import q from\"../../layers/GroupLayer.js\";import A from\"../../views/draw/Draw.js\";import{createManipulatorDragEventPipeline as x,screenToMap as T,dragGraphic as W}from\"../../views/interactive/dragEventPipeline.js\";import{GraphicManipulator as C}from\"../../views/interactive/GraphicManipulator.js\";import{InteractiveToolBase as R}from\"../../views/interactive/InteractiveToolBase.js\";import{fetchMessageBundle as D}from\"../../intl/messages.js\";import{onLocaleChange as M}from\"../../intl/locale.js\";import I from\"../../geometry/Point.js\";import U from\"../../symbols/SimpleFillSymbol.js\";import z from\"../../symbols/SimpleLineSymbol.js\";import E from\"../../symbols/TextSymbol.js\";import P from\"../../symbols/Font.js\";import F from\"../../symbols/SimpleMarkerSymbol.js\";import O from\"../../geometry/Polyline.js\";import B from\"../../geometry/SpatialReference.js\";import H from\"../../geometry/Polygon.js\";const N=1e5;let J=class extends R{constructor(){super(...arguments),this._drawActive=!1,this._handles=new r,this._graphicsLayer=new k,this._manipulatorLayer=new k,this._groupLayer=new q({layers:[this._graphicsLayer,this._manipulatorLayer],listMode:\"hide\",visible:!1}),this._vertices=[],this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null}initialize(){D(\"esri/core/t9n/Units\").then((e=>{this.messages=e})),this._handles.add(M((async()=>{this.messages=await D(\"esri/core/t9n/Units\")}))),this.startToolCreation()}destroy(){this.detach(),this._draw&&(this._draw.destroy(),this._draw=null),this._handles&&(this._handles.destroy(),this._handles=null),this._graphicsLayer&&(this._graphicsLayer.destroy(),this._graphicsLayer=null),this._manipulatorLayer&&(this._manipulatorLayer.destroy(),this._manipulatorLayer=null)}set editable(e){this._set(\"editable\",e),e||this._draw.reset()}activate(){this._drawActive||0!==this._vertices.length||this._startSketch()}onAttach(){const e=this.view;this._draw=new A({view:e}),e.map.add(this._groupLayer),e.focus(),this._handles.add([m(this,[\"unit\",\"geodesicDistanceThreshold\",\"palette\",\"messages\"],(()=>{this._vertices.length>0&&this._updateGraphics()})),m(this,\"view.spatialReference\",(e=>{X(e)&&!v()&&w()}))]),this.finishToolCreation()}onDetach(){const{map:e}=this.view;this._draw.view=null,this._draw.destroy(),this._draw=null,e.remove(this._groupLayer),this._handles.removeAll(),this._graphicsLayer.removeAll(),this._manipulatorLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null)}onShow(){this._groupLayer.visible=!0}onHide(){this._groupLayer.visible=!1}reset(){this._vertices=[],this._graphicsLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null),this._draw.reset(),this._drawActive=!1,this._updateSketch([])}onInputEvent(e){\"pointer-move\"===e.type&&this._updateCursor()}_startSketch(){this._drawActive=!0;const e=this._draw.create(\"polyline\",{mode:\"click\"});e.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\",\"cursor-update\",\"undo\",\"redo\"],(e=>this._updateSketch(e.vertices))),e.on(\"draw-complete\",(()=>this._stopSketch()))}_stopSketch(){if(this._vertices.length<3)return this.reset(),void this._startSketch();this.manipulators.forEach((e=>{e.manipulator.interactive=!0})),this._drawActive=!1,this.complete()}_updateSketch(e){if(X(this.view.spatialReference)&&!v())return;if(e.length<2)return this._vertices=[],this.manipulators.removeAll(),void this._graphicsLayer.removeAll();this.finishToolCreation();const t=this.view.spatialReference;for(;this._vertices.length>e.length;){const{manipulatorId:e}=this._vertices.pop();this.manipulators.remove(e)}for(let n=this._vertices.length;n<e.length;n++){const[r,s]=e[n],i=K(new I({x:r,y:s,spatialReference:t}),this.view,this._manipulatorLayer,this.palette),o=this.manipulators.add(i);x(i,((e,t)=>{t.next(T(this.view)).next(W(e.graphic,2)).next((()=>{const t=e.graphic.geometry;this._vertices[n].coord=[t.x,t.y],this._updateGraphics()}))})),this._vertices.push({manipulatorId:o,coord:[r,s]})}const r=this._vertices.length-1,s=this._vertices[r],[i,o]=e[r];if(s.coord[0]!==i||s.coord[1]!==o){s.coord=[i,o];const e=new I({x:i,y:o,spatialReference:t});this.manipulators.findById(s.manipulatorId).graphic.geometry=e}const a=this._drawActive?this._vertices[r].manipulatorId:null;this.manipulators.forEach((e=>{e.manipulator.interactive=null==a||e.id!==a})),this._updateGraphics()}_updateCursor(){this.cursor=this._drawActive?\"crosshair\":null}_updateGraphics(){this._graphicsLayer.removeAll();const e=Q(this._vertices.map((e=>e.coord)),this.view.spatialReference,this.geodesicDistanceThreshold);if(!e)return;const{measurement:r,fillGeometry:s,outlineGeometry:i}=e;this._set(\"measurement\",r);const o=r?Y(this.messages,r,this.unit):null;if(this._set(\"measurementLabel\",o),!s&&!i)return;const{fillColor:a,pathColor:n,pathWidth:l}=this.palette,m=[];s&&m.push(new t({geometry:s,symbol:new U({color:a,outline:new z({width:0})})})),i&&m.push(new t({geometry:i,symbol:new z({color:n,width:l})})),s&&o&&m.push(new t({geometry:s.centroid,symbol:new E({color:[255,255,255,1],font:new P({size:14,family:\"sans-serif\"}),haloColor:[0,0,0,.5],haloSize:2,text:o.area})})),this._graphicsLayer.addMany(m)}};function K(e,r,s,i){const o=new F({style:\"circle\",color:i.handleColor,size:i.handleWidth,outline:{type:\"simple-line\",width:0}}),a=new F({style:\"circle\",color:i.handleColor,size:1.5*i.handleWidth,outline:{type:\"simple-line\",width:0}}),n=new t({geometry:e,symbol:o});return new C({view:r,layer:s,graphic:n,focusedSymbol:a})}function Q(e,t,r){if(2===e.length){const s=new O({paths:e,spatialReference:t});let i;if(t.isGeographic)if(j(t))i=L(s,N);else{const e=g(s,B.WGS84),r=L(e,N);i=g(r,t)}else if(t.isWebMercator)i=p(s,N,\"meters\");else{if(u(s,\"meters\")>=r){const e=g(s,B.WGS84),r=L(e,N);i=g(r,t)}else i=s}return{measurement:null,fillGeometry:null,outlineGeometry:i}}e.push(e[0]);const s=new O({paths:[e],spatialReference:t}),i=new H({rings:[e],spatialReference:t});let o,a,n=null,l=null;if(t.isGeographic)if(j(t)){if(n=L(s,N),l=L(i,N),l=d(l),!l)return null;o=S([s],\"meters\")[0],a=G([l],\"square-meters\")[0]}else{const e=B.WGS84,r=g(s,e),m=g(i,e);if(n=L(r,N),l=L(m,N),l=d(l),!l)return null;o=S([r],\"meters\")[0],a=G([l],\"square-meters\")[0],n=g(n,t),l=g(l,t)}else if(t.isWebMercator){if(n=p(s,N,\"meters\"),l=p(i,N,\"meters\"),l=d(l),!l)return null;o=y(s,\"meters\"),a=f(l,\"square-meters\")}else{const e=u(s,\"meters\");if(e>=r){const e=B.WGS84,r=g(s,e),m=g(i,e);if(n=L(r,N),l=L(m,N),l=d(l),!l)return null;o=S([r],\"meters\")[0],a=G([l],\"square-meters\")[0],n=g(n,t),l=g(l,t)}else{if(n=s,l=d(i),!l)return null;o=e,a=_(l,\"square-meters\")}}return{measurement:{geometry:l,area:a,perimeter:o},fillGeometry:l,outlineGeometry:n}}function V(e){return null!=e&&(!X(e)||b())}function X(e){if(!e)return!1;const{isGeographic:t,isWebMercator:r,isWGS84:s}=e;return t&&!s&&!j(e)||!t&&!r}function Y(e,t,r){if(!t||!e)return null;const m={area:null,perimeter:null},{area:c,perimeter:h}=t;switch(r){case\"metric\":m.area=o(e,c,\"square-meters\");break;case\"imperial\":m.area=i(e,c,\"square-meters\");break;default:{const t=l(c,\"square-meters\",r);m.area=s(e,t,r);break}}const p=Z(r);if(p)switch(p){case\"metric\":m.perimeter=n(e,h,\"meters\");break;case\"imperial\":m.perimeter=a(e,h,\"meters\");break;default:{const t=l(h,\"meters\",p);m.perimeter=s(e,t,p);break}}else m.perimeter=\"\";return m}function Z(e){switch(e){case\"metric\":return\"metric\";case\"imperial\":return\"imperial\";case\"square-inches\":return\"inches\";case\"square-feet\":return\"feet\";case\"square-yards\":return\"yards\";case\"square-miles\":return\"miles\";case\"square-us-feet\":return\"us-feet\";case\"square-meters\":return\"meters\";case\"square-kilometers\":return\"kilometers\";case\"acres\":return\"imperial\";case\"ares\":case\"hectares\":return\"metric\";case\"square-millimeters\":return\"millimeters\";case\"square-centimeters\":return\"centimeters\";case\"square-decimeters\":return\"decimeters\";default:return null}}e([c()],J.prototype,\"cursor\",void 0),e([c({value:!0})],J.prototype,\"editable\",null),e([c({type:Number})],J.prototype,\"geodesicDistanceThreshold\",void 0),e([c({readOnly:!0})],J.prototype,\"measurement\",void 0),e([c({readOnly:!0})],J.prototype,\"measurementLabel\",void 0),e([c()],J.prototype,\"messages\",void 0),e([c()],J.prototype,\"palette\",void 0),e([c()],J.prototype,\"unit\",void 0),e([c({constructOnly:!0})],J.prototype,\"view\",void 0),J=e([h(\"esri.widgets.AreaMeasurement2D.AreaMeasurement2DTool\")],J);var $=J;export default $;export{Q as createAreaMeasurementInfo2D,Y as createAreaMeasurementLabel,V as isSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Handles.js\";import r from\"../../core/Logger.js\";import{measurementAreaUnits as o}from\"../../core/unitUtils.js\";import{init as i}from\"../../core/watchUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as a}from\"../../properties/defaultUnit.js\";import l,{isSupported as d}from\"./AreaMeasurement2DTool.js\";import{InteractiveToolViewModel as p}from\"../support/InteractiveToolViewModel.js\";const u={handleWidth:8,handleColor:[255,128,0,.5],pathWidth:2,pathColor:[255,128,0,1],fillColor:[255,128,0,.3]},h=r.getLogger(\"esri.widgets.AreaMeasurement2D.AreaMeasurement2DViewModel\");let m=class extends p{constructor(e){super(e),this.supportedViewType=\"2d\",this._handles=new t,this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null,this.palette=u,this.tool=null}initialize(){this._handles.add([i(this,[\"unit\",\"palette\",\"geodesicDistanceThreshold\"],((e,t,r)=>{this.tool&&(this.tool[r]=e)}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}get state(){var e;return this.isDisabled?\"disabled\":d(null==(e=this.view)?void 0:e.spatialReference)?this.tool&&this.tool.measurement?this.tool.active?\"measuring\":\"measured\":\"ready\":\"disabled\"}get unit(){return this._validateUnit(this.defaultUnit)}set unit(e){void 0!==e?this._override(\"unit\",this._validateUnit(e)):this._clearOverride(\"unit\")}get unitOptions(){return o}set unitOptions(e){void 0!==e?this._override(\"unitOptions\",this._validateUnits(e)):this._clearOverride(\"unitOptions\")}start(){return this.createTool()}clear(){this.removeTool()}createToolParams(){return{toolConstructor:l,constructorArguments:()=>({geodesicDistanceThreshold:this.geodesicDistanceThreshold,palette:this.palette,unit:this.unit})}}logUnsupportedError(){h.error(\"AreaMeasurement2D widget is not implemented for SceneView\")}logError(...e){h.error(...e)}_validateUnit(e){return-1!==this.unitOptions.indexOf(e)?e:-1!==this.unitOptions.indexOf(this.defaultUnit)?this.defaultUnit:this.unitOptions[0]}_validateUnits(e=[]){const t=e.filter((e=>-1!==o.indexOf(e)));return 0===t.length?o.slice():t}};e([s(a)],m.prototype,\"defaultUnit\",void 0),e([s({type:Number})],m.prototype,\"geodesicDistanceThreshold\",void 0),e([s({readOnly:!0,aliasOf:\"tool.measurement\"})],m.prototype,\"measurement\",void 0),e([s({readOnly:!0,aliasOf:\"tool.measurementLabel\"})],m.prototype,\"measurementLabel\",void 0),e([s()],m.prototype,\"palette\",void 0),e([s({readOnly:!0})],m.prototype,\"state\",null),e([s({constructOnly:!0,readOnly:!0})],m.prototype,\"tool\",void 0),e([s({type:String})],m.prototype,\"unit\",null),e([s({type:[String]})],m.prototype,\"unitOptions\",null),m=e([n(\"esri.widgets.AreaMeasurement2D.AreaMeasurement2DViewModel\")],m);var c=m;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{isMeasurementSystem as s}from\"../core/unitUtils.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"./Widget.js\";import o from\"./AreaMeasurement2D/AreaMeasurement2DViewModel.js\";import{accessibleHandler as l}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as u}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";const p=\"esri-area-measurement-2d\",c={buttonDisabled:\"esri-button--disabled\",widgetIcon:\"esri-icon-measure-area\",base:`${p} esri-widget esri-widget--panel`,container:`${p}__container`,hint:`${p}__hint`,hintText:`${p}__hint-text`,panelError:`${p}__panel--error`,measurement:`${p}__measurement`,measurementItem:`${p}__measurement-item`,measurementItemDisabled:`${p}__measurement-item--disabled`,measurementItemTitle:`${p}__measurement-item-title`,measurementItemValue:`${p}__measurement-item-value`,settings:`${p}__settings`,units:`${p}__units`,unitsLabel:`${p}__units-label`,unitsSelect:`${p}__units-select esri-select`,unitsSelectWrapper:`${p}__units-select-wrapper`,actionSection:`${p}__actions`,newMeasurementButton:`${p}__clear-button esri-button esri-button--primary`};let d=class extends a{constructor(e,t){super(e,t),this.active=null,this.iconClass=c.widgetIcon,this.label=void 0,this.messages=null,this.messagesUnits=null,this.unit=null,this.unitOptions=null,this.view=null,this.viewModel=new o}render(){const{id:e,viewModel:t,visible:i}=this,{active:r,isSupported:n,measurementLabel:a,state:o,unit:l,unitOptions:u}=t,p=\"disabled\"===o,d=\"ready\"===o,v=\"measuring\"===o||\"measured\"===o,{messages:_,messagesUnits:b}=this,h=r&&d?m(\"section\",{key:\"hint\",class:c.hint},m(\"p\",{class:c.hintText},_.hint)):null,w=n?null:m(\"section\",{key:\"unsupported\",class:c.panelError},m(\"p\",null,_.unsupported)),g=(e,t,s)=>t?m(\"div\",{key:`${s}-enabled`,class:c.measurementItem},m(\"span\",{class:c.measurementItemTitle},e),m(\"span\",{class:c.measurementItemValue},t)):m(\"div\",{key:`${s}-disabled`,class:this.classes(c.measurementItem,c.measurementItemDisabled),\"aria-disabled\":\"true\"},m(\"span\",{class:c.measurementItemTitle},e)),y=v?m(\"section\",{key:\"measurement\",class:c.measurement},g(_.area,a.area,\"area\"),g(_.perimeter,a.perimeter,\"perimeter\")):null,M=`${e}__units`,$=m(\"section\",{key:\"units\",class:c.units},m(\"label\",{class:c.unitsLabel,for:M},_.unit),m(\"div\",{class:c.unitsSelectWrapper},m(\"select\",{class:c.unitsSelect,id:M,onchange:this._changeUnit,bind:this,value:l},u.map((e=>{var t;return m(\"option\",{key:e,value:e},s(e)?b.systems[e]:null==(t=b.units[e])?void 0:t.pluralCapitalized)}))))),j=v?m(\"div\",{key:\"settings\",class:c.settings},$):null,f=!n||r&&!v?null:m(\"div\",{class:c.actionSection},m(\"button\",{disabled:p,class:this.classes(c.newMeasurementButton,p&&c.buttonDisabled),bind:this,onclick:this._newMeasurement,title:_.newMeasurement,type:\"button\",\"aria-label\":_.newMeasurement},_.newMeasurement)),I=i?m(\"div\",{class:c.container},w,h,j,y,f):null;return m(\"div\",{class:c.base},I)}_newMeasurement(){t(this.viewModel.start())}_changeUnit(e){const t=e.target,s=t.options[t.selectedIndex];s&&(this.viewModel.unit=s.value)}};e([i(\"viewModel.active\")],d.prototype,\"active\",void 0),e([r()],d.prototype,\"iconClass\",void 0),e([r({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],d.prototype,\"label\",void 0),e([r()],d.prototype,\"localeStrings\",void 0),e([r(),u(\"esri/widgets/AreaMeasurement2D/t9n/AreaMeasurement2D\")],d.prototype,\"messages\",void 0),e([r(),u(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([i(\"viewModel.unit\")],d.prototype,\"unit\",void 0),e([i(\"viewModel.unitOptions\")],d.prototype,\"unitOptions\",void 0),e([i(\"viewModel.view\")],d.prototype,\"view\",void 0),e([r({type:o})],d.prototype,\"viewModel\",void 0),e([i(\"viewModel.visible\")],d.prototype,\"visible\",void 0),e([l()],d.prototype,\"_newMeasurement\",null),e([l()],d.prototype,\"_changeUnit\",null),d=e([n(\"esri.widgets.AreaMeasurement2D\")],d);var v=d;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../core/arrayUtils.js\";import e from\"../../../core/Evented.js\";import{isSome as s,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../geometry/Polygon.js\";import n from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";class h{constructor(t){this.left=null,this.right=null,this.type=\"vertex\",this.index=null,this.component=t}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}}class c{constructor(t,e,s){this.type=\"edge\",this.component=t,this.left=e,this.right=s,e.right=this,s.left=this}}class l{constructor(t){this.vertices=[],this.edges=[],this.data=t}unnormalizeVertexPositions(){this.vertices.length<=1||this.data.coordinateHelper.unnormalize(this.vertices)}updateVertexIndex(t,e){if(0===this.vertices.length)return;const s=this.vertices[0];let r=null,i=t,n=e;do{r=i,r.index=n++,i=r.right?r.right.right:null}while(null!=i&&i!==s);r.left&&r!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(r),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].left}swapVertices(t,e){const s=this.vertices[t];this.vertices[t]=this.vertices[e],this.vertices[e]=s}iterateVertices(t){if(0===this.vertices.length)return;const e=this.vertices[0];let r=e;do{t(r,r.index),r=s(r.right)?r.right.right:null}while(r!==e&&null!=r)}}class a extends e{constructor(t){super(),this.coordinateHelper=t,this.undoStack=[],this.redoStack=[],this.components=[]}apply(t,e=1){return 0!==e&&!r(this.lastOperation)&&this.lastOperation.accumulate(t)||(t.apply(),this.undoStack.push(t),this.redoStack=[]),t}undo(){if(this.undoStack.length>0){const t=this.undoStack.pop();return t.undo(),this.redoStack.push(t),t}return null}get canUndo(){return this.undoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}redo(){if(this.redoStack.length>0){const t=this.redoStack.pop();return t.apply(),this.undoStack.push(t),t}return null}get canRedo(){return this.redoStack.length>0}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)}toPolyline(){const t=[],e=this.coordinateHelper.toArray;return this.components.forEach(((s,r)=>{const i=[];let n=s.vertices.find((t=>null==t.left));const o=n;do{i.push(e(n.pos)),n=n.right?n.right.right:null}while(n&&n!==o);t.push(i)})),new n({paths:t,spatialReference:this.coordinateHelper.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}toPolygon(){const t=[],e=this.coordinateHelper.toArray;return this.components.forEach(((r,i)=>{const n=[],o=r.vertices[0];let h=o;const c=h;do{n.push(e(h.pos)),h=s(h.right)?h.right.right:null}while(h&&h!==c);r.isClosed()&&n.push(e(o.pos)),t.push(n)})),new i({rings:t,spatialReference:this.coordinateHelper.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(e,s){const r=o(e.hasZ,e.hasM,e.spatialReference,s),i=new a(r);switch(e.type){case\"polygon\":{const s=e.rings;for(let e=0;e<s.length;++e){const n=s[e],o=new l(i),a=n.length>2&&t(n[0],n[n.length-1]),p=a?n.length-1:n.length;for(let t=0;t<p;++t){const e=r.fromArray(n[t]),s=new h(o);o.vertices.push(s),s.pos=e,s.index=t}const u=o.vertices.length-1;for(let t=0;t<u;++t){const e=o.vertices[t],s=o.vertices[t+1],r=new c(o,e,s);o.edges.push(r)}if(a){const t=new c(o,o.vertices[o.vertices.length-1],o.vertices[0]);o.edges.push(t)}i.components.push(o)}}break;case\"polyline\":for(const t of e.paths){const e=new l(i),s=t.length;for(let i=0;i<s;++i){const s=r.fromArray(t[i]),n=new h(e);e.vertices.push(n),n.pos=s,n.index=i}const n=e.vertices.length-1;for(let t=0;t<n;++t){const s=e.vertices[t],r=e.vertices[t+1],i=new c(e,s,r);e.edges.push(i)}i.components.push(e)}break;case\"point\":{const t=new l(i),s=new h(t);s.index=0,s.pos=i.coordinateHelper.fromPoint(e),t.vertices.push(s),i.components.push(t)}}return i}}export{l as Component,c as Edge,a as EditGeometry,h as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{bindScreenSizePerspective as a}from\"../../../materials/internal/MaterialUtil.js\";function r(a){a.vertex.code.add(e`float screenSizePerspectiveMinSize(float size, vec4 factor) {\nfloat nonZeroSize = 1.0 - step(size, 0.0);\nreturn (\nfactor.z * (\n1.0 +\nnonZeroSize *\n2.0 * factor.w / (\nsize + (1.0 - nonZeroSize)\n)\n)\n);\n}`),a.vertex.code.add(e`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`),a.vertex.code.add(e`vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\nreturn vec4(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z,\nparams.w\n);\n}`),a.vertex.code.add(e`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\nreturn max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n}`),a.vertex.code.add(e`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`),a.vertex.code.add(e`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\nreturn mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n}`),a.vertex.code.add(e`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`)}function c(e,r){if(r.screenSizePerspective){a(r.screenSizePerspective,e,\"screenSizePerspective\");const c=r.screenSizePerspectiveAlignment||r.screenSizePerspective;a(c,e,\"screenSizePerspectiveAlignment\")}}export{r as ScreenSizePerspective,c as bindScreenSizePerspectiveUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as e,m as t,a as r,b as a,h as n,p as s,r as i,d as o}from\"../../chunks/vec2.js\";import{a as u,f as h,d as p}from\"../../chunks/vec2f64.js\";import{i as c,g as l,e as f}from\"../../chunks/vec3.js\";import{f as y,c as m,d}from\"../../chunks/vec3f64.js\";import{c as v,l as g}from\"../../chunks/vec4.js\";import{c as R,f as z,b as x}from\"../../chunks/vec4f64.js\";import T from\"../../geometry/Point.js\";import{getInfo as Z}from\"../../geometry/support/spatialReferenceUtils.js\";const w=u();class M{constructor(e,t){this.spatialReference=e,this.viewingMode=t,this._unnormalizationInfo=B(e,t)}tag(e){return e}createNew(){return this.tag(u())}fromPoint(e){return this.tag(h(e.x,e.y))}fromArray(e){return this.tag(h(e[0],e[1]))}toArray(e){return[e[0],e[1]]}clone(e){return this.tag(p(e))}copy(t,r){return e(r,t)}toPoint(e,t){return t.x=e[0],t.y=e[1],t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,r,a,n){return t(n,e,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return[e.x,e.y]}getZ(e,t){return t}hasZ(){return!1}getM(e,t){return t}hasM(){return!1}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e){return this.tag(h(e[0],e[1]))}toXYZ(e,t=0){return y(e[0],e[1],t)}distance(e,t){return o(e,t)}}class P{constructor(e,t,r){this.valueType=e,this.spatialReference=t,this._unnormalizationInfo=B(t,r)}distance(e,t){return 0===this.valueType?c(e,t):o(e,t)}tag(e){return e}createNew(){return this.tag(m())}fromPoint(e){return this.tag(y(e.x,e.y,0===this.valueType?e.z:e.m))}fromArray(e){return this.tag(y(e[0],e[1],e[2]||0))}toArray(e){return[e[0],e[1],e[2]]}clone(e){return this.tag(d(e))}copy(e,t){return l(t,e)}toPoint(e,t){return t.x=e[0],t.y=e[1],0===this.valueType?(t.z=e[2],t.hasZ=!0,t.hasM=!1):(t.m=e[2],t.hasZ=!1,t.hasM=!0),t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){const t=0===this.valueType,r=1===this.valueType;return{x:e[0],y:e[1],z:t?e[2]:void 0,m:r?e[2]:void 0,hasZ:t,hasM:r,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return f(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,0===this.valueType&&(e[2]+=a)}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}getZ(e,t){return 0===this.valueType?e[2]:t}hasZ(){return 0===this.valueType}getM(e,t){return 1===this.valueType?e[2]:t}hasM(){return 1===this.valueType}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(y(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:r))}toXYZ(e,t=0){return this.tag(y(e[0],e[1],0===this.valueType?e[2]:t))}}class X{constructor(e,t){this.spatialReference=e,this._unnormalizationInfo=B(e,t)}distance(e,t){return c(e,t)}tag(e){return e}createNew(){return this.tag(R())}fromPoint(e){return this.tag(z(e.x,e.y,e.z,e.m))}fromArray(e){return this.tag(z(e[0],e[1],e[2]||0,e[3]||0))}toArray(e){return[e[0],e[1],e[2],e[3]]}clone(e){return this.tag(x(e))}copy(e,t){return v(t,e)}toPoint(e,t){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:e[2],m:e[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return g(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return[e.x,e.y,e.z,e.m]}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(z(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e){return y(e[0],e[1],e[2])}}function A(e,t,r,a){return e&&t?new X(r,a):t?new P(1,r,a):e?new P(0,r,a):new M(r,a)}function j(e,t){if(!t.supported)return;let r=1/0,a=-1/0;const n=t.upperBoundX-t.lowerBoundX;e.forEach((e=>{let s=e.pos[0];for(;s<t.lowerBoundX;)s+=n;for(;s>t.upperBoundX;)s-=n;r=Math.min(r,s),a=Math.max(a,s),e.pos[0]=s}));const s=a-r;n-s<s&&e.forEach((e=>{e.pos[0]<0&&(e.pos[0]+=n)}))}function B(e,t){const r=Z(e);return\"global\"===t&&r?{supported:!0,lowerBoundX:r.valid[0],upperBoundX:r.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{M as CoordinateHelper2D,P as CoordinateHelper3D,X as CoordinateHelper4D,A as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec2.js\";import{a as o}from\"./vec2f64.js\";import{Z as i}from\"./vec4f64.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{AlignPixel as l}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{HUD as t}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusionPass as a}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{OutputHighlight as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as c,defaultMaskAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as u}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{RgbaFloatEncoding as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{ScreenSizePerspective as f}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as g}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function m(e){const o=new g,i=e.signedDistanceFieldEnabled;if(o.include(l),o.include(t,e),o.include(r,e),6===e.output)return o.include(a,e),o;o.include(f),o.fragment.include(v),o.fragment.include(u),o.include(n,e),o.varyings.add(\"vcolor\",\"vec4\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vsize\",\"vec2\"),e.binaryHighlightOcclusionEnabled&&o.varyings.add(\"voccluded\",\"float\"),o.vertex.uniforms.add(\"screenOffset\",\"vec2\").add(\"anchorPos\",\"vec2\").add(\"textureCoordinateScaleFactor\",\"vec2\").add(\"materialColor\",\"vec4\"),i&&o.vertex.uniforms.add(\"outlineColor\",\"vec4\"),e.screenSizePerspectiveEnabled&&o.vertex.uniforms.add(\"screenSizePerspective\",\"vec4\"),(e.debugDrawBorder||e.binaryHighlightOcclusionEnabled)&&o.varyings.add(\"debugBorderCoords\",\"vec4\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"color\",\"vec4\"),o.attributes.add(\"size\",\"vec2\"),o.attributes.add(\"auxpos2\",\"vec4\"),o.vertex.code.add(p`\n    void main(void) {\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n\n      if (rejectBySlice(projectAux.posModel)) {\n        // Project outside of clip plane\n        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n        return;\n      }\n      vec2 inputSize;\n      ${e.screenSizePerspectiveEnabled?p`\n      inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n      vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);\n         `:p`\n      inputSize = size;\n      vec2 screenOffsetScaled = screenOffset;`}\n\n      ${e.vvSize?\"inputSize *= vvScale(auxpos2).xx;\":\"\"}\n\n      vec2 combinedSize = inputSize * pixelRatio;\n      vec4 quadOffset = vec4(0.0);\n\n      ${e.occlusionTestEnabled||e.binaryHighlightOcclusionEnabled?\"bool visible = testVisibilityHUD(posProj);\":\"\"}\n\n      ${e.binaryHighlightOcclusionEnabled?\"voccluded = visible ? 0.0 : 1.0;\":\"\"}\n    `);const m=p`vec2 uv01 = floor(uv0);\nvec2 uv = uv0 - uv01;\nquadOffset.xy = ((uv01 - anchorPos) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;`,b=e.pixelSnappingEnabled?i?p`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:p`posProj += quadOffset;\nif (inputSize.x == size.x) {\nposProj = alignToPixelOrigin(posProj, viewport.zw);\n}`:p`posProj += quadOffset;`;o.vertex.code.add(p`\n      ${e.occlusionTestEnabled?\"if (visible) {\":\"\"}\n      ${m}\n      ${e.vvColor?\"vcolor = vvGetColor(auxpos2, vvColorValues, vvColorColors) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n      bool alphaDiscard = vcolor.a < ${p.float(c)};\n      ${i?`alphaDiscard = alphaDiscard && outlineColor.a < ${p.float(c)};`:\"\"}\n      if (alphaDiscard) {\n        // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        return;\n      } else {\n        ${b}\n        gl_Position = posProj;\n      }\n\n      vtc = uv * textureCoordinateScaleFactor;\n\n      ${e.debugDrawBorder?\"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);\":\"\"}\n      vsize = inputSize;\n      ${e.occlusionTestEnabled?p`} else { vtc = vec2(0.0);\n        ${e.debugDrawBorder?\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}\":\"}\"}`:\"\"}\n    }\n    `),o.fragment.uniforms.add(\"tex\",\"sampler2D\"),i&&(o.fragment.uniforms.add(\"outlineColor\",\"vec4\"),o.fragment.uniforms.add(\"outlineSize\",\"float\"));const x=e.debugDrawBorder?p`(isBorder > 0.0 ? 0.0 : ${p.float(d)})`:p.float(d),h=p`\n    ${e.debugDrawBorder?p`\n      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`:\"\"}\n\n    ${i?p`\n      vec4 fillPixelColor = vcolor;\n\n      // Attempt to sample texel centers to avoid that thin cross outlines\n      // disappear with large symbol sizes.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041\n      const float txSize = 128.0;\n      const float texelSize = 1.0 / txSize;\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgba2float(texture2D(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${x} ||\n          fillPixelColor.a + outlinePixelColor.a < ${p.float(c)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        gl_FragColor = vec4(compositeColor, compositeAlpha);\n      } else {\n        if (fillAlphaFactor < ${x}) {\n          discard;\n        }\n\n        gl_FragColor = premultiplyAlpha(fillPixelColor);\n      }\n\n      // visualize SDF:\n      // gl_FragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:p`\n          vec4 texColor = texture2D(tex, vtc, -0.5);\n          if (texColor.a < ${x}) {\n            discard;\n          }\n          gl_FragColor = texColor * premultiplyAlpha(vcolor);\n          `}\n\n    ${e.debugDrawBorder?p`gl_FragColor = mix(gl_FragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder);`:\"\"}\n  `;return 7===e.output&&o.fragment.code.add(p`\n      void main() {\n        ${h}\n        gl_FragColor = vec4(gl_FragColor.a);\n      }\n      `),0===e.output&&o.fragment.code.add(p`\n    void main() {\n      ${h}\n      ${e.FrontFacePass?\"gl_FragColor.rgb /= gl_FragColor.a;\":\"\"}\n    }\n    `),4===e.output&&(o.include(s),o.fragment.code.add(p`\n    void main() {\n      ${h}\n      ${e.binaryHighlightOcclusionEnabled?p`\n          if (voccluded == 1.0) {\n            gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n          } else {\n            gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n          }`:\"outputHighlight();\"}\n    }\n    `)),o}function b(e,o,r){e.setUniform4fv(\"materialColor\",o.color),o.textureIsSignedDistanceField&&(o.outlineColor[3]<=0||o.outlineSize<=0?(e.setUniform4fv(\"outlineColor\",i),e.setUniform1f(\"outlineSize\",0)):(e.setUniform4fv(\"outlineColor\",o.outlineColor),e.setUniform1f(\"outlineSize\",o.outlineSize))),e.setUniform2f(\"screenOffset\",2*o.screenOffset[0]*r,2*o.screenOffset[1]*r),e.setUniform2fv(\"anchorPos\",x(o))}function x(o,i=C){return o.textureIsSignedDistanceField?h(o.anchorPos,o.distanceFieldBoundingBox,i):e(i,o.anchorPos),i}function h(e,o,i){i[0]=e[0]*(o[2]-o[0])+o[0],i[1]=e[1]*(o[3]-o[1])+o[1]}const C=o();var z=Object.freeze({__proto__:null,build:m,bindHUDMaterialUniforms:b,calculateAnchorPosForRendering:x});export{z as H,m as a,b,x as c};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizePerspective as e}from\"../util/ScreenSizePerspective.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function t(t,l){const c=t.vertex.code;l.verticalOffsetEnabled?(t.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),l.screenSizePerspectiveEnabled&&(t.include(e),t.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\")),c.add(r`\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ${1===l.viewingMode?r`vec3 worldNormal = normalize(worldPos + localOrigin);`:r`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n      ${l.screenSizePerspectiveEnabled?r`\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:r`\n          float verticalOffsetScreenHeight = verticalOffset.x;`}\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    `)):c.add(r`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}function l(e,r,t){if(!r.verticalOffset)return;const l=c(r.verticalOffset,t.camera.fovY,t.camera.fullViewport[3]),i=t.camera.pixelRatio||1;e.setUniform4f(\"verticalOffset\",l.screenLength*i,l.perDistance,l.minWorldLength,l.maxWorldLength)}function c(e,r,t,l=i){return l.screenLength=e.screenLength,l.perDistance=Math.tan(.5*r)/(.5*t),l.minWorldLength=e.minWorldLength,l.maxWorldLength=e.maxWorldLength,l}const i={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0};export{t as VerticalOffset,l as bindVerticalOffsetUniforms,c as calculateVerticalOffsetFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{loadAll as e}from\"../core/loadAll.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{getProperties as o}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{LayersMixin as d}from\"../support/LayersMixin.js\";import{TablesMixin as v}from\"../support/TablesMixin.js\";import{getLayerJSON as b}from\"../webdoc/support/writeUtils.js\";let m=class extends(n(c(y(h(v(d(s(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,e,s,r){const o=[];if(!i)return o;i.forEach((i=>{const e=b(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);t(e)&&e.layerType&&o.push(e)})),e.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return e(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!o(this).initialized)return;const t=this.layers;let s=t.find((i=>i.visible));switch(i){case\"exclusive\":t.length&&!s&&(s=t.getItemAt(0),s.visible=!0),this._turnOffOtherLayers(s);break;case\"inherited\":t.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([r()],m.prototype,\"fullExtent\",void 0),i([r({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,\"layers\",void 0),i([a(\"layers\")],m.prototype,\"_writeLayers\",null),i([r({type:[\"GroupLayer\"]})],m.prototype,\"operationalLayerType\",void 0),i([r({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],m.prototype,\"portalItem\",null),i([r()],m.prototype,\"spatialReference\",void 0),i([r({json:{read:!1},readOnly:!0,value:\"group\"})],m.prototype,\"type\",void 0),i([r({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],m.prototype,\"visibilityMode\",null),m=i([l(\"esri.layers.GroupLayer\")],m);var u=m;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizePerspective as e}from\"../util/ScreenSizePerspective.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o,a){const i=o;i.include(e),i.attributes.add(\"position\",\"vec3\"),i.attributes.add(\"normal\",\"vec3\"),i.attributes.add(\"auxpos1\",\"vec4\"),i.vertex.uniforms.add(\"proj\",\"mat4\"),i.vertex.uniforms.add(\"view\",\"mat4\"),i.vertex.uniforms.add(\"viewNormal\",\"mat4\"),i.vertex.uniforms.add(\"viewport\",\"vec4\"),i.vertex.uniforms.add(\"camPos\",\"vec3\"),i.vertex.uniforms.add(\"polygonOffset\",\"float\"),i.vertex.uniforms.add(\"cameraGroundRelative\",\"float\"),i.vertex.uniforms.add(\"pixelRatio\",\"float\"),i.vertex.uniforms.add(\"perDistancePixelRatio\",\"float\"),i.vertex.uniforms.add(\"uRenderTransparentlyOccludedHUD\",\"float\"),a.verticalOffsetEnabled&&i.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),a.screenSizePerspectiveEnabled&&i.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\"),i.vertex.uniforms.add(\"hudVisibilityTexture\",\"sampler2D\"),i.vertex.constants.add(\"smallOffsetAngle\",\"float\",.984807753012208),i.vertex.code.add(t`struct ProjectHUDAux {\nvec3 posModel;\nvec3 posView;\nvec3 vnormal;\nfloat distanceToCamera;\nfloat absCosAngle;\n};`),i.vertex.code.add(t`float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\nfloat pointGroundSign = sign(pointGroundDistance);\nif (pointGroundSign == 0.0) {\npointGroundSign = cameraGroundRelative;\n}\nfloat groundRelative = cameraGroundRelative * pointGroundSign;\nif (polygonOffset > .0) {\nfloat cosAlpha = clamp(absCosAngle, 0.01, 1.0);\nfloat tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\nfloat factor = (1.0 - tanAlpha / viewport[2]);\nif (groundRelative > 0.0) {\nposView *= factor;\n}\nelse {\nposView /= factor;\n}\n}\nreturn groundRelative;\n}`),a.isDraped||i.vertex.code.add(t`void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\nfloat distanceToCamera = length(posView);\nfloat pixelOffset = distanceToCamera * perDistancePixelRatio * 0.5;\nvec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\nvec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\nposModel += modelOffset;\nposView += viewOffset;\n}`),i.vertex.code.add(t`\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      // centerOffset is in view space and is used to implement world size offsetting\n      // of labels with respect to objects. It also pulls the label towards the viewer\n      // so that the label is visible in front of the object.\n      vec3 centerOffset = auxpos1.xyz;\n\n      // The pointGroundDistance is the distance of the geometry to the ground and is\n      // negative if the point is below the ground, or positive if the point is above\n      // ground.\n      float pointGroundDistance = auxpos1.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ${a.isDraped?\"\":\"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);\"}\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(camPos - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ${a.screenSizePerspectiveEnabled&&(a.verticalOffsetEnabled||1===a.screenCenterOffsetUnitsEnabled)?\"vec4 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);\":\"\"}\n\n      ${a.verticalOffsetEnabled?a.screenSizePerspectiveEnabled?\"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);\":\"float verticalOffsetScreenHeight = verticalOffset.x;\":\"\"}\n\n      ${a.verticalOffsetEnabled?t`\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;`:\"\"}\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ${1!==a.screenCenterOffsetUnitsEnabled?t`\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          `:\"\"}\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ${1===a.screenCenterOffsetUnitsEnabled?a.screenSizePerspectiveEnabled?\"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);\":\"float centerOffsetY = centerOffset.y;\":\"\"}\n\n      ${1===a.screenCenterOffsetUnitsEnabled?\"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;\":\"\"}\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  `),i.vertex.code.add(t`bool testVisibilityHUD(vec4 posProj) {\nvec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\nvec4 occlusionPixel = texture2D(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\nif (uRenderTransparentlyOccludedHUD > 0.5) {\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * uRenderTransparentlyOccludedHUD < 1.0;\n}\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n}`)}function a(e,t){e.setUniform1f(\"uRenderTransparentlyOccludedHUD\",0===t.renderTransparentlyOccludedHUD?1:1===t.renderTransparentlyOccludedHUD?0:.75)}export{o as HUD,a as bindHUDUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import{isNone as t}from\"../../core/maybe.js\";function s(){if(t(i)){const t=t=>e(`esri/libs/basisu/${t}`);i=import(\"../../chunks/basis_transcoder.js\").then((function(e){return e.b})).then((({default:e})=>e({locateFile:t}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return i}let i;export{s as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{getBasisTranscoder as t}from\"../../../../libs/basisu/BasisU.js\";import n from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as r}from\"../../../webgl/Util.js\";let s=null,i=null;async function a(){return e(i)&&(i=t(),s=await i),i}function o(t,n){if(e(s))return t.byteLength;const r=new s.BasisFile(new Uint8Array(t)),i=c(r)?l(r.getNumLevels(0),r.getHasAlpha(),r.getImageWidth(0,0),r.getImageHeight(0,0),n):0;return r.close(),r.delete(),i}function g(t,n){if(e(s))return t.byteLength;const r=new s.KTX2File(new Uint8Array(t)),i=u(r)?l(r.getLevels(),r.getHasAlpha(),r.getWidth(),r.getHeight(),n):0;return r.close(),r.delete(),i}function l(e,t,n,s,i){const a=r(t?37496:37492),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(n*s*a*o)}function c(e){return e.getNumImages()>=1&&!e.isUASTC()}function u(e){return e.getFaces()>=1&&e.isETC1S()}async function m(t,n,r){e(s)&&(s=await a());const i=new s.BasisFile(new Uint8Array(r));if(!c(i))return null;i.startTranscoding();const o=d(t,n,i.getNumLevels(0),i.getHasAlpha(),i.getImageWidth(0,0),i.getImageHeight(0,0),((e,t)=>i.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>i.transcodeImage(n,0,e,t,0,0)));return i.close(),i.delete(),o}async function h(t,n,r){e(s)&&(s=await a());const i=new s.KTX2File(new Uint8Array(r));if(!u(i))return null;i.startTranscoding();const o=d(t,n,i.getLevels(),i.getHasAlpha(),i.getWidth(),i.getHeight(),((e,t)=>i.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>i.transcodeImage(n,e,0,0,t,0,-1,-1)));return i.close(),i.delete(),o}function d(e,t,r,s,i,a,o,g){const{compressedTextureETC:l,compressedTextureS3TC:c}=e.capabilities,[u,m]=l?s?[1,37496]:[0,37492]:c?s?[3,33779]:[2,33776]:[13,6408],h=t.hasMipmap?r:Math.min(1,r),d=[];for(let n=0;n<h;n++)d.push(new Uint8Array(o(n,u))),g(n,u,d[n]);const p=d.length>1,f=p?9987:9729,w={...t,samplingMode:f,hasMipmap:p,internalFormat:m,width:i,height:a};return new n(e,w,{type:\"compressed\",levels:d})}export{m as createTextureBasis,h as createTextureKTX2,o as estimateMemoryBasis,g as estimateMemoryKTX2,a as loadBasis};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import r from\"../../../webgl/Texture.js\";const n=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),o=542327876,a=131072,i=4;function s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function l(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const u=s(\"DXT1\"),c=s(\"DXT3\"),m=s(\"DXT5\"),h=31,p=0,d=1,g=2,f=3,w=4,C=7,x=20,D=21;function b(e,t,n){const{textureData:o,internalFormat:a,width:i,height:s}=A(n,t.hasMipmap);return t.samplingMode=o.levels.length>1?9987:9729,t.hasMipmap=o.levels.length>1,t.internalFormat=a,t.width=i,t.height=s,new r(e,t,o)}function A(e,r){const s=new Int32Array(e,0,h);if(s[p]!==o)return n.error(\"Invalid magic number in DDS header\"),null;if(!(s[x]&i))return n.error(\"Unsupported format, must contain a FourCC code\"),null;const b=s[D];let A,M;switch(b){case u:A=8,M=33776;break;case c:A=16,M=33778;break;case m:A=16,M=33779;break;default:return n.error(\"Unsupported FourCC code:\",l(b)),null}let v=1,F=s[w],U=s[f];0==(3&F)&&0==(3&U)||(n.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),F=F+3&-4,U=U+3&-4);const T=F,j=U;let k,y;s[g]&a&&!1!==r&&(v=Math.max(1,s[C])),1===v||t(F)&&t(U)||(n.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"),v=1);let I=s[d]+4;const S=[];for(let t=0;t<v;++t)y=(F+3>>2)*(U+3>>2)*A,k=new Uint8Array(e,I,y),S.push(k),I+=y,F=Math.max(1,F>>1),U=Math.max(1,U>>1);return{textureData:{type:\"compressed\",levels:S},internalFormat:M,width:T,height:j}}export{b as createDDSTexture,A as createDDSTextureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../../core/compilerUtils.js\";import e from\"../../../../core/Error.js\";import r from\"../../../../core/Evented.js\";import{isPowerOfTwo as i,nextHighestPowerOfTwo as s}from\"../../../../core/mathUtils.js\";import{isNone as a,isSome as o}from\"../../../../core/maybe.js\";import{createAbortController as n,onAbort as m,createAbortError as h}from\"../../../../core/promiseUtils.js\";import{isArrayBuffer as l,isUint8Array as p}from\"../../../../core/typedArrayUtil.js\";import{isBlobProtocol as d,isDataProtocol as c}from\"../../../../core/urlUtils.js\";import{requestImage as u}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as g}from\"../../../../support/requestUtils.js\";import{estimateMemoryKTX2 as f,estimateMemoryBasis as w,createTextureKTX2 as T,createTextureBasis as x}from\"./BasisUtil.js\";import{ContentObject as D}from\"./ContentObject.js\";import{createDDSTexture as F}from\"./DDSUtil.js\";import{createQuadVAO as M}from\"./glUtil3D.js\";import{assert as y}from\"./Util.js\";import I from\"../../../webgl/FramebufferObject.js\";import E from\"../../../webgl/Texture.js\";import{vertexCount as O}from\"../../../webgl/Util.js\";import b from\"../../../webgl/capabilities/isWebGL2Context.js\";class S extends D{constructor(t,e){super(),this.data=t,this.type=4,this.glTexture=null,this.powerOfTwoStretchInfo=null,this.loadingPromise=null,this.loadingController=null,this.events=new r,this.params=e||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:10497,t:10497},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||1,this.estimatedTexMemRequired=S.estimateTexMemRequired(this.data,this.params),this.startPreload()}startPreload(){const t=this.data;a(t)||(t instanceof HTMLVideoElement?this.startPreloadVideoElement(t):t instanceof HTMLImageElement&&this.startPreloadImageElement(t))}startPreloadVideoElement(t){d(t.src)||\"auto\"===t.preload&&t.crossOrigin||(t.preload=\"auto\",t.crossOrigin=\"anonymous\",t.src=t.src)}startPreloadImageElement(t){c(t.src)||d(t.src)||t.crossOrigin||(t.crossOrigin=\"anonymous\",t.src=t.src)}static getDataDimensions(t){return t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t}static estimateTexMemRequired(t,e){if(a(t))return 0;if(l(t)||p(t))return e.encoding===S.KTX2_ENCODING?f(t,e.mipmap):e.encoding===S.BASIS_ENCODING?w(t,e.mipmap):t.byteLength;const{width:r,height:i}=t instanceof Image||t instanceof ImageData||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?S.getDataDimensions(t):e;return(e.mipmap?4/3:1)*r*i*(e.components||4)||0}dispose(){this.data=void 0}get width(){return this.params.width}get height(){return this.params.height}createDescriptor(t){var e;return{target:3553,pixelFormat:6408,dataType:5121,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?9987:9729,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:null!=(e=this.params.maxAnisotropy)?e:this.params.mipmap?t.parameters.maxMaxAnisotropy:1}}load(t,e){if(o(this.glTexture))return this.glTexture;if(o(this.loadingPromise))return this.loadingPromise;const r=this.data;return a(r)?(this.glTexture=new E(t,this.createDescriptor(t),null),this.glTexture):\"string\"==typeof r?this.loadFromURL(t,e,r):r instanceof Image?this.loadFromImageElement(t,e,r):r instanceof HTMLVideoElement?this.loadFromVideoElement(t,e,r):r instanceof ImageData||r instanceof HTMLCanvasElement?this.loadFromImage(t,r,e):(l(r)||p(r))&&this.params.encoding===S.DDS_ENCODING?this.loadFromDDSData(t,r):(l(r)||p(r))&&this.params.encoding===S.KTX2_ENCODING?this.loadFromKTX2(t,r):(l(r)||p(r))&&this.params.encoding===S.BASIS_ENCODING?this.loadFromBasis(t,r):p(r)?this.loadFromPixelData(t,r):l(r)?this.loadFromPixelData(t,new Uint8Array(r)):null}get requiresFrameUpdates(){return this.data instanceof HTMLVideoElement}frameUpdate(t,e,r){if(!(this.data instanceof HTMLVideoElement)||a(this.glTexture))return r;if(this.data.readyState<2||r===this.data.currentTime)return r;if(o(this.powerOfTwoStretchInfo)){const{framebuffer:r,vao:i,sourceTexture:s}=this.powerOfTwoStretchInfo;s.setData(this.data),this.drawStretchedTexture(t,e,r,i,s,this.glTexture)}else{const{width:t,height:e}=this.data,{width:r,height:i}=this.glTexture.descriptor;t!==r||e!==i?this.glTexture.updateData(0,0,0,Math.min(t,r),Math.min(e,i),this.data):this.glTexture.setData(this.data)}return this.glTexture.descriptor.hasMipmap&&this.glTexture.generateMipmap(),this.data.currentTime}loadFromDDSData(t,e){return this.glTexture=F(t,this.createDescriptor(t),e),this.glTexture}loadFromKTX2(t,e){return this.loadAsync((()=>T(t,this.createDescriptor(t),e).then((t=>(this.glTexture=t,t)))))}loadFromBasis(t,e){return this.loadAsync((()=>x(t,this.createDescriptor(t),e).then((t=>(this.glTexture=t,t)))))}loadFromPixelData(t,e){y(this.params.width>0&&this.params.height>0);const r=this.createDescriptor(t);return r.pixelFormat=1===this.params.components?6409:3===this.params.components?6407:6408,r.width=this.params.width,r.height=this.params.height,this.glTexture=new E(t,r,e),this.glTexture}loadAsync(t){const e=n();this.loadingController=e;const r=t(e.signal);this.loadingPromise=r;const i=()=>{this.loadingController===e&&(this.loadingController=null),this.loadingPromise===r&&(this.loadingPromise=null)};return r.then(i,i),r}loadFromURL(t,e,r){return this.loadAsync((async i=>{const s=await u(r,{signal:i});return this.loadFromImage(t,s,e)}))}loadFromImageElement(t,e,r){return r.complete?this.loadFromImage(t,r,e):this.loadAsync((async i=>{const s=await g(r,r.src,!1,i);return this.loadFromImage(t,s,e)}))}loadFromVideoElement(t,e,r){return r.readyState>=2?this.loadFromImage(t,r,e):this.loadFromVideoElementAsync(t,e,r)}loadFromVideoElementAsync(t,r,i){return this.loadAsync((s=>new Promise(((a,n)=>{const l=()=>{i.removeEventListener(\"loadeddata\",p),i.removeEventListener(\"error\",d),o(c)&&c.remove()},p=()=>{i.readyState>=2&&(l(),a(this.loadFromImage(t,i,r)))},d=t=>{l(),n(t||new e(\"Failed to load video\"))};i.addEventListener(\"loadeddata\",p),i.addEventListener(\"error\",d);const c=m(s,(()=>d(h())))}))))}loadFromImage(t,e,r){const s=S.getDataDimensions(e);this.params.width=s.width,this.params.height=s.height;const a=this.createDescriptor(t);return a.pixelFormat=3===this.params.components?6407:6408,!this.requiresPowerOfTwo(t,a)||i(s.width)&&i(s.height)?(a.width=s.width,a.height=s.height,this.glTexture=new E(t,a,e),this.glTexture):(this.glTexture=this.makePowerOfTwoTexture(t,e,s,a,r),this.glTexture)}requiresPowerOfTwo(t,e){const r=33071,i=\"number\"==typeof e.wrapMode?e.wrapMode===r:e.wrapMode.s===r&&e.wrapMode.t===r;return!b(t.gl)&&(e.hasMipmap||!i)}makePowerOfTwoTexture(e,r,i,a,o){const{width:n,height:m}=i,h=s(n),l=s(m);let p;switch(a.width=h,a.height=l,this.params.powerOfTwoResizeMode){case 2:a.textureCoordinateScaleFactor=[n/h,m/l],p=new E(e,a),p.updateData(0,0,0,n,m,r);break;case 1:case null:case void 0:p=this.stretchToPowerOfTwo(e,r,a,o);break;default:t(this.params.powerOfTwoResizeMode)}return a.hasMipmap&&p.generateMipmap(),p}stretchToPowerOfTwo(t,e,r,i){const s=new E(t,r),a=new I(t,{colorTarget:0,depthStencilTarget:0},s),o=new E(t,{target:3553,pixelFormat:r.pixelFormat,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!!r.flipped,maxAnisotropy:8,preMultiplyAlpha:r.preMultiplyAlpha},e),n=M(t);return this.drawStretchedTexture(t,i,a,n,o,s),this.requiresFrameUpdates?this.powerOfTwoStretchInfo={vao:n,sourceTexture:o,framebuffer:a}:(n.dispose(!0),o.dispose(),a.detachColorTexture(),t.bindFramebuffer(null),a.dispose()),s}drawStretchedTexture(t,e,r,i,s,a){t.bindFramebuffer(r);const o=t.getViewport();t.setViewport(0,0,a.descriptor.width,a.descriptor.height);const n=e.program;t.useProgram(n),n.setUniform4f(\"color\",1,1,1,1),n.bindTexture(s,\"tex\"),t.bindVAO(i),t.setPipelineState(e.pipeline),t.drawArrays(5,0,O(i,\"geometry\")),t.bindFramebuffer(null),t.setViewport(o.x,o.y,o.width,o.height)}unload(){if(o(this.powerOfTwoStretchInfo)){const{framebuffer:t,vao:e,sourceTexture:r}=this.powerOfTwoStretchInfo;e.dispose(!0),r.dispose(),t.dispose(),this.glTexture=null,this.powerOfTwoStretchInfo=null}if(o(this.glTexture)&&(this.glTexture.dispose(),this.glTexture=null),o(this.loadingController)){const t=this.loadingController;this.loadingController=null,this.loadingPromise=null,t.abort()}this.events.emit(\"unloaded\")}}S.DDS_ENCODING=\"image/vnd-ms.dds\",S.KTX2_ENCODING=\"image/ktx2\",S.BASIS_ENCODING=\"image/x.basis\";export{S as Texture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class h{constructor(e,t,i){this.editGeometry=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let h=\"redo\";e(this.addedVertex)&&(h=\"apply\",this.addedVertex=new i(this.component));const d=this.component.getLastVertex();if(e(d))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let i=null;d.right&&(this.originalEdge=d.right,i=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new s(this.component,d,this.addedVertex)),this.component.edges.push(this.left),d.right=this.left,t(this.originalEdge)&&t(i)&&(e(this.right)&&(this.right=new s(this.component,this.addedVertex,i)),this.component.edges.push(this.right),i.left=this.right),this.component.updateVertexIndex(this.addedVertex,d.index+1)}const n={addedVertices:[this.addedVertex],operation:h};this.editGeometry.emit(\"change\",n)}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);const i={removedVertices:[this.addedVertex],operation:\"undo\"};this.editGeometry.emit(\"change\",i)}accumulate(){return!1}}export{h as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import r from\"./GLMaterial.js\";class i extends r{constructor(e){super(e),this._textureIDs=new Set,this._textureRepository=e.textureRep,this._textureId=e.textureId,this._initTransparent=!!e.initTextureTransparent,this._texture=this._acquire(this._textureId),this._textureNormal=this._acquire(e.normalTextureId),this._textureEmissive=this._acquire(e.emissiveTextureId),this._textureOcclusion=this._acquire(e.occlusionTextureId),this._textureMetallicRoughness=this._acquire(e.metallicRoughnessTextureId)}dispose(){this._textureIDs.forEach((e=>this._textureRepository.release(e))),this._textureIDs.clear()}updateTexture(e){e!==this._textureId&&(this._release(this._textureId),this._textureId=e,this._texture=this._acquire(this._textureId))}bindTextures(t){e(this._texture)&&t.bindTexture(this._texture.glTexture,\"tex\"),e(this._textureNormal)&&t.bindTexture(this._textureNormal.glTexture,\"normalTexture\"),e(this._textureEmissive)&&t.bindTexture(this._textureEmissive.glTexture,\"texEmission\"),e(this._textureOcclusion)&&t.bindTexture(this._textureOcclusion.glTexture,\"texOcclusion\"),e(this._textureMetallicRoughness)&&t.bindTexture(this._textureMetallicRoughness.glTexture,\"texMetallicRoughness\")}bindTextureScale(t){const r=e(this._texture)&&this._texture.glTexture;r&&r.descriptor.textureCoordinateScaleFactor?t.setUniform2fv(\"textureCoordinateScaleFactor\",r.descriptor.textureCoordinateScaleFactor):t.setUniform2f(\"textureCoordinateScaleFactor\",1,1)}_acquire(e){if(!t(e))return this._textureIDs.add(e),this._textureRepository.acquire(e,this._initTransparent)}_release(e){t(e)||(this._textureIDs.delete(e),this._textureRepository.release(e))}}export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../output/ReadLinearDepth.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function r(r){r.include(e),r.uniforms.add(\"geometryDepthTexture\",\"sampler2D\"),r.uniforms.add(\"cameraNearFar\",\"vec2\"),r.code.add(t`bool geometryDepthTest(vec2 pos, float elementDepth) {\nfloat geometryDepth = linearDepthFromTexture(geometryDepthTexture, pos, cameraNearFar);\nreturn (elementDepth < (geometryDepth - 1.0));\n}`)}function o(e,t){t.multipassGeometryEnabled&&t.geometryLinearDepthTexture&&e.bindTexture(t.geometryLinearDepthTexture,\"geometryDepthTexture\")}export{o as bindMultipassGeometryTexture,r as multipassGeometryTest};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{i,t as r,s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,f as n,g as u,b as h}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{c}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class y extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=d(),this._up=d(),this._right=d(),this._renderOccluded=4,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){c(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){c(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new g(this.quadMaterialParameters),this._outlineMaterial=new O(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const a=this.view.state.camera,o=this._size*a.computeScreenPixelSizeAt(this._position),l=Math.min(this._maxSize,o);i(z),r(z,z,this._position),s(z,z,[l,l,l]),t(e)&&(e.transformation=z)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}const z=a();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function c(c){const i=e`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\nvec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`,o=e`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\nvec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`;c.vertex.code.add(i),c.vertex.code.add(o),c.fragment.code.add(i),c.fragment.code.add(o)}export{c as AlignPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../output/ReadLinearDepth.glsl.js\";import{multipassGeometryTest as r}from\"../shading/MultipassGeometryTest.glsl.js\";import{RgbaFloatEncoding as t}from\"../util/RgbaFloatEncoding.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";function a(a,i){i.multipassGeometryEnabled&&a.vertex.include(r),i.multipassTerrainEnabled&&a.varyings.add(\"depth\",\"float\"),a.vertex.code.add(o`\n  void main(void) {\n    vec4 posProjCenter;\n    if (dot(position, position) > 0.0) {\n      // Render single point to center of the pixel to avoid subpixel\n      // filtering to affect the marker color\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      ${i.multipassGeometryEnabled?o`\n        // Don't draw vertices behind geometry\n        if(geometryDepthTest(.5 + .5 * posProjCenter.xy / posProjCenter.w, projectAux.posView.z)){\n          posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n        }`:\"\"}\n\n      ${i.multipassTerrainEnabled?\"depth = projectAux.posView.z;\":\"\"}\n      vec3 vpos = projectAux.posModel;\n      if (rejectBySlice(vpos)) {\n        // Project out of clip space\n        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n      }\n\n    } else {\n      // Project out of clip space\n      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n\n    gl_Position = posProjCenter;\n    gl_PointSize = 1.0;\n  }\n  `),i.multipassTerrainEnabled&&a.fragment.include(e),a.fragment.uniforms.add(\"terrainDepthTexture\",\"sampler2D\"),a.fragment.uniforms.add(\"cameraNearFar\",\"vec2\"),a.fragment.uniforms.add(\"inverseViewport\",\"vec2\"),a.fragment.include(t),a.fragment.code.add(o`\n  void main() {\n    gl_FragColor = vec4(1, 1, 1, 1);\n    ${i.multipassTerrainEnabled?o`\n\n          vec2 uv = gl_FragCoord.xy * inverseViewport;\n\n          //Read the rgba data from the texture linear depth\n          vec4 terrainDepthData = texture2D(terrainDepthTexture, uv);\n\n          float terrainDepth = linearDepthFromFloat(rgba2float(terrainDepthData), cameraNearFar);\n\n          //If HUD vertex is behind terrain and the terrain depth is not the initialize value (e.g. we are not looking at the sky)\n          //Mark the HUD vertex as occluded by transparent terrain\n          if(depth < terrainDepth && terrainDepthData != vec4(0,0,0,1)){\n            gl_FragColor.g = 0.5;\n          }`:\"\"}\n  }\n  `)}export{a as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{j as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import n from\"../../../Color.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.enabled=!0}};e([i({type:Boolean})],r.prototype,\"enabled\",void 0),r=e([o(\"esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm\")],r);let l=class extends t{constructor(e){super(e),this.lineSnapper=new r,this.parallelLineSnapper=new r,this.rightAngleSnapper=new r,this.rightAngleTriangleSnapper=new r,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new n([255,127,0]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5}};e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"lineSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"parallelLineSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleTriangleSnapper\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"shortLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"distance\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"intersectionParallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"parallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"touchSensitivityMultiplier\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointOnLineThreshold\",void 0),e([i({type:n,nonNullable:!0})],l.prototype,\"orange\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthReference\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthTarget\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],l.prototype,\"lineHintFadedExtensions\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"parallelLineHintWidth\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],l.prototype,\"parallelLineHintLength\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],l.prototype,\"parallelLineHintOffset\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],l.prototype,\"rightAngleHintSize\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],l.prototype,\"rightAngleHintOutlineSize\",void 0),l=e([o(\"esri.views.interactive.snapping.Settings.Defaults\")],l);const p=new l;export{p as defaults};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createScreenPoint as e,createScreenPointArray as t}from\"../../../core/screenUtils.js\";import{j as r}from\"../../../chunks/vec2.js\";import{c as n}from\"../../../chunks/vec3f64.js\";import o from\"../../../geometry/Point.js\";import{getConvertedElevationFromVector as s}from\"../../../support/elevationInfoUtils.js\";function c(e,t){const r=e.x-t.x,n=e.y-t.y;return r*r+n*n}function i(e,t){const r=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return r;case 3:return r&&e[2]===t[2];case 4:return r&&e[3]===t[3]}return!1}function a(t,r,n,o){return\"2d\"===o.type?o.toScreen(r.toPoint(t,m)):(f(t,r,n,o,u),o.state.camera.projectToScreen(u,d),e(d[0],d[1]))}function f(e,t,r,o,c=n()){const i=t.toXYZ(e);return i[2]=s(o,i,t.spatialReference,r)||0,o.renderCoordsHelper.toRenderCoords(i,t.spatialReference,c),c}function l(e,t,r,n,o,c,i){const a=r.toXYZ(e),f=r.toXYZ(t),l=s(o,a,r.spatialReference,n),p=s(o,f,r.spatialReference,n),u=(null==l?p:null==p?l:Math.min(l,p))||0;a[2]=u,f[2]=u,o.renderCoordsHelper.toRenderCoords(a,r.spatialReference,c),o.renderCoordsHelper.toRenderCoords(f,r.spatialReference,i)}function p(e,t){t.sort(((t,n)=>r(t.targetPoint,e)-r(n.targetPoint,e)))}const u=n(),d=t(),m=new o;export{f as anyMapPointToRender,a as anyMapPointToScreenPoint,l as anyMapPointsToRenderWithEqualZ,i as objectEqual,p as sortCandidatesInPlace,c as squareDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass s{}export{s as SnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class i extends n{constructor(t){super(),this.intersectionPoint=t}equals(n){return n instanceof i&&t(this.intersectionPoint,n.intersectionPoint)}}export{i as IntersectionSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{objectEqual as i}from\"../snappingUtils.js\";import{SnappingHint as e}from\"./SnappingHint.js\";t.getLogger(\"esri.views.interactive.snapping.hints.LineSnappingHint\");class s extends e{constructor(t,i,e,s=!0,n=!0){super(),this.type=t,this.lineStart=i,this.lineEnd=e,this.fadeLeft=s,this.fadeRight=n}equals(t){return t instanceof s&&(this.type===t.type&&i(this.lineStart,t.lineStart)&&i(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight)}}export{s as LineSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";i.getLogger(\"esri.views.interactive.snapping.hints.ParallelSnappingHint\");class e extends n{constructor(i,t){super(),this.lineStart=i,this.lineEnd=t}equals(i){return i instanceof e&&(t(this.lineStart,i.lineStart)&&t(this.lineEnd,i.lineEnd))}}export{e as ParallelSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class s extends n{constructor(t){super(),this.point=t}equals(n){return n instanceof s&&t(this.point,n.point)}}export{s as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as r}from\"./SnappingHint.js\";e.getLogger(\"esri.views.interactive.snapping.hints.RightAngleSnappingHint\");class i extends r{constructor(e,t,r){super(),this.previousVertex=e,this.centerVertex=t,this.nextVertex=r}equals(e){return e instanceof i&&(t(this.previousVertex,e.previousVertex)&&t(this.centerVertex,e.centerVertex)&&t(this.nextVertex,e.nextVertex))}}export{i as RightAngleSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{IntersectionSnappingHint as n}from\"./hints/IntersectionSnappingHint.js\";import{LineSnappingHint as t}from\"./hints/LineSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{PointSnappingHint as o}from\"./hints/PointSnappingHint.js\";import{RightAngleSnappingHint as e}from\"./hints/RightAngleSnappingHint.js\";class r{draw(r,a){const p=this.getUniqueHints(r),h=[];for(const i of p)i instanceof n&&h.push(this.visualizeIntersectionPoint(i,a)),i instanceof t&&h.push(this.visualizeLine(i,a)),i instanceof s&&h.push(this.visualizeParallelSign(i,a)),i instanceof e&&h.push(this.visualizeRightAngleQuad(i,a)),i instanceof o&&h.push(this.visualizePoint(i,a));return i(h)}getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Graphic.js\";import\"../../../symbols.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{px2pt as i}from\"../../../core/screenUtils.js\";import{a as t,g as n}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{colors as l}from\"../../draw/support/settings.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";import m from\"../../../geometry/Point.js\";import c from\"../../../geometry/Polyline.js\";import y from\"../../../symbols/SimpleMarkerSymbol.js\";import b from\"../../../symbols/SimpleLineSymbol.js\";import S from\"../../../symbols/CIMSymbol.js\";class h extends p{constructor(e){super(),this.graphicsLayer=e}visualizeIntersectionPoint(e,r){return this._visualizeSnappingIndicator(new m({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:r.coordinateHelper.spatialReference}),u)}visualizePoint(e,r){return this._visualizeSnappingIndicator(new m({x:e.point[0],y:e.point[1],spatialReference:r.coordinateHelper.spatialReference}),M)}visualizeLine(e,r){return this._visualizeSnappingIndicator(new c({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),f)}visualizeParallelSign(e,r){return this._visualizeSnappingIndicator(new c({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),I)}visualizeRightAngleQuad(e,r){return this._visualizeSnappingIndicator(new c({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:r.coordinateHelper.spatialReference}),C(e))}_visualizeSnappingIndicator(i,t){const n=new e({geometry:i,symbol:t});return this.graphicsLayer.add(n),r((()=>{this.graphicsLayer.remove(n)}))}}const d=l.main.toArray(),g=[...l.main.toRgb(),100],u=new y({outline:new b({width:1.5,color:d}),size:15,color:[0,0,0,0]}),M=new y({outline:{width:.5,color:[0,0,0,1]},size:10,color:d}),f=new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.lineHintWidthTarget),color:d}]}}}),I=new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),P=e=>new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:i(s.rightAngleHintSize),rotation:e,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.rightAngleHintOutlineSize),color:d},{type:\"CIMSolidFill\",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),x=P(45),v=P(225),C=(()=>{const e=o(),r=o(),i=a();return o=>(t(e,o.centerVertex,o.previousVertex),t(r,o.nextVertex,o.previousVertex),n(i,e,r),i[2]<0?x:v)})();export{h as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i){this.editGeometry=t,this.vertices=e,this.operation=i,this.undone=!1}apply(){this.vertices.forEach((t=>this.operation.apply(t))),this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions()));const t={updatedVertices:this.vertices,operation:this.undone?\"redo\":\"apply\"};this.editGeometry.emit(\"change\",t)}undo(){this.vertices.forEach((t=>this.operation.undo(t)));const t={updatedVertices:this.vertices,operation:\"undo\"};this.editGeometry.emit(\"change\",t),this.undone=!0}canAccumulate(t){if(this.undone||t.vertices.length!==this.vertices.length)return!1;for(let e=0;e<t.vertices.length;++e)if(t.vertices[e]!==this.vertices[e])return!1;return this.operation.canAccumulate(t.operation)}accumulate(e){if(e instanceof t&&this.canAccumulate(e)){this.vertices.forEach((t=>this.operation.accumulate(t,e.operation))),this.operation.accumulateParams(e.operation),this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions()));const t={updatedVertices:this.vertices,operation:\"apply\"};return this.editGeometry.emit(\"change\",t),!0}return!1}}class e{constructor(t){this.helper=t}}export{e as PerVertexOperation,t as UpdateVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this.editGeometry=e,this.vertices=t,this.minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((t=>{const r=this._removeVertex(t);e(r)&&this.removedVertices.push(r)})),t=\"apply\"):this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));const r={removedVertices:this.vertices,operation:t};this.editGeometry.emit(\"change\",r)}undo(){this.removedVertices.forEach((e=>{this._undoRemoveVertex(e)}));const e={addedVertices:this.vertices,operation:\"undo\"};this.editGeometry.emit(\"change\",e)}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this.minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.left,d=e.right;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.left.right=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.right.left=null),0===e.index&&d&&this.vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.right),0),s&&d&&(i.createdEdge=new t(r,s.left,d.right),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.right,d.right.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.left,s=t.right;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.left.right=i),s&&(r.edges.push(s),s.right.left=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Vertex as t,Edge as i}from\"../EditGeometry.js\";class s{constructor(e,t,i){this.editGeometry=e,this.edge=t,this.t=i,this.createdVertex=null,this.left=null,this.right=null}apply(){let s=\"redo\";const r=this.edge,h=r.component,d=r.component.data,c=r.left,n=r.right;h.edges.splice(h.edges.indexOf(r),1),e(this.createdVertex)&&(s=\"apply\",this.createdVertex=new t(r.component)),h.vertices.push(this.createdVertex),this.createdVertex.pos=d.coordinateHelper.lerp(r.left.pos,r.right.pos,this.t,d.coordinateHelper.createNew()),e(this.left)&&(this.left=new i(h,c,this.createdVertex)),this.left.left.left?h.edges.push(this.left):h.edges.unshift(this.left),c.right=this.left,e(this.right)&&(this.right=new i(h,this.createdVertex,n)),h.edges.push(this.right),n.left=this.right,h.updateVertexIndex(this.createdVertex,c.index+1);const l={addedVertices:[this.createdVertex],operation:s};this.editGeometry.emit(\"change\",l)}undo(){if(e(this.createdVertex)||e(this.left)||e(this.right))return null;const t=this.edge,i=t.component,s=this.createdVertex.left,r=this.createdVertex.right,h=s.left,d=r.right;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this.left),1),i.edges.splice(i.edges.indexOf(this.right),1),this.edge.left.left?i.edges.push(this.edge):i.edges.unshift(this.edge),h.right=t,d.left=t,i.updateVertexIndex(h,h.index);const c={removedVertices:[this.createdVertex],operation:\"undo\"};this.editGeometry.emit(\"change\",c)}accumulate(){return!1}}export{s as SplitEdge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{PerVertexOperation as t}from\"./UpdateVertices.js\";class s extends t{constructor(t,s,d,e){super(t),this.dx=s,this.dy=d,this.dz=e}move(t,s,d,e){this.helper.addDelta(t.pos,s,d,e)}apply(t){this.move(t,this.dx,this.dy,this.dz)}undo(t){this.move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(t){return t instanceof s}accumulate(t,s){this.move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}export{s as MoveVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{d as n,h as s,q as r,b as e,a as o,i as u,p as a,c,l as i}from\"../../chunks/vec2.js\";import{b as f,a as p}from\"../../chunks/vec2f64.js\";function h(t,n){return t[0]*n[1]-t[1]*n[0]}function m(t,s,r){const e=(s[0]-t[0])*(r[1]-t[1])-(s[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/n(s,r)}function y(t,n,o){const u=s(o,n)/r(o);return e(t,o,u)}function d(t,n,s,r,e=s){return o(x,r,s),o(g,n,e),y(w,g,x),u(t,e,w)}function b(t,n,e,u){o(x,u,e),o(g,n,e);const i=s(x,g)/r(x);return i>0?a(t,e,x,i):c(t,e)}function l(t,n,s,r){o(x,n,s);const e=r/i(x);return a(t,s,x,e)}function j(n,s){return d(g,s,n.start,n.end),t(g[0],s[0])&&t(g[1],s[1])?[f(s)]:[]}function M(n,s,r){return l(g,r,n,s),t(g[0],r[0])&&t(g[1],r[1])?[f(r)]:[]}function k(t,n){const s=t.start,r=t.end,e=n.start,u=n.end,c=o(x,r,s),i=o(U,u,e),f=h(c,i);if(Math.abs(f)<=v)return[];const p=o(g,s,e),m=h(i,p)/f,y=h(c,p)/f;if(m>=0){if(y>=0||1===n.type)return[a(w,s,c,m)]}else if(1===t.type&&(y>=0||1===n.type))return[a(w,s,c,m)];return[]}function q(t,n,e){const u=[],c=o(x,t.end,t.start),i=o(U,t.start,n),f=r(c),p=2*s(c,i),h=p*p-4*f*(r(i)-e*e);if(0===h){const n=-p/(2*f);(1===t.type||n>=0)&&u.push(a(w,t.start,c,n))}else if(h>0){const n=Math.sqrt(h),s=(-p+n)/(2*f);(1===t.type||s>=0)&&u.push(a(w,t.start,c,s));const r=(-p-n)/(2*f);(1===t.type||r>=0)&&u.push(a(g,t.start,c,r))}return u}const v=1e-6,x=p(),U=p(),g=p(),w=p();export{h as cross,M as intersectCircleAndPoint,j as intersectLineAndPoint,k as intersectLineAndRay,q as intersectLineLikeAndCircle,m as pointToLineDistance,y as projectPoint,l as projectPointToCircle,d as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{abortMaybe as i,isSome as s,isNone as r,unwrapOr as o}from\"../../core/maybe.js\";import{createTask as n}from\"../../core/promiseUtils.js\";import{createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import d from\"../../layers/GraphicsLayer.js\";import{makeDehydratedPoint as c}from\"../../layers/graphics/dehydratedFeatures.js\";import{SnappingVisualizer2D as l}from\"../2d/interactive/SnappingVisualizer2D.js\";import{createCoordinateHelper as m}from\"../interactive/coordinateHelper.js\";import{EditGeometry as y,Component as _}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as g}from\"../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as u}from\"../interactive/snapping/SnappingContext.js\";var v;let f=v=class extends t.EventedAccessor{constructor(e){var t;super(e),this._hasZ=null,this._cursorScreenPoint=null,this._snappingTask=null,this._stagedVertex=null,this._stagedVertexUnsnapped=null,this._lastVertexUnsnapped=null,this._nativeEventHistory={undoStack:[],redoStack:[]},this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0,this._coordinateHelper=m(e.hasZ,!1,e.view.spatialReference,\"local\"),this._snappingManager=e.snappingManager,this._editGeometry=new g(new y(this._coordinateHelper),null!=(t=e.editGeometryType)?t:\"polygon\"),this._snappingGraphicsLayer=new d({id:v.SNAPPING_GRAPHICS_LAYER_ID,listMode:\"hide\",internal:!0}),this._snappingContext=new u({geometry:this._editGeometry,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:\"mouse\",visualizer:new l(this._snappingGraphicsLayer)}),this._activeComponent=new _(this._editGeometry.editGeometry),this._editGeometry.editGeometry.components.push(this._activeComponent)}initialize(){\"2d\"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}destroy(){this._snappingTask=i(this._snappingTask),this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),s(this._snappingManager)&&this._snappingManager.doneSnapping(),this._editGeometry.destroy()}get _committedVertices(){return this._editGeometry.editGeometry.components[0].vertices.map((e=>e.pos))}get vertices(){return s(this._stagedVertex)?[...this._committedVertices,this._coordinateHelper.pointToArray(this._stagedVertex)]:this._committedVertices}get hasZ(){return s(this._hasZ)?this._hasZ:\"3d\"===this.view.type}set hasZ(e){this._hasZ=e,this.notifyChange(\"hasZ\")}canUndo(){return this._editGeometry.editGeometry.canUndo}canRedo(){return this._editGeometry.editGeometry.canRedo}undo(){this.canUndo()&&this._editGeometry.undo()}redo(){this.canRedo()&&this._editGeometry.redo()}getCoordsFromScreenPoint(e){const t=this.screenToMap(e);return s(t)?t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]:null}getCoordsAndPointFromScreenPoint(e){const t=this.screenToMap(e);return s(t)?t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}:null}_pushCursorVertex(e){const t=c(e[0],e[1],null,this.view.spatialReference);this._stagedVertexUnsnapped=t,r(this._snappingManager)?this._stagedVertex=t:(this._stagedVertex=this._snappingManager.update(t,this._snappingContext),this._snappingTask=n((async e=>{if(s(this._snappingManager)){const i=await this._snappingManager.snap(t,this._snappingContext,e);return i.valid&&(this._stagedVertex=i.apply(),this.notifyChange(\"vertices\")),i}return null})))}_popCursorVertex(){this._stagedVertex=null,this._stagedVertexUnsnapped=null,this.notifyChange(\"vertices\")}getGeometryZValue(){return this.defaultZ}screenToMap(e){let t=null;if(\"3d\"===this.view.type)if(this.hasZ){const i=o(this.elevationInfo,x);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(a(e.x,e.y),i,this.getGeometryZValue())}else{const i=o(this.elevationInfo,G);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(a(e.x,e.y),i,0),s(t)&&(t.z=void 0)}else t=this.view.toMap(e),s(t)&&(t.z=this.hasZ?this.getGeometryZValue():void 0);return t}_isDuplicateOfLastVertex(e){const t=this._editGeometry.editGeometry.components[0].getLastVertex();if(s(t)&&e[0]===t[0]&&e[1]===t[1])return!0;const{x:i,y:r}=this._coordinateHelper.createDehydratedPoint(e);return!(!s(this._lastVertexUnsnapped)||i!==this._lastVertexUnsnapped.x||r!==this._lastVertexUnsnapped.y)}_vertexAddHandler(e){const t=s(this._stagedVertex)?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);s(t)&&this._addVertex(t,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}};f.SNAPPING_GRAPHICS_LAYER_ID=\"DrawAction-snapping-graphics-layer\",e([p({readOnly:!0})],f.prototype,\"vertices\",null),e([p({type:Boolean,nonNullable:!0})],f.prototype,\"interactiveUndoDisabled\",void 0),e([p({readOnly:!0})],f.prototype,\"history\",void 0),e([p({readOnly:!0})],f.prototype,\"redoHistory\",void 0),e([p()],f.prototype,\"snapToScene\",void 0),e([p()],f.prototype,\"view\",void 0),e([p()],f.prototype,\"elevationInfo\",void 0),e([p({nonNullable:!0})],f.prototype,\"defaultZ\",void 0),e([p()],f.prototype,\"hasZ\",null),f=v=e([h(\"esri.views.draw.DrawAction\")],f);const x={mode:\"absolute-height\",offset:0},G={mode:\"on-the-ground\",offset:0};var V=f;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as i,isNone as e}from\"../../../../core/maybe.js\";import{a as s,f as n,h as r}from\"../../../../chunks/vec2.js\";import{a as h}from\"../../../../chunks/vec2f64.js\";import{r as a,d as o,o as c,c as _,n as l,b as p,a as d,z as g,g as f}from\"../../../../chunks/vec3.js\";import{c as m,f as u}from\"../../../../chunks/vec3f64.js\";import{create as D,fromPositionAndNormal as b,signedDistance as x,copy as y,intersectLine as P,normal as N}from\"../../../../geometry/support/plane.js\";import{angle as j,projectPointSignedLength as v}from\"../../../../geometry/support/vector.js\";import{PerVertexOperation as z}from\"./UpdateVertices.js\";import{intersectLineAndRay as C}from\"../../../support/geometry2dUtils.js\";class I extends z{constructor(t,i,e,s=0,n=0){super(t),this.planeType=i,this.edge=e,this.distance=s,this._plane=D(),this._offsetPlane=D(),this._minDistance=-1/0,this._maxDistance=1/0,0===n&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var t,i,e,s;const n=this._toXYZ(this.edge.left.pos),r=this._toXYZ(null==(t=this.edge.left.left)||null==(i=t.left)?void 0:i.pos),h=this._toXYZ(this.edge.right.pos),o=this._toXYZ(null==(e=this.edge.right.right)||null==(s=e.right)?void 0:s.pos);this._edgeDirection=a(m(),n,h),this._left=this._computeNeighbor(n,r,this._edgeDirection),this._right=this._computeNeighbor(h,o,this._edgeDirection)}_toXYZ(t){return i(t)?this.helper.toXYZ(t):null}_computeNeighbor(t,i,s){if(e(i))return{start:t,end:i,direction:u(-s[1],s[0],0),isOriginalDirection:!0};const n=a(m(),t,i),r=!this._passesBisectingAngleThreshold(n,s);return{start:t,end:i,direction:r?this._bisectVectorsPerpendicular(s,n):n,isOriginalDirection:!r}}_passesBisectingAngleThreshold(t,i){const e=Math.abs(j(i,t));return e>=M&&e<=Math.PI-M}_bisectVectorsPerpendicular(t,i){const e=o(t,i)<0?t:c(m(),t),s=Math.abs(o(e,i));if(!(s<.001||s>.999))return this._bisectDirection(e,i);const n=_(m(),e,[0,0,1]);return l(n,n)}_bisectDirection(t,i){const e=p(m(),t,i);return l(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);o(t,i)<0&&c(i,i),b(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=_(m(),t.direction,this._edgeDirection);l(i,i);const e=_(m(),this._edgeDirection,i);return 1===this.planeType&&(e[2]=0),l(e,e)}_initializeDistanceConstraints(){i(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(x(this._plane,this._left.end)),i(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(x(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=N(t),e=this._edgeDirection,a=p(m(),this._left.start,this._left.direction),o=p(m(),this._right.start,this._right.direction),c=this._pointInBasis2D(h(),i,e,this._left.start),_=this._pointInBasis2D(h(),i,e,a),l=this._pointInBasis2D(h(),i,e,this._right.start),g=this._pointInBasis2D(h(),i,e,o),[f]=C({start:_,end:c,type:1},{start:g,end:l,type:1});if(!f)return;const u=s(h(),c,_);n(u,u);const D=s(h(),f,_),b=r(u,D),y=p(m(),a,d(m(),this._left.direction,-b)),P=x(t,y);this._updateDistanceConstraint(P)}_pointInBasis2D(t,i,e,s){return t[0]=v(i,s),t[1]=v(e,s),t}_offset(t,e){Number.isFinite(this._minDistance)&&(e=Math.max(this._minDistance,e)),Number.isFinite(this._maxDistance)&&(e=Math.min(this._maxDistance,e)),y(this._plane,this._offsetPlane),this._offsetPlane[3]-=e;const s=(t,e,s)=>i(e)&&P(this._offsetPlane,t,p(m(),t,e),s),n=m();(t===this.edge.left?s(this._left.start,this._left.direction,n):s(this._right.start,this._right.direction,n))&&this.helper.copy(this.helper.fromXYZ(n,void 0,this.helper.getM(t.pos)),t.pos)}signedDistanceToPoint(t){return x(this.plane,this.helper.toXYZ(this.helper.fromPoint(t)))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof I&&this.edge.left.index===t.edge.left.index&&this.edge.right.index===t.edge.right.index&&this.edge.component===t.edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&g(N(this._plane),N(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new I(this.helper,this.planeType,this.edge,this.distance,1);return y(this._plane,t._plane),y(this._offsetPlane,t._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=f(m(),this._edgeDirection),t}_maybeEqualsVec3(t,s){return e(t)&&e(s)||i(t)&&i(s)&&g(t,s)}_cloneNeighbor({start:t,end:e,direction:s,isOriginalDirection:n}){return{start:f(m(),t),end:i(e)?f(m(),e):null,direction:f(m(),s),isOriginalDirection:n}}}const M=t(15);export{I as OffsetEdgeVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{PerVertexOperation as a}from\"./UpdateVertices.js\";class e extends a{constructor(t,a,e,i=0){super(t),this.origin=a,this.angle=e,this.accumulationType=i}rotate(t,a){this.helper.rotate(t.pos,this.origin,a)}apply(t){this.rotate(t,this.angle)}undo(t){this.rotate(t,-this.angle)}canAccumulate(a){return a instanceof e&&t(this.origin,a.origin)}accumulate(t,a){const e=1===a.accumulationType;this.rotate(t,e?a.angle-this.angle:a.angle)}accumulateParams(t){const a=1===t.accumulationType;this.angle=a?t.angle:this.angle+t.angle}}export{e as RotateVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{s}from\"../../../../chunks/vec2.js\";import{a}from\"../../../../chunks/vec2f64.js\";import{PerVertexOperation as i}from\"./UpdateVertices.js\";class c extends i{constructor(t,i,c,r,o,h=0){super(t),this.origin=i,this.axis1=c,this.factor1=r,this.factor2=o,this.accumulationType=h,this.axis2=s(a(),c[1],-c[0])}scale(t,s,a){this.helper.scale(t.pos,this.origin,this.axis1,s),this.helper.scale(t.pos,this.origin,this.axis2,a)}apply(t){this.scale(t,this.factor1,this.factor2)}undo(t){this.scale(t,1/this.factor1,1/this.factor2)}canAccumulate(s){return s instanceof c&&t(this.origin,s.origin)&&t(this.axis1,s.axis1)}accumulate(t,s){1===s.accumulationType?this.scale(t,s.factor1/this.factor1,s.factor2/this.factor2):this.scale(t,s.factor1,s.factor2)}accumulateParams(t){const s=1===t.accumulationType;this.factor1=s?t.factor1:this.factor1*t.factor1,this.factor2=s?t.factor2:this.factor2*t.factor2}}export{c as ScaleVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.operations=[],this.closed=!1}close(){this.closed=!0}apply(){for(const t of this.operations)t.apply()}undo(){for(let t=this.operations.length-1;t>=0;t--)this.operations[t].undo()}accumulate(t){if(this.closed)return!1;const o=this.operations.length?this.operations[this.operations.length-1]:null;return o&&o.accumulate(t)||(this.operations.push(t),t.apply()),!0}}export{t as UndoGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{EditGeometry as t}from\"./EditGeometry.js\";export{Component,Edge,EditGeometry,Vertex}from\"./EditGeometry.js\";import{AppendVertex as r}from\"./operations/AppendVertex.js\";import{UpdateVertices as o}from\"./operations/UpdateVertices.js\";import{RemoveVertices as i}from\"./operations/RemoveVertices.js\";import{SplitEdge as s}from\"./operations/SplitEdge.js\";import{MoveVertex as n}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as m}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as d}from\"./operations/RotateVertex.js\";import{ScaleVertex as p}from\"./operations/ScaleVertex.js\";import{UndoGroup as y}from\"./operations/UndoGroup.js\";class a extends e{constructor(e,t){super(),this.editGeometry=e,this.type=t,this._geometry=null,this._dirty=!0,this._listener=this.editGeometry.on(\"change\",(e=>{this._dirty=!0,e.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this._listener.remove()}splitEdge(e,t){return this.editGeometry.apply(new s(this.editGeometry,e,t))}updateVertices(e,t,r=1){return this.editGeometry.apply(new o(this.editGeometry,e,t),r)}moveVertices(e,t,r,o,i=1){return this.updateVertices(e,new n(this.editGeometry.coordinateHelper,t,r,o),i)}scaleVertices(e,t,r,o,i,s=1,n=0){return this.updateVertices(e,new p(this.editGeometry.coordinateHelper,t,r,o,i,n),s)}rotateVertices(e,t,r,o=1,i=0){return this.updateVertices(e,new d(this.editGeometry.coordinateHelper,t,r,i),o)}removeVertices(e){return this.editGeometry.apply(new i(this.editGeometry,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.editGeometry.components.length?null:this.editGeometry.apply(new r(this.editGeometry,this.editGeometry.components[0],e))}offsetEdge(e,t,r,o=1){return this.updateVertices([t.left,t.right],new m(this.editGeometry.coordinateHelper,e,t,r),o)}canRemoveVertex(){return this.editGeometry.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new y;return this.editGeometry.apply(e),{remove:()=>e.close()}}undo(){return this.editGeometry.undo()}get canUndo(){return this.editGeometry.canUndo}redo(){return this.editGeometry.redo()}get canRedo(){return this.editGeometry.canRedo}get geometry(){if(this._dirty){switch(this.type){case\"point\":this._geometry=this.editGeometry.toPoint();break;case\"polyline\":this._geometry=this.editGeometry.toPolyline();break;case\"polygon\":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}get _minNumVerticesPerType(){switch(this.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}static fromGeometry(e,r){return new a(t.fromGeometry(e,r),e.type)}}export{a as EditGeometryHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.geometry=e.geometry,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.visualizer=e.visualizer}get coordinateHelper(){return this.geometry.editGeometry.coordinateHelper}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-add\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-update\"}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-remove\"}preventDefault(){this.defaultPrevented=!0}}class i{constructor(t,e,s,i,r=null){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.mapPoint=r,this.coordinates=null,this.defaultPrevented=!1,this.type=\"cursor-update\",this.coordinates=1===i.length?i[0]:null}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e){this.native=t,this.vertices=e,this.coordinates=null,this.defaultPrevented=!1,this.type=\"draw-complete\",this.coordinates=1===e.length?e[0]:null}preventDefault(){this.defaultPrevented=!0}}export{i as CursorUpdateEvent,r as DrawCompleteEvent,t as VertexAddEvent,s as VertexRemoveEvent,e as VertexUpdateEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst e={redo:\"r\",undo:\"z\",center:\"Alt\",constraint:\"Shift\",snappingToggle:\"Control\",cancel:\"Escape\",delete:[\"Backspace\",\"Delete\"],complete:\"Enter\",vertexAdd:\"f\",pan:\" \"};export{e as SKETCH_KEYS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./tslib.es6.js\";import\"../geometry.js\";import t from\"../core/Handles.js\";import{abortMaybe as i,isSome as s,isNone as o}from\"../core/maybe.js\";import\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import r from\"../views/draw/DrawAction.js\";import{VertexRemoveEvent as a,VertexAddEvent as d,CursorUpdateEvent as p,DrawCompleteEvent as h}from\"../views/draw/input/DrawEvents.js\";import{ViewEventPriorities as _}from\"../views/input/InputManager.js\";import{SKETCH_KEYS as c}from\"../views/interactive/keybindings.js\";import{createScreenPointFromEvent as v}from\"../views/support/screenUtils.js\";import l from\"../geometry/Point.js\";let u=class extends r{constructor(e){super(e),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy(),this.emit(\"destroy\")}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=v(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),_.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=v(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),_.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._addVertexOnPointerUp=!1)}),_.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp)this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),_.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),_.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),_.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:s}=e;t===c.vertexAdd&&!s&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t===c.complete&&!s&&this._cursorScreenPoint&&this.vertices.length>2?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e),this._drawCompleteHandler(e)):t!==c.undo||this.interactiveUndoDisabled||s?t!==c.redo||this.interactiveUndoDisabled||s?t!==c.pan||s||e.stopPropagation():(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo())}),_.TOOL),this.view.on(\"key-up\",(e=>{e.key===c.pan&&e.stopPropagation()}),_.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometry.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];s(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new a(this.view,t,e.vertices[0].index,i))}})),this._editGeometry.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new d(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];s(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new d(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i);const s=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(s)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(s(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new p(this.view,e,this._activeComponent.vertices.length,this.vertices,s(this._stagedVertex)?new l(this._stagedVertex):null);this.emit(\"cursor-update\",t()),s(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._snappingTask=i(this._snappingTask),s(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<2)return;const t=new h(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return m(e)&&(o(this._activePointerId)||this._activePointerId===e.pointerId)}};function m(e){return\"mouse\"!==e.pointerType||0===e.button}u=e([n(\"esri.views.draw.MultipointDrawAction\")],u);var g=Object.freeze({__proto__:null,get MultipointDrawAction(){return u}});export{u as M,g as a};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as i}from\"../../interactive/dragEventPipeline.js\";import{SnappingContext as o}from\"../../interactive/snapping/SnappingContext.js\";import{TaskPriority as p,ImmediateTask as s}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new i}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,g=null;const y=()=>{x=t(x),d.doneSnapping(),n(g)&&g.frameTask.remove(),g=null};return l.next((e=>(y(),e))),this.next=new i,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(p.SNAPPING):s;g={context:new o({geometry:m.geometry,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.createDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(g)){const t=g.context.coordinateHelper.createDehydratedPoint(g.context.coordinateHelper.fromArray([g.originalPos.x,g.originalPos.y,g.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-g.originalPos.x,i=e.mapStart.y-g.originalPos.y,o={...e,action:\"udpate\"},p=g.context,s=d.update(t,g.context);if(e.mapEnd.x=s.x+n,e.mapEnd.y=s.y+i,\"end\"!==e.action){const e=g.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,p,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,s)||(o.mapEnd.x=t.x+n,o.mapEnd.y=t.y+i,this.next.execute(o))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&y(),e}}}export{c as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{g as n,f as a,k as l,o}from\"../../../../chunks/vec3.js\";import{c as h,f as d}from\"../../../../chunks/vec3f64.js\";import{g as p,c as _}from\"../../../../chunks/vec4.js\";import{f as u,a as c}from\"../../../../chunks/vec4f32.js\";import{fromRay as f,getStart as m,getEnd as y,create as g}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as x}from\"../../../../geometry/support/frustum.js\";import{fromPoints as w,pointAt as b,create as R}from\"../../../../geometry/support/lineSegment.js\";import{create as E,fromPoints as O}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as C}from\"./Object3DVisualElement.js\";import v from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class P extends C{constructor(t){super(t),this._ray=E(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=h(),this._end=d(1,0,0),this._width=1,this._color=u(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=u(1,1,1,1),this._stippleIntegerRepeats=!0,this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._extensionType=0,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=4,this._fadedExtensions=G,this.applyProps(t)}createExternalResources(){const e=new M(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()})));const t=new j({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[h(),h()],i=3===this.extensionType;i&&t.push(h(),h());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=v.createPolylineGeometry(t,null,r);e.addGeometry(n,s(this._externalResources).material),this.updateVertices(n)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,n(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),a(this._end,e,this._end),O(this._start,this._end,this._ray),this.updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,l(this._start,e)||(n(this._start,e),O(this._start,this._end,this._ray),this.updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,l(this._end,e)||(n(this._end,e),O(this._start,this._end,this._ray),this.updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(_(this._color,e),this.updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(_(this._innerColor,e),this.updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){e!==this._stippleIntegerRepeats&&(this._stippleIntegerRepeats=e,this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!p(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?c(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,G),this.recreateGeometry()}updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stippleIntegerRepeats:this._stippleIntegerRepeats,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}updateGeometry(){t(this.object)&&this.updateVertices(this.object.geometries[0])}updateVertices(e){const s=3===this._extensionType?this.updateLineSegmentFinite(S):this.updateLineSegmentInfinite(this._extensionType,S);this.updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}updateLineSegmentFinite(e){return w(this._start,this._end,e)}updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(f(this._ray,D),e){case 0:D.c0=-Number.MAX_VALUE;break;case 1:case 2:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&o(D.ray.direction,D.ray.direction),2===this._extensionType&&null!=t&&(D.c1=Math.abs(s-t));break}}if(!x(s.frustum,D))return w(this._start,this._end,t);const i=m(D,A),n=y(D,W);return w(i,n,t)}updateVertexAttributes(e,s){const i=e.getMutableAttribute(\"position\").data;if(3===this.extensionType){const e=b(s,-this.fadedExtensions.start,A);i[0]=e[0],i[1]=e[1],i[2]=e[2];const t=b(s,0,A);i[3]=t[0],i[4]=t[1],i[5]=t[2];const r=b(s,1,A);i[6]=r[0],i[7]=r[1],i[8]=r[2];const n=b(s,1+this.fadedExtensions.end,A);i[9]=n[0],i[10]=n[1],i[11]=n[2]}else{const e=b(s,0,A);i[0]=e[0],i[1]=e[1],i[2]=e[2];const t=b(s,1,A);i[3]=t[0],i[4]=t[1],i[5]=t[2]}t(this.object)&&this.object.geometryVertexAttrsUpdated(0)}}const D=g(),A=h(),W=h(),S=R(),V=1/3,G={start:V,end:V};export{P as ExtendedLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as s,isNone as r}from\"../../../../core/maybe.js\";import{createScreenPointArray as i}from\"../../../../core/screenUtils.js\";import{I as o}from\"../../../../chunks/mat4f64.js\";import{f as a,a as c,b as h,s as n,i as l}from\"../../../../chunks/vec2.js\";import{k as d,g as m,n as u,f as _,b as p}from\"../../../../chunks/vec3.js\";import{c as f,f as g}from\"../../../../chunks/vec3f64.js\";import{g as y,c as j}from\"../../../../chunks/vec4.js\";import{f as w}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as x}from\"./Object3DVisualElement.js\";import b from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as G}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class R extends x{constructor(t){super(t),this._handles=new e,this._location=f(),this._direction=g(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=w(1,0,1,1),this._renderOccluded=4,this.applyProps(t)}get location(){return this._location}set location(e){d(this._location,e)||(m(this._location,e),this.updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(m(this._direction,e),this.updateGeometry())}setDirectionFromPoints(e,t){u(this._direction,_(this._direction,t,e)),this.updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this.updateGeometry())}get color(){return this._color}set color(e){y(e,this._color)||(j(this._color,e),this.updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}createExternalResources(){const e=new G(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const s=b.createPolylineGeometry([f(),f()]),r=b.createPolylineGeometry([f(),f()]),i=t(this._externalResources).material;e.addGeometry(s,i,o),e.addGeometry(r,i,o),this.updateVertices(e)}forEachExternalMaterial(e){s(this._externalResources)&&e(this._externalResources.material)}updateMaterial(){if(r(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}updateGeometry(){const e=this.object;r(e)||this.updateVertices(e)}updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,V),p(O,this.location,this.direction),t.projectToScreen(O,v),a(v,c(v,v,V)),this.updateVertexAttributes(t,e,0,V,v,1),this.updateVertexAttributes(t,e,1,V,v,-1)}updateVertexAttributes(e,t,s,r,i,o){const a=t.geometryRecords[s].geometry.getMutableAttribute(\"position\").data,c=h(P,n(P,i[1]*o,i[0]*-o),this.offset+this.width/2),d=l(k,l(k,l(k,r,h(k,i,this.length/2)),c),c),m=l(M,d,h(M,i,-this.length));e.unprojectFromScreen(d,O),a[0]=O[0],a[1]=O[1],a[2]=O[2],e.unprojectFromScreen(m,O),a[3]=O[0],a[4]=O[1],a[5]=O[2],t.geometryVertexAttrsUpdated(s)}}const O=f(),V=i(),v=i(),P=i(),k=i(),M=i();export{R as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class o{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{2===s.type&&e.remove(s)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:1});e.add(s);const o=new t({castShadow:!1}),i=this.resourceFactory.createResources(o,s);i.forEach((s=>e.add(s))),e.add(o),s.add(o),this._syncVisible();const a=this.resourceFactory.cameraChanged?r(this.resourceFactory.view.state,\"camera\",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:i,cameraHandle:a}}_destroyResources(){if(s(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(this._resources.object),null==e||e.remove(this._resources.layer),this._resources.external.forEach((s=>{null==e||e.remove(s),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{o as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{hydrateGeometry as t}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as r}from\"../../../../support/arcadeOnDemand.js\";const n=e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function c(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function o(e){const t=e&&e.expression;if(\"string\"==typeof t){const e=p(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,t,n){const c=e&&e.expression;if(\"string\"!=typeof c)return null;const o=p(c);if(null!=o)return{cachedResult:o};const a=await r(),u=a.arcadeUtils,s=u.createSyntaxTree(c);return u.dependsOnView(s)?(null!=n&&n.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:u.createFunction(s),context:u.createExecContext(null,{sr:t}),modules:a}}}function u(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function s(e,r){if(null!=e&&!f(e)){if(!r||!e.arcade)return void n.errorOncePerTick(\"Arcade support required but not provided\");const c=r;c._geometry&&(c._geometry=t(c._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,r)}}function l(e){if(null!=e){if(f(e))return e.cachedResult;const t=e.arcade;let r=e.arcade.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function i(e,t=!1){let r=e&&e.featureExpressionInfo;const n=r&&r.expression;return t||\"0\"===n||(r=null),r}const d={cachedResult:0};function f(e){return null!=e.cachedResult}function p(e){return\"0\"===e?0:null}export{c as clone,a as createContext,o as createContextWithoutExpressionSupport,u as createFeature,l as execute,i as extractExpressionInfo,s as setContextFeature,d as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{getMetersPerUnit as s,supportsUnit as i}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as r,clone as o,setContextFeature as f,createFeature as u}from\"./featureExpressionInfoUtils.js\";class h{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(t){this._unit=t,this._metersPerElevationInfoUnit=s(t)}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const n=this.featureExpressionInfoContext;return null!=n&&(e+=r(n)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(e){this.mode=e.mode,this.unit=i(e.unit)?e.unit:\"meters\",this.offsetElevationInfoUnits=t(e.offset,0)}updateFeatureExpressionInfoContext(t,s,i){if(e(t))return void(this._featureExpressionInfoContext=null);const r=t&&t.arcade;r&&n(s)&&n(i)?(this._featureExpressionInfoContext=o(t),f(this._featureExpressionInfoContext,u(r.modules,s,i))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new h;return n(t)&&e.setFromElevationInfo(t),e}}export{h as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{packFloatRGBA as t}from\"../../webgl-engine/lib/Util.js\";function r(t,r,u){switch(t){case\"circle\":return n(r,u);case\"square\":return e(r,u);case\"cross\":return o(r,u);case\"x\":return s(r,u);case\"kite\":return a(r,u);case\"triangle\":return c(r,u);default:return n(r,u)}}function n(r,n){const e=r,a=new Uint8Array(4*e*e),o=e/2-.5,s=n/2;for(let c=0;c<e;c++)for(let n=0;n<e;n++){const u=n+e*c,i=n-o,f=c-o;let l=Math.sqrt(i*i+f*f)-s;l=l/r+.5,t(l,a,4*u)}return a}function e(t,r){return u(t,r,!1)}function a(t,r){return u(t,r,!0)}function o(t,r){return i(t,r,!1)}function s(t,r){return i(t,r,!0)}function c(r,n){const e=new Uint8Array(4*r*r),a=1,o=-.5,s=Math.sqrt(a*a+o*o),c=(r-n)/2;for(let u=0;u<r;u++)for(let i=0;i<r;i++){const f=u*r+i,l=(i-c)/n,h=(u-c+.75)/n,M=-(a*l+o*h)/s,b=(a*(l-1)+o*-h)/s,w=-h,Q=Math.max(M,b,w);t(Q*n/r+.5,e,4*f)}return e}function u(r,n,e){e&&(n/=Math.SQRT2);const a=new Uint8Array(4*r*r);for(let o=0;o<r;o++)for(let s=0;s<r;s++){let c=s-.5*r+.25,u=.5*r-o-.75;const i=o*r+s;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f=Math.max(Math.abs(c),Math.abs(u))-.5*n;f=f/r+.5,t(f,a,4*i)}return a}function i(r,n,e){e&&(n*=Math.SQRT2);const a=.5*n,o=new Uint8Array(4*r*r);for(let s=0;s<r;s++)for(let n=0;n<r;n++){let c=n-.5*r,u=.5*r-s-1;const i=s*r+n;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f;c=Math.abs(c),u=Math.abs(u),f=c>u?c>a?Math.sqrt((c-a)*(c-a)+u*u):u:u>a?Math.sqrt(c*c+(u-a)*(u-a)):c,f=f/r+.5,t(f,o,4*i)}return o}export{n as createCircle,o as createCross,a as createKite,e as createSquare,c as createTriangle,r as createType,s as createX};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{bindSliceUniformsWithOrigin as r}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindVerticalOffsetUniforms as t}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{bindHUDUniforms as i}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{bindOutputHighlight as o}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindMultipassGeometryTexture as s}from\"../core/shaderLibrary/shading/MultipassGeometryTest.glsl.js\";import{bindMultipassTerrainTexture as a}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindVisualVariablesUniforms as n}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{bindScreenSizePerspectiveUniforms as l}from\"../core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{bindProjectionMatrix as p,bindViewport as d,bindView as c,bindCameraPosition as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as h}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as m}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as g,parameter as f}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as b}from\"../lib/DefaultVertexAttributeLocations.js\";import{OITBlending as v}from\"../lib/OrderIndependentTransparency.js\";import{Program as y}from\"../lib/Program.js\";import{b as E,H as T}from\"../../../../chunks/HUDMaterial.glsl.js\";import{defaultDepthWriteParams as P,makePipelineState as x,defaultColorWriteParams as O,simpleBlendingParams as S}from\"../../../webgl/renderState.js\";class j extends m{initializeProgram(e){const r=j.shader.get(),t=this.configuration,i=r.build({output:t.output,FrontFacePass:2===t.transparencyPassType,viewingMode:e.viewingMode,occlusionTestEnabled:t.occlusionTestEnabled,signedDistanceFieldEnabled:t.sdf,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,debugDrawBorder:t.debugDrawBorder,binaryHighlightOcclusionEnabled:t.binaryHighlightOcclusion,screenCenterOffsetUnitsEnabled:t.screenCenterOffsetUnitsEnabled,screenSizePerspectiveEnabled:t.screenSizePerspective,verticalOffsetEnabled:t.verticalOffset,pixelSnappingEnabled:t.pixelSnappingEnabled,vvSize:t.vvSize,vvColor:t.vvColor,vvInstancingEnabled:!1,isDraped:t.isDraped,multipassGeometryEnabled:t.multipassGeometryEnabled,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new y(e.rctx,i,b)}bindPass(e,r){p(this.program,r.camera.projectionMatrix),this.program.setUniform1f(\"cameraGroundRelative\",r.camera.aboveGround?1:-1),this.program.setUniform1f(\"perDistancePixelRatio\",Math.tan(r.camera.fovY/2)/(r.camera.fullViewport[2]/2)),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix),this.program.setUniform1f(\"polygonOffset\",e.shaderPolygonOffset),t(this.program,e,r),l(this.program,e),this.program.setUniform1f(\"pixelRatio\",r.camera.pixelRatio||1),d(this.program,r),6===this.configuration.output?(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),s(this.program,r),a(this.program,r)):(i(this.program,r),E(this.program,e,r.camera.pixelRatio||1),n(this.program,e),this.configuration.occlusionTestEnabled&&this.program.bindTexture(r.hudVisibilityTexture,\"hudVisibilityTexture\")),4===this.configuration.output&&o(this.program,r)}bindDraw(e){c(this.program,e),u(this.program,e.origin,e.camera.viewInverseTransposeMatrix),r(this.program,this.configuration,e),this.program.rebindTextures()}setPipelineState(e){const r=this.configuration,t=3===e,i=2===e,o=515,s=this.configuration.polygonOffsetEnabled&&w,a=(t||i)&&4!==r.output?(r.depthEnabled||6===r.output)&&P:null;return x({blending:0===r.output||7===r.output||4===r.output?t?D:v(e):null,depthTest:{func:o},depthWrite:a,colorWrite:O,polygonOffset:s})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return 6===this.configuration.output?0:4}}j.shader=new h(T,(()=>import(\"./HUDMaterial.glsl.js\")));const w={factor:0,units:-4},D=S(1,771);class U extends g{constructor(){super(...arguments),this.output=0,this.occlusionTestEnabled=!0,this.sdf=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.screenSizePerspective=!1,this.screenCenterOffsetUnitsEnabled=0,this.debugDrawBorder=!0,this.binaryHighlightOcclusion=!0,this.slicePlaneEnabled=!1,this.polygonOffsetEnabled=!1,this.depthEnabled=!0,this.transparencyPassType=3,this.pixelSnappingEnabled=!0,this.isDraped=!1,this.multipassGeometryEnabled=!1,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([f({count:8})],U.prototype,\"output\",void 0),e([f()],U.prototype,\"occlusionTestEnabled\",void 0),e([f()],U.prototype,\"sdf\",void 0),e([f()],U.prototype,\"vvSize\",void 0),e([f()],U.prototype,\"vvColor\",void 0),e([f()],U.prototype,\"verticalOffset\",void 0),e([f()],U.prototype,\"screenSizePerspective\",void 0),e([f({count:2})],U.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([f()],U.prototype,\"debugDrawBorder\",void 0),e([f()],U.prototype,\"binaryHighlightOcclusion\",void 0),e([f()],U.prototype,\"slicePlaneEnabled\",void 0),e([f()],U.prototype,\"polygonOffsetEnabled\",void 0),e([f()],U.prototype,\"depthEnabled\",void 0),e([f({count:4})],U.prototype,\"transparencyPassType\",void 0),e([f()],U.prototype,\"pixelSnappingEnabled\",void 0),e([f()],U.prototype,\"isDraped\",void 0),e([f()],U.prototype,\"multipassGeometryEnabled\",void 0),e([f()],U.prototype,\"multipassTerrainEnabled\",void 0),e([f()],U.prototype,\"cullAboveGround\",void 0);export{j as HUDMaterialTechnique,U as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as e,sign as t}from\"../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{f as r}from\"../../../../chunks/mat3.js\";import{c as n}from\"../../../../chunks/mat3f64.js\";import{a}from\"../../../../chunks/mat4.js\";import{c as o}from\"../../../../chunks/mat4f64.js\";import{c}from\"../../../../chunks/vec2.js\";import{a as l,f as u}from\"../../../../chunks/vec2f64.js\";import{s as f,m as p,n as h,f as m,a as d,g,l as v,i as x,t as b,d as S,b as A}from\"../../../../chunks/vec3.js\";import{c as q,f as O}from\"../../../../chunks/vec3f64.js\";import{isMat4 as P}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import{create as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{newLayout as z}from\"../../support/buffer/InterleavedLayout.js\";import{computeAttachmentOriginPoints as C}from\"../lib/geometryDataUtils.js\";import T from\"../lib/GLMaterialTexture.js\";import{Material as _,materialParametersDefaults as w}from\"../lib/Material.js\";import{applyScaleFactor as j,applyPrecomputedScaleFactor as D,precomputeScaleFactor as M}from\"../lib/screenSizePerspectiveUtils.js\";import{assert as E}from\"../lib/Util.js\";import{writePosition as V,writeNormal as G,writeColor as I,writeBufferVec4 as R}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as U}from\"./internal/MaterialUtil.js\";import{isInstanceHidden as B}from\"./renderers/utils.js\";import{c as H}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechniqueConfiguration as k,HUDMaterialTechnique as F}from\"../shaders/HUDMaterialTechnique.js\";class W extends _{constructor(e){super(e,me),this.techniqueConfig=new k}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.verticalOffset=!!this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=!!this.params.screenSizePerspective,this.techniqueConfig.screenCenterOffsetUnitsEnabled=\"screen\"===this.params.centerOffsetUnits?1:0,this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig.isDraped=this.params.isDraped,this.techniqueConfig.occlusionTestEnabled=this.params.occlusionTest,this.techniqueConfig.pixelSnappingEnabled=this.params.pixelSnappingEnabled,this.techniqueConfig.sdf=this.params.textureIsSignedDistanceField,this.techniqueConfig.vvSize=!!this.params.vvSizeEnabled,this.techniqueConfig.vvColor=!!this.params.vvColorEnabled,0===e&&(this.techniqueConfig.debugDrawBorder=!!this.params.debugDrawBorder),4===e&&(this.techniqueConfig.binaryHighlightOcclusion=this.params.binaryHighlightOcclusion),this.techniqueConfig.depthEnabled=this.params.depthEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassGeometryEnabled=!!t&&t.multipassGeometryEnabled,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}intersect(e,t,i,s,r,n,a,o,c){c?this.intersectDrapedHudGeometry(e,n,a,o):this.intersectHudGeometry(e,t,i,s,a,o)}intersectDrapedHudGeometry(e,t,s,r){const n=e.vertexAttributes.get(\"position\"),a=e.vertexAttributes.get(\"size\"),o=this.params,c=H(o);let l=1,u=1;if(i(r)){const e=r(le);l=e[0],u=e[5]}l*=e.screenToWorldRatio,u*=e.screenToWorldRatio;const f=fe*e.screenToWorldRatio;for(let i=0;i<n.data.length/n.size;i++){const r=i*n.size,p=n.data[r],h=n.data[r+1],m=i*a.size;let d;pe[0]=a.data[m]*l,pe[1]=a.data[m+1]*u,o.textureIsSignedDistanceField&&(d=o.outlineSize*e.screenToWorldRatio/2),X(t,p,h,pe,f,d,o,c)&&s()}}intersectHudGeometry(e,t,s,n,o,c){if(!n.options.selectionMode||!n.options.hud)return;if(B(t))return;const l=this.params;let u=1,b=1;if(r(re,s),i(c)){const e=c(le);u=e[0],b=e[5],Q(re)}const S=e.vertexAttributes.get(\"position\"),A=e.vertexAttributes.get(\"size\"),O=e.vertexAttributes.get(\"normal\"),P=e.vertexAttributes.get(\"auxpos1\");E(S.size>=3);const y=n.point,z=n.camera,C=H(l);u*=z.pixelRatio,b*=z.pixelRatio;const T=\"screen\"===this.params.centerOffsetUnits;for(let i=0;i<S.data.length/S.size;i++){const e=i*S.size;f($,S.data[e],S.data[e+1],S.data[e+2]),p($,$,s);const t=i*A.size;pe[0]=A.data[t]*u,pe[1]=A.data[t+1]*b,p($,$,z.viewMatrix);const r=i*P.size;if(f(oe,P.data[r+0],P.data[r+1],P.data[r+2]),!T&&($[0]+=oe[0],$[1]+=oe[1],0!==oe[2])){const e=oe[2];h(oe,$),m($,$,d(oe,oe,e))}const c=i*O.size;if(f(ee,O.data[c],O.data[c+1],O.data[c+2]),this.normalAndViewAngle(ee,re,z,ce),this.applyVerticalOffsetTransformationView($,ce,z,Y),z.applyProjection($,te),te[0]>-1){let e=Math.floor(te[0])+this.params.screenOffset[0],t=Math.floor(te[1])+this.params.screenOffset[1];T&&(e+=oe[0],0!==oe[1]&&(t+=j(oe[1],Y.factorAlignment))),D(pe,Y.factor,pe);const i=ue*z.pixelRatio;let s;if(l.textureIsSignedDistanceField&&(s=l.outlineSize*z.pixelRatio/2),X(y,e,t,pe,i,s,l,C)){const e=n.ray;if(p(se,$,a(ae,z.viewMatrix)),te[0]=y[0],te[1]=y[1],z.unprojectFromRenderScreen(te,$)){const t=q();g(t,e.direction);const i=1/v(t);d(t,t,i);o(x(e.origin,$)*i,t,-1,1,!0,se)}}}}}computeAttachmentOrigin(e,t){const i=e.vertexAttributes;if(!i)return!1;const s=i.get(\"position\"),r=e.indices.get(\"position\");return C(s,r,t)}createBufferWriter(){return new ge(this)}normalAndViewAngle(e,t,i,s){return P(t)&&(t=r(ne,t)),b(s.normal,e,t),p(s.normal,s.normal,i.viewInverseTransposeMatrix),s.cosAngle=S(ie,he),s}updateScaleInfo(e,t,i){const s=this.params;s.screenSizePerspective?M(i,t,s.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minPixelSize=0,e.factor.paddingPixels=0),s.screenSizePerspectiveAlignment?M(i,t,s.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minPixelSize=e.factor.minPixelSize,e.factorAlignment.paddingPixels=e.factor.paddingPixels)}applyShaderOffsetsView(e,t,i,s,r,n,a){const o=this.normalAndViewAngle(t,i,r,ce);return this.applyVerticalGroundOffsetView(e,o,r,a),this.applyVerticalOffsetTransformationView(a,o,r,n),this.applyPolygonOffsetView(a,o,s[3],r,a),this.applyCenterOffsetView(a,s,a),a}applyShaderOffsetsNDC(e,t,s,r,n){return this.applyCenterOffsetNDC(e,t,s,r),i(n)&&g(n,r),this.applyPolygonOffsetNDC(r,t,s,r),r}applyPolygonOffsetView(i,s,r,n,a){const o=n.aboveGround?1:-1;let c=t(r);0===c&&(c=o);const l=o*c;if(this.params.shaderPolygonOffset<=0)return g(a,i);const u=e(Math.abs(s.cosAngle),.01,1),f=1-Math.sqrt(1-u*u)/u/n.viewport[2];return d(a,i,l>0?f:1/f),a}applyVerticalGroundOffsetView(e,t,i,s){const r=v(e),n=i.aboveGround?1:-1,a=.5*i.computeRenderPixelSizeAtDist(r),o=d($,t.normal,n*a);return A(s,e,o),s}applyVerticalOffsetTransformationView(e,t,i,s){const r=this.params;if(!r.verticalOffset||!r.verticalOffset.screenLength){if(r.screenSizePerspective||r.screenSizePerspectiveAlignment){const i=v(e);this.updateScaleInfo(s,i,t.cosAngle)}else s.factor.scale=1,s.factorAlignment.scale=1;return e}const n=v(e),a=r.screenSizePerspectiveAlignment||r.screenSizePerspective,o=U(i,n,r.verticalOffset,t.cosAngle,a);return this.updateScaleInfo(s,n,t.cosAngle),d(t.normal,t.normal,o),A(e,e,t.normal)}applyCenterOffsetView(e,t,i){const s=\"screen\"!==this.params.centerOffsetUnits;return i!==e&&g(i,e),s&&(i[0]+=t[0],i[1]+=t[1],t[2]&&(h(ee,i),A(i,i,d(ee,ee,t[2])))),i}applyCenterOffsetNDC(e,t,i,s){const r=\"screen\"!==this.params.centerOffsetUnits;return s!==e&&g(s,e),r||(s[0]+=t[0]/i.fullWidth*2,s[1]+=t[1]/i.fullHeight*2),s}applyPolygonOffsetNDC(e,i,s,r){const n=this.params.shaderPolygonOffset;if(e!==r&&g(r,e),n){const e=s.aboveGround?1:-1,a=e*t(i[3]);r[2]-=(a||e)*n}return r}getGLMaterial(e){return 0===e.output||7===e.output?new N(e):4===e.output?new J(e):void 0}calculateRelativeScreenBounds(e,t,i=y()){return K(this.params,e,t,i),i[2]=i[0]+e[0],i[3]=i[1]+e[1],i}}class L extends T{constructor(e){super({...e,...e.material.params}),this.updateParameters()}beginSlot(e){return e===(this._material.params.drawInSecondSlot?19:18)}updateParameters(e){this.updateTexture(this._material.params.textureId),this.selectProgram(e)}selectProgram(e){this._technique=this._techniqueRep.releaseAndAcquire(F,this._material.getTechniqueConfig(this._output,e),this._technique)}ensureParameters(e){this.updateParameters(e)}bind(e){this.bindTextures(this._technique.program),this.bindTextureScale(this._technique.program),this._technique.bindPass(this._material.params,e)}}class N extends L{constructor(e){super(e),this._isOcclusionSlot=!1}beginSlot(e){const t=this._material.params.drawInSecondSlot?19:18;return this._material.params.occlusionTest?(this._isOcclusionSlot=12===e,12===e||e===t):(this._isOcclusionSlot=!1,e===t)}get technique(){return this._isOcclusionSlot?this._occlusionTechnique:this._technique}selectProgram(e){this._technique=this._techniqueRep.releaseAndAcquire(F,this._material.getTechniqueConfig(this._output,e),this._technique),this._occlusionTechnique=this._techniqueRep.releaseAndAcquire(F,this._material.getTechniqueConfig(6,e),this._occlusionTechnique)}bind(e){const t=this.technique;this._isOcclusionSlot||(this.bindTextures(t.program),this.bindTextureScale(t.program)),t.bindPass(this._material.params,e)}}class J extends L{constructor(e){super({...e,output:4})}}function K(e,t,i,s=Z){return c(s,e.anchorPos),s[0]*=-t[0],s[1]*=-t[1],s[0]+=e.screenOffset[0]*i,s[1]+=e.screenOffset[1]*i,s}function Q(e){const t=e[0],i=e[1],s=e[2],r=e[3],n=e[4],a=e[5],o=e[6],c=e[7],l=e[8],u=1/Math.sqrt(t*t+i*i+s*s),f=1/Math.sqrt(r*r+n*n+a*a),p=1/Math.sqrt(o*o+c*c+l*l);return e[0]=t*u,e[1]=i*u,e[2]=s*u,e[3]=r*f,e[4]=n*f,e[5]=a*f,e[6]=o*p,e[7]=c*p,e[8]=l*p,e}function X(e,t,i,s,r,n,a,o){let c=t-r-(o[0]>0?s[0]*o[0]:0),l=c+s[0]+2*r,u=i-r-(o[1]>0?s[1]*o[1]:0),f=u+s[1]+2*r;if(a.textureIsSignedDistanceField){const e=a.distanceFieldBoundingBox;c+=s[0]*e[0],u+=s[1]*e[1],l-=s[0]*(1-e[2]),f-=s[1]*(1-e[3]),c-=n,l+=n,u-=n,f+=n}return e[0]>c&&e[0]<l&&e[1]>u&&e[1]<f}const Y={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}},Z=l(),$=q(),ee=q(),te=s(),ie=q(),se=q(),re=n(),ne=n(),ae=o(),oe=q(),ce={normal:ie,cosAngle:0},le=o(),ue=1,fe=2,pe=[0,0],he=O(0,0,1),me={texCoordScale:[1,1],occlusionTest:!0,binaryHighlightOcclusion:!0,drawInSecondSlot:!1,color:[1,1,1,1],outlineColor:[1,1,1,1],outlineSize:0,textureIsSignedDistanceField:!1,distanceFieldBoundingBox:null,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],screenOffset:[0,0],verticalOffset:null,screenSizePerspective:null,screenSizePerspectiveAlignment:null,slicePlaneEnabled:!1,anchorPos:u(.5,.5),shaderPolygonOffset:1e-5,polygonOffset:!1,textureId:null,centerOffsetUnits:\"world\",depthEnabled:!0,pixelSnappingEnabled:!0,debugDrawBorder:!1,isDraped:!1,...w},de=z().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").vec4u8(\"color\").vec2f(\"size\").vec4f(\"auxpos1\").vec4f(\"auxpos2\");class ge{constructor(e){this.material=e,this.vertexBufferLayout=de}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(\"position\").length}write(e,t,i,s){V(t.indices.get(\"position\"),t.vertexAttributes.get(\"position\").data,e.transformation,i.position,s,6),G(t.indices.get(\"normal\"),t.vertexAttributes.get(\"normal\").data,e.invTranspTransformation,i.normal,s,6);{const e=t.vertexAttributes.get(\"uv0\").data;let r,n,a,o;if(null==e||e.length<4){const e=this.material.params;r=0,n=0,a=e.texCoordScale[0],o=e.texCoordScale[1]}else r=e[0],n=e[1],a=e[2],o=e[3];a=Math.min(1.99999,a+1),o=Math.min(1.99999,o+1);const c=t.indices.get(\"position\").length,l=i.uv0;let u=s;for(let t=0;t<c;++t)l.set(u,0,r),l.set(u,1,n),u+=1,l.set(u,0,a),l.set(u,1,n),u+=1,l.set(u,0,a),l.set(u,1,o),u+=1,l.set(u,0,a),l.set(u,1,o),u+=1,l.set(u,0,r),l.set(u,1,o),u+=1,l.set(u,0,r),l.set(u,1,n),u+=1}I(t.indices.get(\"color\"),t.vertexAttributes.get(\"color\").data,4,i.color,s,6);{const e=t.indices.get(\"size\"),r=t.vertexAttributes.get(\"size\").data,n=e.length,a=i.size;let o=s;for(let t=0;t<n;++t){const i=r[2*e[t]],s=r[2*e[t]+1];for(let e=0;e<6;++e)a.set(o,0,i),a.set(o,1,s),o+=1}}t.indices.get(\"auxpos1\")&&t.vertexAttributes.get(\"auxpos1\")&&R(t.indices.get(\"auxpos1\"),t.vertexAttributes.get(\"auxpos1\").data,i.auxpos1,s,6),t.indices.get(\"auxpos2\")&&t.vertexAttributes.get(\"auxpos2\")&&R(t.indices.get(\"auxpos2\"),t.vertexAttributes.get(\"auxpos2\").data,i.auxpos2,s,6)}}export{W as HUDMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as e,nextHighestPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as i}from\"../../../../core/maybe.js\";import{s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as n,c as a}from\"../../../../chunks/vec4.js\";import{f as l}from\"../../../../chunks/vec4f64.js\";import{projectVectorToVector as u}from\"../../../../geometry/projection.js\";import{expandWithBuffer as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{VisualElementResources as m}from\"./VisualElementResources.js\";import{evaluateElevationAlignmentAtPoint as p}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import{createType as d}from\"../../layers/graphics/sdfPrimitives.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{Texture as y}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as v}from\"../../webgl-engine/materials/HUDMaterial.js\";class _{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=l(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=l(1,1,1,1),this._elevationInfo=null,this.resources=new m({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometry=this.recreateGeometry(t,e.material),r(e.geometry)?[e.geometry]:[])});let t=!0;for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this.preferredTextureSize;this._size=e,t<this.preferredTextureSize?r(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}get color(){return this._color}set color(e){n(e,this._color)||(a(this._color,e),this.updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,r(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){n(e,this._outlineColor)||(a(this._outlineColor,e),this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}updateMaterial(){const e=this.resources.resources;i(e)||e.material.setParameterValues(this.materialParameters(e.texture.id))}updateSizeAttribute(){const e=this.resources.resources,t=this.resources.object;if(i(e)||i(t))return;const r=e.geometry;if(i(r))return;const s=r.getMutableAttribute(\"size\").data,o=this.geometrySize;s[0]=o,s[1]=o,t.geometryVertexAttrsUpdated(0)}materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/S}recreateGeometry(e,t){const i=this.createRenderGeometry();return r(i)&&e.addGeometry(i,t),i}createResources(e){const t=this.createTexture(),i=new v(this.materialParameters(t.id)),s=this.recreateGeometry(e,i);return{material:i,texture:t,geometry:s,forEach(e){e(t),e(i),r(this.geometry)&&e(this.geometry)}}}get preferredTextureSize(){return e(t(2*this.geometrySize),16,128)}createTexture(){const e=this.preferredTextureSize;return new y(d(this._primitive,e,e*S),{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}calculateMapBounds(e){if(i(this.resources.resources)||i(this.resources.resources.geometry))return!1;const t=this.resources.resources.geometry.vertexAttributes.get(\"position\");return u(t.data,this.view.renderCoordsHelper.spatialReference,z,this.view.spatialReference),c(e,z),!0}createRenderGeometry(){const e=this.geometry;if(i(e))return null;const{renderCoordsHelper:t,elevationProvider:r}=this.view,o=p(e,r,g.fromElevationInfo(this.elevationInfo),t),n=s(h.get(),e.x,e.y,o),a=h.get();u(n,e.spatialReference,a,t.spatialReference);const l=this.geometrySize;return f.createPointGeometry(null,a,null,[l,l],[0,0,0,1])}}const S=.5,x=[S/2,S/2,1-S/2,1-S/2],z=o();export{_ as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{e as t}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{ExtendedLineVisualElement as o}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as r}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as a}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as l}from\"./visualElements/RightAngleQuadVisualElement.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{anyMapPointToRender as c,anyMapPointsToRenderWithEqualZ as d}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";class m extends p{visualizeIntersectionPoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return n(new a({view:l,primitive:\"circle\",geometry:o.createPoint(t.intersectionPoint),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(s.orange),pixelSnappingEnabled:!1}))}visualizePoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return n(new a({view:l,primitive:\"circle\",geometry:o.createPoint(t.point),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(s.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,t){const{coordinateHelper:i,elevationInfo:o,view:r}=t;return n(this.createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,i,o,r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,o){const{coordinateHelper:a,elevationInfo:l,view:d}=o,p=c(i.lineStart,a,l,o.view),m=c(i.lineEnd,a,l,o.view),u=t(m,p,m,.5),v=new r({view:d,attached:!1,offset:s.parallelLineHintOffset,length:s.parallelLineHintLength,width:s.parallelLineHintWidth,color:e.toUnitRGBA(s.orange),location:u,renderOccluded:16});return v.setDirectionFromPoints(p,u),v.attached=!0,n(v)}visualizeRightAngleQuad(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return n(new l({view:a,attached:!0,color:e.toUnitRGBA(s.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:e.toUnitRGBA(s.orange),outlineSize:s.rightAngleHintOutlineSize,size:s.rightAngleHintSize,geometry:{previous:c(t.previousVertex,o,r,a),center:c(t.centerVertex,o,r,a),next:c(t.nextVertex,o,r,a)}}))}createLineSegmentHintFromMap(e,n,t,o,r,a,l=!0,s=!0){const c=i(),p=i();return d(n,t,o,r,a,c,p),this.createLineSegmentHint(e,a,c,p,l,s)}createLineSegmentHint(n,t,i,r,a=!0,l=!0){const c=new o({view:t,extensionType:3,start:i,end:r,color:e.toUnitRGBA(s.orange),renderOccluded:16});switch(n){case 0:c.width=s.lineHintWidthTarget,c.fadedExtensions={start:0,end:s.lineHintFadedExtensions};break;case 2:c.width=s.lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case 1:c.width=s.lineHintWidthReference,c.fadedExtensions={start:a?s.lineHintFadedExtensions:0,end:l?s.lineHintFadedExtensions:0}}return c.attached=!0,c}}export{m as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Evented.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import r from\"../../../../../core/Handles.js\";import{clone as n}from\"../../../../../core/lang.js\";import{isSome as s,abortMaybe as o,isNone as a}from\"../../../../../core/maybe.js\";import{createTask as p}from\"../../../../../core/promiseUtils.js\";import{createScreenPoint as h}from\"../../../../../core/screenUtils.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as d}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as l}from\"../../../../../layers/graphics/dehydratedFeatureComparison.js\";import{SnappingPipeline as m}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{DrawManipulator as u}from\"./DrawManipulator.js\";import{defaultDrawingMode as y}from\"../../../../draw/DrawingMode.js\";import{createCoordinateHelper as v}from\"../../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as _}from\"../../../../interactive/dragEventPipeline.js\";import{EditGeometryHelper as x}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as f}from\"../../../../interactive/snapping/SnappingContext.js\";import{TaskPriority as T,ImmediateTask as S}from\"../../../../support/Scheduler.js\";import{EditGeometry as V,Component as w}from\"../../../../interactive/editGeometry/EditGeometry.js\";import M from\"../../../../../geometry/Point.js\";let D=class extends(t.EventedMixin(i)){constructor(e){super(e),this._manipulator=null,this._stagedVertex=null,this.elevationInfo=null,this.snapToSceneEnabled=null,this._handles=new r,this._snappingPipeline=new m,this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingTask=null}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:y)}get updating(){return this.updatingHandles.updating}get isCompleted(){return this._createOperationCompleted}get _snappingEnabled(){return s(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}initialize(){var e,t;this.coordinateHelper=v(this.hasZ,this.hasM,this.view.spatialReference,this.view.viewingMode);const i=null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler;this._frameTask=i?i.registerTask(T.SNAPPING):S,this._editGeometry=new x(new V(this.coordinateHelper),\"segment\"===this.geometryType?\"polyline\":this.geometryType),this._activeComponent=new w(this._editGeometry.editGeometry),this._editGeometry.editGeometry.components.push(this._activeComponent),this._editGeometry.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.toArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}})),this._manipulator=new u({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType;const r=this.createManipulatorDragPipeline(this._manipulator),n=this._manipulator.events.on(\"immediate-double-click\",(e=>{this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())})),a=this._manipulator.events.on(\"immediate-click\",(e=>{if(this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(s(i))this.discardStagedVertex(),this.complete();else{const i=this._screenToMap(e.screenPoint);if(s(i))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(i)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=o(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(i)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}}e.stopPropagation()}));this._handles.add([r,a,n])}createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this.createManipulatorDragPipelineClick(e);case\"freehand\":return this.createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this.createManipulatorDragPipelineHybrid(e)}}createManipulatorDragPipelineClick(e){return _(e,((e,t,i,r)=>{const n=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&n&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||n&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>n,cancel:i,snappingManager:this.snappingManager,snappingContext:new f({geometry:this._editGeometry,elevationInfo:this.elevationInfo,pointer:r,visualizer:new g}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(n&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{n&&s(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}createManipulatorDragPipelineFreehand(e){return _(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}createManipulatorDragPipelineHybrid(e){return _(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}destroy(){this._handles.destroy(),this._handles=null,this._editGeometry.destroy(),this._frameTask.remove()}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}get canRedo(){return this._editGeometry.canRedo}redo(){this._editGeometry.redo()}get canUndo(){return this._editGeometry.canUndo}undo(){s(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometry.undo()}complete(e=!1){o(this._snappingTask),s(this.snappingManager)&&this.snappingManager.doneSnapping(),\"polyline\"===this.geometryType||\"polygon\"===this.geometryType?this.discardStagedVertex():this.commitStagedVertex();const t=\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!t,(this.isCompleted||e)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:e,type:\"complete\"})}cancel(){this.complete(!0)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get numVertices(){return s(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get numCommittedVertices(){return this._activeComponent.vertices.length}get vertices(){const e=this.committedVertices;return s(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.toArray(e.pos)))}get spatialReference(){return this.view.spatialReference}get hasStagedVertex(){return s(this._stagedVertex)}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(a(e))this.discardStagedVertex();else{if(a(this._stagedVertex))this._stagedVertex=n(e);else{if(l(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}commitStagedVertex(){if(this._snappingTask=o(this._snappingTask),s(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(e))}}discardStagedVertex(){this._stagedVertex=null}_onPointerMove(e){if(o(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=h(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(s(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=s(i)?\"crosshair\":null,s(i))if(s(this.snappingManager)){const t=this.snappingManager,r=new f({geometry:this._editGeometry,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:new g});this.stagedVertex=t.update(i,r),this._snappingTask=p((async e=>{const n=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);n.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=n.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_onHold(e){o(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),a(e))return null;const i=this._screenToMap(t.screenEnd);return s(i)?{...t,mapStart:e,mapEnd:i}:null}}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_getDrawSurface(){if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;s(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),s(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),s(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.sceneDrawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(e);return!!s(r)&&P(r,t,i)}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[0].pos,b),e))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[t.vertices.length-1].pos,b),e))return t.vertices.length-1}return null}};function P(e,t,i){const r=e.x-t.x,n=e.y-t.y;return r*r+n*n<=i}e([c({constructOnly:!0})],D.prototype,\"view\",void 0),e([c({value:y})],D.prototype,\"drawingMode\",null),e([c({constructOnly:!0})],D.prototype,\"geometryType\",void 0),e([c({constructOnly:!0})],D.prototype,\"elevationInfo\",void 0),e([c()],D.prototype,\"snapToSceneEnabled\",void 0),e([c({constructOnly:!0})],D.prototype,\"manipulators\",void 0),e([c({constructOnly:!0})],D.prototype,\"hasZ\",void 0),e([c({constructOnly:!0})],D.prototype,\"hasM\",void 0),e([c()],D.prototype,\"defaultZ\",void 0),e([c({constructOnly:!0})],D.prototype,\"sceneDrawSurface\",void 0),e([c({constructOnly:!0})],D.prototype,\"elevationDrawSurface\",void 0),e([c({constructOnly:!0})],D.prototype,\"snappingManager\",void 0),e([c({readOnly:!0})],D.prototype,\"updating\",null),D=e([d(\"esri.views.3d.interactive.editingTools.draw3D.DrawOperation\")],D);const b=new M({x:0,y:0,z:0});export{D as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import{createScreenPointArray as t}from\"../../../../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as r}from\"../../../../../support/elevationInfoUtils.js\";class o{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=r(i,this.view,this.elevationInfo)),i}mapToScreen(t){let r=t;return e(this.elevationInfo)&&(r=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(r)}}export{o as ElevationDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import{unwrapOr as o}from\"../../../../../core/maybe.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{DrawOperation as n}from\"./DrawOperation.js\";import{SceneDrawSurface as a,ElevationDrawSurface as s}from\"./drawSurfaces.js\";import{InteractiveToolBase as p}from\"../../../../interactive/InteractiveToolBase.js\";let d=class extends(t.EventedMixin(p)){constructor(e){super(e),this.drawOperation=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=null,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}initialize(){const e=o(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this.drawOperation=new n({view:this.view,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,sceneDrawSurface:new a(this.view,e),elevationDrawSurface:new s(e,this.defaultZ,this.view),hasM:!1,elevationInfo:e}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e))),this.complete()}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this.emit(\"vertex-add\",e)}onVertexRemove(e){this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this.emit(\"vertex-update\",e)}onCursorUpdate(e){this.emit(\"cursor-update\",e)}onComplete(e){this.emit(\"complete\",e)}};e([r()],d.prototype,\"drawOperation\",void 0),e([r({readOnly:!0})],d.prototype,\"updating\",null),e([r({constructOnly:!0,nonNullable:!0})],d.prototype,\"view\",void 0),e([r({value:!0})],d.prototype,\"enabled\",null),e([r({constructOnly:!0})],d.prototype,\"hasZ\",void 0),e([r({constructOnly:!0,nonNullable:!0})],d.prototype,\"defaultZ\",void 0),e([r({constructOnly:!0})],d.prototype,\"elevationInfo\",void 0),e([r()],d.prototype,\"snapToScene\",void 0),e([r({constructOnly:!0})],d.prototype,\"mode\",void 0),e([r({constructOnly:!0})],d.prototype,\"geometryType\",void 0),e([r({readOnly:!0})],d.prototype,\"type\",void 0),d=e([i(\"esri.views.3d.interactive.editingTools.draw.DrawTool\")],d);export{d as DrawTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import i from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{abortMaybe as o,isSome as r,isNone as n}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as h}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import d from\"./DrawAction.js\";import{CursorUpdateEvent as l,DrawCompleteEvent as c}from\"./input/DrawEvents.js\";import{ViewEventPriorities as _}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as w}from\"../support/screenUtils.js\";import v from\"../../geometry/Point.js\";let u=class extends d{constructor(e){super(e),this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new i}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get coordinates(){return t(s.getLogger(\"esri.views.draw.PointDrawAction\"),\"coordinates\",{replacement:\"vertices\",version:\"4.19\"}),this.vertices[0]}complete(){\"2d\"===this.view.type?this._cursorScreenPoint&&this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=o(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=w(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),_.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=o(this._snappingTask),this._cursorScreenPoint=w(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),_.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=o(this._snappingTask),this._addVertexOnPointerUp=!1)}),_.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=o(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp)e.stopPropagation(),this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),_.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.complete&&this._cursorScreenPoint&&(this._snappingTask=o(this._snappingTask),this._vertexAddHandler(e))}),_.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new h({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"point\",mode:\"click\"}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new l(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new c(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){r(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e){const t=this._coordinateHelper.fromArray(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(t),this.notifyChange(\"vertices\"),this._completeDrawing())}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(r(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new l(this.view,e,this._activeComponent.vertices.length,this.vertices,r(this._stagedVertex)?new v(this._stagedVertex):null);this.emit(\"cursor-update\",t()),r(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){this._activePointerId=null,this._popCursorVertex(),this._snappingTask=o(this._snappingTask),r(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new c(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return g(e)&&(n(this._activePointerId)||this._activePointerId===e.pointerId)}};function g(e){return\"mouse\"!==e.pointerType||0===e.button}e([a({readOnly:!0})],u.prototype,\"coordinates\",null),u=e([p(\"esri.views.draw.PointDrawAction\")],u);export{u as PointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{abortMaybe as i,isSome as o,isNone as s}from\"../../core/maybe.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as a}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import{defaultDrawingMode as d,drawingModes as h}from\"./DrawingMode.js\";import p from\"./DrawAction.js\";import{VertexRemoveEvent as l,VertexAddEvent as _,CursorUpdateEvent as c,DrawCompleteEvent as v}from\"./input/DrawEvents.js\";import{ViewEventPriorities as u}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as w}from\"../support/screenUtils.js\";import g from\"../../geometry/Point.js\";let T=class extends p{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t,this.mode=d}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),u.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=w(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),u.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=i(this._snappingTask),this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=w(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),u.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=w(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),u.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),u.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&o(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),u.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),u.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),u.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),u.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:o}=e;t===m.vertexAdd&&!o&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==m.complete||o?t!==m.undo||this.interactiveUndoDisabled||o?t!==m.redo||this.interactiveUndoDisabled||o?t!==m.pan||o||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),u.TOOL),this.view.on(\"key-up\",(e=>{e.key===m.pan&&(e.stopPropagation(),this._panEnabled=!1)}),u.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometry.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new l(this.view,t,e.vertices[0].index,i))}})),this._editGeometry.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new _(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new _(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(e){this._drawTool=new a({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polygon\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new _(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new v(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){o(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(o(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new c(this.view,e,this._activeComponent.vertices.length,this.vertices,o(this._stagedVertex)?new g(this._stagedVertex):null);this.emit(\"cursor-update\",t()),o(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<3)return;this._snappingTask=i(this._snappingTask),o(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new v(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return y(e)&&(s(this._activePointerId)||this._activePointerId===e.pointerId)}};function y(e){return\"mouse\"!==e.pointerType||0===e.button}e([r()],T.prototype,\"_dragEnabled\",null),e([r()],T.prototype,\"_clickEnabled\",null),e([r({type:h})],T.prototype,\"mode\",void 0),T=e([n(\"esri.views.draw.PolygonDrawAction\")],T);export{T as PolygonDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{abortMaybe as i,isSome as o,destroyMaybe as s,isNone as r}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as d}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import{defaultDrawingMode as h,drawingModes as p}from\"./DrawingMode.js\";import l from\"./DrawAction.js\";import{VertexRemoveEvent as _,VertexAddEvent as c,CursorUpdateEvent as v,DrawCompleteEvent as u}from\"./input/DrawEvents.js\";import{ViewEventPriorities as m}from\"../input/InputManager.js\";import{SKETCH_KEYS as w}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as g}from\"../support/screenUtils.js\";import T from\"../../geometry/Point.js\";let y=class extends l{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t,this.mode=h}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&!this._panEnabled&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=g(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),m.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),m.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&o(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),m.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:o}=e;t===w.vertexAdd&&!o&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==w.complete||o?t!==w.undo||this.interactiveUndoDisabled||o?t!==w.redo||this.interactiveUndoDisabled||o?t!==w.pan||o||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),m.TOOL),this.view.on(\"key-up\",(e=>{e.key===w.pan&&(e.stopPropagation(),this._panEnabled=!1)}),m.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometry.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new _(this.view,t,e.vertices[0].index,i))}})),this._editGeometry.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new c(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new c(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(e){this._drawTool=new d({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polyline\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new v(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new u(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){o(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool=s(this._drawTool))}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(o(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new v(this.view,e,this._activeComponent.vertices.length,this.vertices,o(this._stagedVertex)?new T(this._stagedVertex):null);this.emit(\"cursor-update\",t()),o(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<2)return;this._snappingTask=i(this._snappingTask),o(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new u(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return x(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function x(e){return\"mouse\"!==e.pointerType||0===e.button}e([n()],y.prototype,\"_clickEnabled\",null),e([n()],y.prototype,\"_dragEnabled\",null),e([n({type:p})],y.prototype,\"mode\",void 0),y=e([a(\"esri.views.draw.PolylineDrawAction\")],y);export{y as PolylineDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{a as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i as n}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as d}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import u from\"../../../geometry/Point.js\";function w(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function g(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class W extends R{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=p();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),n(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),d(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),d(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?w(s.x,s.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{isSome as i,abortMaybe as s,isNone as r}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as a}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import h from\"./DrawAction.js\";import{VertexAddEvent as d,CursorUpdateEvent as p,DrawCompleteEvent as _}from\"./input/DrawEvents.js\";import{createViewAlignedCoordinateSystem as l}from\"./support/surfaceCoordinateSystems.js\";import{ViewEventPriorities as c}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{EditGeometry as g,Component as v}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as w}from\"../interactive/editGeometry/EditGeometryHelper.js\";import{createScreenPointFromEvent as u}from\"../support/screenUtils.js\";import T from\"../../geometry/Point.js\";const y=[\"freehand\",\"click\"];let P=class extends h{constructor(e){super(e),this._isDragging=!1,this._panEnabled=!1,this._viewHandles=new t,this._activePointerId=null,this._addVertexOnPointerUp=!1,this.viewAlignedCoordinateSystem=null,this.mode=\"freehand\"}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),\"click\"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())}_getDragModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{if(e.stopPropagation(),e.mapPoint&&!this._panEnabled){const t=this.getCoordsFromScreenPoint(u(e));i(t)&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._panEnabled||(this._resetGeometry(),this._addVertexOnPointerUp=!0,this._cursorScreenPoint=u(e),this._activePointerId=e.pointerId,this._vertexAddHandler(e),this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=s(this._snappingTask),r(this._activePointerId)&&\"touch\"!==e.pointerType&&(this._cursorScreenPoint=u(e),this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._isDragging=!0,this._cursorScreenPoint=u(e),this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&this._addVertexOnPointerUp&&(this._snappingTask=s(this._snappingTask),this._activePointerId=null,this._isDragging&&this._vertexAddHandler(e),2===this._committedVertices.length&&this._drawCompleteHandler(e),this._isDragging=!1)}),c.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.complete&&this._cursorScreenPoint?(this._snappingTask=s(this._snappingTask),this._vertexAddHandler(e),this._drawCompleteHandler(e)):e.key===m.pan&&(this._panEnabled=!0)}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===m.pan&&(this._panEnabled=!1)}),c.TOOL),this.view.on(\"drag\",(e=>{i(this._activePointerId)&&e.stopPropagation()}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL)]}_getClickModeViewHandles(){return[this.view.on(\"pointer-down\",(e=>{this._snappingTask=s(this._snappingTask),this._cursorScreenPoint=u(e),this._activePointerId=e.pointerId,this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=s(this._snappingTask),this._cursorScreenPoint=u(e),r(this._activePointerId)&&\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._isDragging=!0)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._activePointerId=null,e.stopPropagation(),this._isDragging||this._vertexAddHandler(e),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(e),this._isDragging=!1)}),c.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.vertexAdd&&this._cursorScreenPoint&&(this._vertexAddHandler(e),2===this.vertices.length&&this._drawCompleteHandler(e)),e.key===m.complete&&this._cursorScreenPoint&&2===this.vertices.length&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}),c.TOOL)]}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new a({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"segment\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new d(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new _(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){i(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=l(this.view,this._committedVertices[0]));const s=this._committedVertices.length-1,r=new d(this.view,t,s,this.vertices);this.emit(\"vertex-add\",r)}_updateCursor(e){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(i(t)){this._pushCursorVertex(t.vertex);const s=()=>new p(this.view,e,this._activeComponent.vertices.length,this.vertices,i(this._stagedVertex)?new T(this._stagedVertex):null);this.emit(\"cursor-update\",s()),i(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",s())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._snappingTask=s(this._snappingTask),i(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new _(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_resetGeometry(){this._editGeometry.destroy(),this._editGeometry=new w(new g(this._coordinateHelper),\"polygon\"),this._activeComponent=new v(this._editGeometry.editGeometry),this._editGeometry.editGeometry.components.push(this._activeComponent)}_shouldHandlePointerEvent(e){return k(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function k(e){return\"mouse\"!==e.pointerType||0===e.button}e([o({type:y})],P.prototype,\"mode\",void 0),P=e([n(\"esri/views/2d/engine/markup/SegmentDrawAction\")],P);export{P as SegmentDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{M as r}from\"../../chunks/MultipointDrawAction.js\";import{PointDrawAction as c}from\"./PointDrawAction.js\";import{PolygonDrawAction as s}from\"./PolygonDrawAction.js\";import{PolylineDrawAction as n}from\"./PolylineDrawAction.js\";import{SegmentDrawAction as a}from\"./SegmentDrawAction.js\";let p=class extends e{constructor(){super(...arguments),this.activeAction=null,this.type=\"draw\",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(t,e){this.reset();const o={view:this.view,...e};switch(t){case\"point\":o.editGeometryType=\"point\",this.activeAction=new c(o);break;case\"polyline\":o.editGeometryType=\"polyline\",this.activeAction=new n(o);break;case\"multipoint\":o.editGeometryType=\"polygon\",this.activeAction=new r(o);break;case\"polygon\":o.editGeometryType=\"polygon\",this.activeAction=new s(o);break;case\"rectangle\":case\"circle\":case\"ellipse\":case\"triangle\":o.editGeometryType=\"polygon\",this.activeAction=new a(o)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};t([o()],p.prototype,\"activeAction\",void 0),t([o({readOnly:!0})],p.prototype,\"type\",void 0),t([o()],p.prototype,\"view\",void 0),p=t([i(\"esri.views.draw.Draw\")],p);var l=p;export default l;\n"],"sourceRoot":""}