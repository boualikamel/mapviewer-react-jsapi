{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/glTF/DefaultErrorContext.js","../node_modules/@arcgis/core/views/3d/glTF/internal/BinaryStreamReader.js","../node_modules/@arcgis/core/views/3d/glTF/internal/fillDefaults.js","../node_modules/@arcgis/core/views/3d/glTF/internal/Resource.js","../node_modules/@arcgis/core/views/3d/glTF/internal/pathUtils.js","../node_modules/@arcgis/core/views/3d/glTF/loader.js","../node_modules/@arcgis/core/views/3d/glTF/LoaderResult.js","../node_modules/@arcgis/core/chunks/mat32.js","../node_modules/@arcgis/core/chunks/mat42.js","../node_modules/@arcgis/core/geometry/support/buffer/utils.js","../node_modules/@arcgis/core/chunks/vec22.js","../node_modules/@arcgis/core/chunks/vec43.js","../node_modules/@arcgis/core/chunks/scalar.js","../node_modules/@arcgis/core/chunks/vec42.js","../node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js","../node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js"],"names":["o","e","getLogger","t","r","this","errorUnsupported","error","warn","warnUnsupported","data","offset4","dataUint32","Uint32Array","Math","floor","byteLength","s","Uint8Array","baseColorFactor","metallicFactor","roughnessFactor","pbrMetallicRoughness","emissiveFactor","alphaMode","alphaCutoff","doubleSided","ESRI_externalColorMixMode","a","i","l","extras","magFilter","minFilter","wrapS","wrapT","D","j","n","context","errorContext","uri","json","glbBuffer","bufferCache","Map","textureCache","materialCache","nodeParentMap","nodeTransformCache","baseUri","replace","dirPart","filePart","M","checkVersionSupported","checkRequiredExtensionsSupported","errorUnsupportedIf","scenes","meshes","nodes","computeNodeParents","buffers","assert","get","loadBinary","resolveUri","set","accessors","bufferView","type","bufferViews","getBuffer","buffer","F","k","componentType","u","c","byteStride","raw","byteOffset","entryCount","count","isDenselyPacked","componentCount","componentByteSize","min","max","normalized","indices","getAccessor","Uint16Array","L","wrapAccessor","b","y","h","attributes","POSITION","q","toFixed","T","NORMAL","TANGENT","x","TEXCOORD_0","w","V","COLOR_0","O","C","g","U","material","v","materials","hasVertexColors","baseColorTexture","texCoord","getTexture","index","normalTexture","occlusionTexture","p","emissiveTexture","d","metallicRoughnessTexture","f","color","colorTexture","name","id","vertexColors","textures","B","sampler","samplers","source","images","loadImage","mimeType","J","_","getNodeTransform","getNodeParent","matrix","translation","rotation","scale","P","parse","asset","version","G","validate","extensionsRequired","length","join","forEach","children","mediaType","JSON","isBase64","atob","isGLBData","fromGLBData","endsWith","loadJSON","E","remainingBytes","readUint32","parseGLBData","binaryData","X","readUint8Array","PI","m","SCALAR","VEC2","VEC3","VEC4","R","I","A","S","N","Promise","Blob","FileReader","onload","result","onerror","readAsText","URL","createObjectURL","Image","addEventListener","revokeObjectURL","decode","then","src","load","lods","meta","ESRI_type","mode","hasPositions","getMaterial","getPositionData","position","normal","texCoord0","tangent","getIndexData","transform","primitiveType","hasNormals","getNormalData","hasTangents","getTangentData","hasTextureCoordinates","getTextureCoordinates","getVertexColors","ESRI_lod","metric","thresholds","parts","lodThreshold","push","model","isEsriSymbolResource","customMeta","ESRI_proxyEllipsoid","warnUnsupportedIf","weights","mesh","primitives","scene","extensions","MSFT_lod","ids","map","all","Array","isArray","has","parameters","wrap","noUnpackFlip","mipmap","some","opacity","castShadows","receiveShadows","receiveAmbientOcclustion","textureColor","textureNormal","textureOcclusion","textureEmissive","textureMetallicRoughness","colorMixMode","Object","freeze","__proto__","copy","typedBuffer","typedBufferStride","dstIndex","srcIndex","ArrayBuffer","ElementCount","ElementType","elementType","normalizeIntegerBuffer","fill","TypedArrayConstructor","makeDense","transformMat4","z","transformMat3","shiftRight","streamDataRequester","responseType","request","ok","value","image","binary"],"mappings":"iPAImFA,E,MAAEC,EAAEC,UAAU,sBAA4BC,E,qFAAE,SAAMF,GAAG,MAAM,IAAIG,IAAE,oBAAoBH,K,8BAAG,SAAiBA,GAAG,MAAM,IAAIG,IAAE,kCAAkCH,K,gCAAG,SAAmBG,EAAEH,GAAGG,GAAGC,KAAKC,iBAAiBL,K,oBAAG,SAAOG,EAAEH,GAAGG,GAAGC,KAAKE,MAAMN,K,kBAAG,SAAKG,GAAGJ,EAAEQ,KAAKJ,K,6BAAG,SAAgBA,GAAGC,KAAKG,KAAK,yBAAyBJ,K,+BAAG,SAAkBA,EAAEH,GAAGG,GAAGC,KAAKI,gBAAgBR,O,wFCArbE,E,WAAE,WAAYA,GAAE,oBAACE,KAAKK,KAAKP,EAAEE,KAAKM,QAAQ,EAAEN,KAAKO,WAAW,IAAIC,YAAYR,KAAKK,KAAK,EAAEI,KAAKC,MAAMV,KAAKK,KAAKM,WAAW,I,8CAAI,WAAa,IAAMb,EAAEE,KAAKM,QAAQ,OAAON,KAAKM,SAAS,EAAEN,KAAKO,WAAWT,K,4BAAG,SAAeA,GAAG,IAAMc,EAAE,EAAEZ,KAAKM,QAAQ,OAAON,KAAKM,SAASR,EAAE,EAAE,IAAIe,WAAWb,KAAKK,KAAKO,EAAEd,K,4BAAG,WAAiB,OAAOE,KAAKK,KAAKM,WAAW,EAAEX,KAAKM,Y,KCA3RX,EAAE,CAACmB,gBAAgB,CAAC,EAAE,EAAE,EAAE,GAAGC,eAAe,EAAEC,gBAAgB,GAAGjB,EAAE,CAACkB,qBAAqBtB,EAAEuB,eAAe,CAAC,EAAE,EAAE,GAAGC,UAAU,SAASC,YAAY,GAAGC,aAAY,GAAIvB,EAAE,CAACwB,0BAA0B,QAAQC,EAAE,WAAQ,IAAP3B,EAAO,uDAAL,GAAY2B,EAAC,2BAAK5B,GAAKC,EAAEqB,sBAAsBO,EAAEC,EAAE,2BAAI3B,GAAKF,EAAE8B,SAAS,8CAAU3B,GAAKH,GAAf,IAAiBqB,qBAAqBM,EAAEG,OAAOF,KAAI,SAASC,EAAE9B,GAAG,OAAOA,EAAE2B,2BAA2B,IAAI,WAAW,IAAI,OAAO,IAAI,SAAS,IAAI,UAAU,MAAM,QAAQ1B,YAAED,EAAE2B,2BAA2B3B,EAAE2B,0BAA0B,OAAO,OAAO3B,EAAE,IAAM6B,EAAE,CAACG,UAAU,KAAKC,UAAU,KAAKC,MAAM,MAAMC,MAAM,OAAOlB,EAAE,SAAAhB,GAAC,kCAAO4B,GAAK5B,ICA4Z,IAAMmC,EAAS,WAATA,EAAoC,WAApCA,EAA8D,QAAoCC,E,WAAE,WAAYpC,EAAEE,EAAEC,EAAEkC,EAAEtC,GAAE,oBAACK,KAAKkC,QAAQtC,EAAEI,KAAKmC,aAAarC,EAAEE,KAAKoC,IAAIrC,EAAEC,KAAKqC,KAAKJ,EAAEjC,KAAKsC,UAAU3C,EAAEK,KAAKuC,YAAY,IAAIC,IAAIxC,KAAKyC,aAAa,IAAID,IAAIxC,KAAK0C,cAAc,IAAIF,IAAIxC,KAAK2C,cAAc,IAAIH,IAAIxC,KAAK4C,mBAAmB,IAAIJ,IAAIxC,KAAK6C,QCAp5C,SAAW9C,GAAG,IAAIH,EAAEE,EAAE,OAAOC,EAAE+C,QAAQ,oBAAoB,SAAC/C,EAAEwB,EAAEC,GAAL,OAAU5B,EAAE2B,GAAG,GAAGzB,EAAE0B,GAAG,GAAG,MAAM,CAACuB,QAAQnD,EAAEoD,SAASlD,GDA6yCmD,CAAEjD,KAAKoC,KAAKW,QAAQ/C,KAAKkD,wBAAwBlD,KAAKmD,mCAAmCrD,EAAEsD,mBAAmB,MAAMnB,EAAEoB,OAAO,2BAA2BvD,EAAEsD,mBAAmB,MAAMnB,EAAEqB,OAAO,0BAA0BxD,EAAEsD,mBAAmB,MAAMnB,EAAEsB,MAAM,0BAA0BvD,KAAKwD,qB,oFAAkjD,WAAgB5D,EAAEE,GAAlB,qBAAAyB,EAAA,yDAA2BxB,EAAEC,KAAKqC,KAAKoB,QAAQ7D,GAAGqC,EAAEjC,KAAKmC,aAAgB,MAAMpC,EAAEqC,IAAjF,0CAA4FH,EAAEyB,OAAO,MAAM1D,KAAKsC,UAAU,0BAA0BtC,KAAKsC,YAAzJ,UAAuK3C,EAAEK,KAAKuC,YAAYoB,IAAI/D,GAA9L,gCAAsNI,KAAKkC,QAAQ0B,WAAW5D,KAAK6D,WAAW9D,EAAEqC,KAAKtC,GAArQ,OAA8Mc,EAA9M,OAAwQjB,EAAE,IAAIkB,WAAWD,GAAGZ,KAAKuC,YAAYuB,IAAIlE,EAAED,GAAGsC,EAAEyB,OAAO/D,EAAEgB,aAAaZ,EAAEY,WAAW,qCAA3V,gCAAuYhB,GAAvY,iD,yHAAyY,WAAkBC,EAAEE,GAApB,YAAAyB,EAAA,eAAAA,EAAA,6DAA6BxB,EAAEC,KAAKqC,KAAK0B,UAAUnE,IAAGqC,EAAEjC,KAAKmC,cAAeiB,mBAAmB,MAAMrD,EAAEiE,WAAW,gDAAgD/B,EAAEmB,mBAAmBrD,EAAEkE,OAAO,CAAC,OAAO,OAAO,QAA7C,wBAAsElE,EAAEkE,KAAxE,sBAAuGtE,EAAEK,KAAKqC,KAAK6B,YAAYnE,EAAEiE,YAAnS,SAAuThE,KAAKmE,UAAUxE,EAAEyE,OAAOtE,GAA/U,cAA+Sc,EAA/S,OAAkVW,EAAE8C,EAAEtE,EAAEkE,MAAMzC,EAAE8C,EAAEvE,EAAEwE,eAAeC,EAAEjD,EAAEC,EAAEiD,EAAE9E,EAAE+E,YAAYF,EAAzY,kBAAiZ,CAACG,IAAI/D,EAAEwD,OAAOM,WAAWD,EAAEG,WAAWhE,EAAEgE,YAAYjF,EAAEiF,YAAY,IAAI7E,EAAE6E,YAAY,GAAGC,WAAW9E,EAAE+E,MAAMC,gBAAgBN,IAAID,EAAEQ,eAAezD,EAAE0D,kBAAkBzD,EAAE+C,cAAcxE,EAAEwE,cAAcW,IAAInF,EAAEmF,IAAIC,IAAIpF,EAAEoF,IAAIC,aAAarF,EAAEqF,aAAvnB,iD,0HAAmoB,WAAmBxF,EAAEE,GAArB,eAAAyB,EAAA,yDAA2B,MAAM3B,EAAEyF,QAAnC,yCAAkD,MAAlD,uBAAqErF,KAAKsF,YAAY1F,EAAEyF,QAAQvF,GAAhG,YAA6DC,EAA7D,QAAwGgF,gBAAxG,sBAA+HhF,EAAEwE,cAAjI,OAAqJ,OAArJ,OAAsN,OAAtN,QAAwR,OAAxR,iDAAiK,IAAI1D,WAAWd,EAAE4E,IAAI5E,EAAE6E,WAAW7E,EAAE8E,aAArM,iCAAkO,IAAIU,YAAYxF,EAAE4E,IAAI5E,EAAE6E,WAAW7E,EAAE8E,aAAvQ,iCAAoS,IAAIrE,YAAYT,EAAE4E,IAAI5E,EAAE6E,WAAW7E,EAAE8E,aAAzU,qCAAiW9E,EAAEwE,cAAnW,OAAuX,OAAvX,QAAka,OAAla,QAA6c,OAA7c,kDAAmYiB,YAAExF,KAAKyF,aAAaC,IAAE3F,KAAzZ,iCAA8ayF,YAAExF,KAAKyF,aAAaE,IAAE5F,KAApc,iCAAydyF,YAAExF,KAAKyF,aAAaG,IAAE7F,KAA/e,iD,6HAAof,WAAsBH,EAAEE,GAAxB,iBAAAyB,EAAA,6DAAiCxB,EAAEC,KAAKmC,cAAeiB,mBAAmB,MAAMxD,EAAEiG,WAAWC,SAAS,kCAAtG,SAAsJ9F,KAAKsF,YAAY1F,EAAEiG,WAAWC,SAAShG,GAA7L,cAA8ImC,EAA9I,0BAAuMlC,EAAEqD,mBAAmB,OAAOnB,EAAEsC,cAAc,gEAAgEwB,EAAE9D,EAAEsC,gBAAgBxE,EAAEqD,mBAAmB,IAAInB,EAAE+C,eAAe,+DAA+D/C,EAAE+C,eAAegB,WAAWhG,KAAKyF,aAAaQ,IAAEhE,KAAhe,gD,2HAAme,WAAoBrC,EAAEE,GAAtB,iBAAAyB,EAAA,6DAA+BxB,EAAEC,KAAKmC,cAAeuB,OAAO,MAAM9D,EAAEiG,WAAWK,OAAO,gCAAtF,SAAoIlG,KAAKsF,YAAY1F,EAAEiG,WAAWK,OAAOpG,GAAzK,cAA4HmC,EAA5H,0BAAmLlC,EAAEqD,mBAAmB,OAAOnB,EAAEsC,cAAc,8DAA8DwB,EAAE9D,EAAEsC,gBAAgBxE,EAAEqD,mBAAmB,IAAInB,EAAE+C,eAAe,6DAA6D/C,EAAE+C,eAAegB,WAAWhG,KAAKyF,aAAaQ,IAAEhE,KAAxc,gD,4HAA2c,WAAqBrC,EAAEE,GAAvB,iBAAAyB,EAAA,6DAAgCxB,EAAEC,KAAKmC,cAAeuB,OAAO,MAAM9D,EAAEiG,WAAWM,QAAQ,iCAAxF,SAAuInG,KAAKsF,YAAY1F,EAAEiG,WAAWM,QAAQrG,GAA7K,cAA+HmC,EAA/H,0BAAuLlC,EAAEqD,mBAAmB,OAAOnB,EAAEsC,cAAc,+DAA+DwB,EAAE9D,EAAEsC,gBAAgBxE,EAAEqD,mBAAmB,IAAInB,EAAE+C,eAAe,8DAA8D/C,EAAE+C,eAAegB,WAAW,IAAII,IAAEnE,EAAE0C,IAAI1C,EAAE2C,WAAW3C,EAAEyC,WAAWzC,EAAE2C,WAAW3C,EAAEyC,WAAWzC,EAAE4C,cAA5f,gD,mIAAwgB,WAA4BjF,EAAEE,GAA9B,iBAAAyB,EAAA,6DAAuCxB,EAAEC,KAAKmC,cAAeuB,OAAO,MAAM9D,EAAEiG,WAAWQ,WAAW,oCAAlG,SAAoJrG,KAAKsF,YAAY1F,EAAEiG,WAAWQ,WAAWvG,GAA7L,cAA4ImC,EAA5I,0BAAuMlC,EAAEqD,mBAAmB,IAAInB,EAAE+C,eAAe,iEAAiE/C,EAAE+C,eAAegB,WAAW,OAAO/D,EAAEsC,cAAcvE,KAAKyF,aAAaa,IAAErE,IAAIlC,EAAEqD,oBAAoBnB,EAAEmD,WAAW,wFAAwFmB,EAAEtE,MAA1f,gD,6HAA8f,WAAsBrC,EAAEE,GAAxB,iBAAAyB,EAAA,6DAAiCxB,EAAEC,KAAKmC,cAAeuB,OAAO,MAAM9D,EAAEiG,WAAWW,QAAQ,iCAAzF,SAAwIxG,KAAKsF,YAAY1F,EAAEiG,WAAWW,QAAQ1G,GAA9K,UAAgImC,EAAhI,OAAoLlC,EAAEqD,mBAAmB,IAAInB,EAAE+C,gBAAgB,IAAI/C,EAAE+C,eAAe,4DAA4D/C,EAAE+C,eAAegB,WAAW,IAAI/D,EAAE+C,eAAlV,oBAAqW,OAAO/C,EAAEsC,cAA9W,yCAAmYvE,KAAKyF,aAAaW,IAAEnE,IAAvZ,UAA6Z,OAAOA,EAAEsC,cAAta,0CAA2bvE,KAAKyF,aAAagB,IAAExE,IAA/c,WAAqd,OAAOA,EAAEsC,cAA9d,0CAAmfvE,KAAKyF,aAAaiB,IAAEzE,IAAvgB,mCAAkhB,IAAIA,EAAE+C,eAAxhB,oBAA2iB,OAAO/C,EAAEsC,cAApjB,0CAAykBvE,KAAKyF,aAAaQ,IAAEhE,IAA7lB,WAAmmB,OAAOA,EAAEsC,cAA5mB,0CAAioBvE,KAAKyF,aAAakB,IAAE1E,IAArpB,WAA2pB,OAAOA,EAAEsC,cAApqB,0CAAyrBvE,KAAKyF,aAAamB,IAAE3E,IAA7sB,QAAgtBlC,EAAEE,iBAAiB,qDAAqD8F,EAAE9D,EAAEsC,gBAA5xB,iD,mFAA4yB,SAAa3E,GAAG,YAAO,IAASA,EAAEiG,WAAWC,W,wBAAS,SAAWlG,GAAG,YAAO,IAASA,EAAEiG,WAAWK,S,6BAAO,SAAgBtG,GAAG,YAAO,IAASA,EAAEiG,WAAWW,U,mCAAQ,SAAsB5G,GAAG,YAAO,IAASA,EAAEiG,WAAWQ,a,yBAAW,SAAYzG,GAAG,YAAO,IAASA,EAAEiG,WAAWM,U,gEAAQ,WAAkBvG,EAAEE,EAAEC,GAAtB,mCAAAwB,EAAA,yDAA+BU,EAAEjC,KAAKmC,aAAiBxC,EAAEK,KAAK0C,cAAciB,IAAI/D,EAAEiH,UAAlF,oBAAyGjG,EAAE,MAAMhB,EAAEiH,SAASC,EAAE9G,KAAKqC,KAAK0E,UAAUnH,EAAEiH,WAAWC,IAAIvF,EAAEX,EAAEK,qBAAqBO,EAAExB,KAAKgH,gBAAgBpH,GAAnN,KAAoO2B,EAAE0F,kBAAtO,6BAAyPhF,EAAEmB,mBAAmB,KAAK7B,EAAE0F,iBAAiBC,UAAU,GAAG,4CAAnT,SAAuWlH,KAAKmH,WAAW5F,EAAE0F,iBAAiBG,MAAMtH,GAAhZ,OAA+V0E,EAA/V,uBAAoZ5D,EAAEyG,eAAtZ,yBAAsa,KAAKzG,EAAEyG,cAAcH,UAAU,GAArc,iBAAwcjF,EAAE7B,gBAAgB,uEAA1d,yCAAyiBJ,KAAKmH,WAAWvG,EAAEyG,cAAcD,MAAMtH,GAA/kB,QAAiiB2E,EAAjiB,uBAAmlB7D,EAAE0G,kBAAkBvH,GAAvmB,yBAA2mB,KAAKa,EAAE0G,iBAAiBJ,UAAU,GAA7oB,iBAAgpBjF,EAAE7B,gBAAgB,sEAAlqB,yCAAgvBJ,KAAKmH,WAAWvG,EAAE0G,iBAAiBF,MAAMtH,GAAzxB,QAAwuByH,EAAxuB,uBAA6xB3G,EAAE4G,iBAAiBzH,GAAhzB,yBAAozB,KAAKa,EAAE4G,gBAAgBN,UAAU,GAAr1B,iBAAw1BjF,EAAE7B,gBAAgB,qEAA12B,yCAAu7BJ,KAAKmH,WAAWvG,EAAE4G,gBAAgBJ,MAAMtH,GAA/9B,QAA+6B2H,EAA/6B,uBAAm+BlG,EAAEmG,0BAA0B3H,GAA//B,yBAAmgC,KAAKwB,EAAEmG,yBAAyBR,UAAU,GAA7iC,iBAAgjCjF,EAAE7B,gBAAgB,8EAAlkC,yCAAwpCJ,KAAKmH,WAAW5F,EAAEmG,yBAAyBN,MAAMtH,GAAzsC,QAAgpC6H,EAAhpC,eAAmtClG,EAAE,MAAM7B,EAAEiH,SAASjH,EAAEiH,UAAU,EAAElH,EAAE,CAACwB,UAAUP,EAAEO,UAAUC,YAAYR,EAAEQ,YAAYwG,MAAMrG,EAAET,gBAAgBO,cAAcT,EAAES,YAAYwG,aAAarD,EAAE6C,cAAc5C,EAAEqD,KAAKlH,EAAEkH,KAAKC,GAAGtG,EAAE6F,iBAAiBC,EAAEC,gBAAgBC,EAAEvG,eAAeN,EAAEM,eAAeH,eAAeQ,EAAER,eAAeC,gBAAgBO,EAAEP,gBAAgB0G,yBAAyBC,EAAEK,aAAaxG,EAAEF,0BAA0BV,EAAEc,OAAOJ,2BAA/lD,iCAAioD3B,GAAjoD,iD,0HAAmoD,WAAiBC,EAAEE,GAAnB,YAAAyB,EAAA,mBAAAA,EAAA,yDAA4BxB,EAAEC,KAAKmC,aAAaF,EAAEjC,KAAKqC,KAAK4F,SAASrI,GAAGD,EAAEuI,EAAE,MAAMjG,EAAEkG,QAAQnI,KAAKqC,KAAK+F,SAASnG,EAAEkG,SAAS,IAAIpI,EAAEqD,mBAAmB,MAAMnB,EAAEoG,OAAO,mDAAyDzH,EAAEZ,KAAKqC,KAAKiG,OAAOrG,EAAEoG,QAAY9G,EAAEvB,KAAKyC,aAAakB,IAAI/D,GAApR,qBAAuSgB,EAAEwB,IAAzS,iCAAqTpC,KAAKkC,QAAQqG,UAAUvI,KAAK6D,WAAWjD,EAAEwB,KAAKtC,GAAnW,OAA6SmC,EAA7S,sCAA2WlC,EAAEqD,mBAAmB,MAAMxC,EAAEoD,WAAW,qCAAqCjE,EAAEqD,mBAAmB,MAAMxC,EAAE4H,SAAS,mCAAyC5I,EAAEI,KAAKqC,KAAK6B,YAAYtD,EAAEoD,YAAjiB,UAAqjBhE,KAAKmE,UAAUvE,EAAEwE,OAAOtE,GAA7kB,eAA6iBH,EAA7iB,OAAglBI,EAAEqD,mBAAmB,MAAMxD,EAAE8E,WAAW,6CAAxnB,UAA6qB+D,EAAE,IAAI5H,WAAWlB,EAAEyE,OAAOzE,EAAEiF,YAAYhF,EAAEgF,YAAY,GAAGhF,EAAEe,YAAYC,EAAE4H,UAAtvB,QAAqqBvG,EAArqB,eAA2yBuC,EAAE,SAAA5E,GAAC,OAAGG,EAAEG,MAAF,8CAA+CN,EAA/C,mCAAkF,OAAO2B,EAAE,CAAClB,KAAK4B,EAAEJ,OAA9IL,EAAE,SAAA5B,GAAC,OAAE,QAAQA,GAAG,QAAQA,GAAG,QAAQA,IAAmHD,EAAEkC,OAAOlC,EAAEkC,MAAM2C,EAAE7E,EAAEkC,OAAOC,MAAMN,EAAE7B,EAAEmC,OAAOnC,EAAEmC,MAAM0C,EAAE7E,EAAEmC,OAAOF,UAAUjC,EAAEiC,UAAUkG,KAAKlH,EAAEkH,KAAKC,GAAGnI,GAAGI,KAAKyC,aAAaqB,IAAIlE,EAAE2B,GAA5hC,iCAAsiCA,GAAtiC,iD,uFAAwiC,SAAiB3B,GAAG,QAAG,IAASA,EAAE,OAAO8I,EAAE,IAAI5I,EAAEE,KAAK4C,mBAAmBe,IAAI/D,GAAG,IAAIE,EAAE,CAAC,IAAMC,EAAEC,KAAK2I,iBAAiB3I,KAAK4I,cAAchJ,IAAIqC,EAAEjC,KAAKqC,KAAKkB,MAAM3D,GAAGqC,EAAE4G,OAAO/I,EAAEyB,YAAEkG,cAAI1H,EAAEkC,EAAE4G,QAAQ5G,EAAE6G,aAAa7G,EAAE8G,UAAU9G,EAAE+G,OAAOlJ,EAAE6H,YAAE5H,GAAGkC,EAAE6G,aAAatH,YAAE1B,EAAEA,EAAEmC,EAAE6G,aAAa7G,EAAE8G,WAAWE,EAAE,GAAGxH,YAAEwH,EAAEhH,EAAE8G,UAAUvE,YAAE1E,EAAEA,EAAEmJ,EAAE,GAAGA,IAAIhH,EAAE+G,OAAOvE,YAAE3E,EAAEA,EAAEmC,EAAE+G,QAAQlJ,EAAEC,EAAEC,KAAK4C,mBAAmBkB,IAAIlE,EAAEE,GAAG,OAAOA,I,0BAAE,SAAaF,EAAEE,GAAG,OAAO,IAAIF,EAAEE,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,YAAY5E,EAAE+E,WAAW,GAAG/E,EAAEmF,kBAAkBnF,EAAEkF,kB,wBAAgB,SAAWpF,GAAG,OAAOD,YAAEC,EAAEI,KAAK6C,W,2BAAS,SAAcjD,GAAG,OAAOI,KAAK2C,cAAcgB,IAAI/D,K,mCAAG,WAAwB,IAAMA,EAAEgB,IAAEsI,MAAMlJ,KAAKqC,KAAK8G,MAAMC,QAAQ,QAAQC,EAAEC,SAAS1J,K,8CAAG,WAAmC,IAAMA,EAAEI,KAAKqC,KAAKvC,EAAEE,KAAKmC,aAAavC,EAAE2J,oBAAoB,IAAI3J,EAAE2J,mBAAmBC,QAAQ1J,EAAEG,iBAAiB,8EAA8EL,EAAE2J,mBAAmBE,KAAK,S,gCAAO,WAAoB,WAACzJ,KAAKqC,KAAKkB,MAAMmG,SAAS,SAAC9J,EAAEE,GAAKF,EAAE+J,UAAU/J,EAAE+J,SAASD,SAAS,SAAA9J,GAAI,EAAK+C,cAAcmB,IAAIlE,EAAEE,Y,0DAAtvT,WAAkBF,EAAED,EAAEiB,EAAEW,GAAxB,qFAA8BzB,YAAEc,GAAhC,oBAAoD,uBAAVd,EAAEC,YAAEa,IAA8BgJ,UAA5E,iCAAgG7J,EAAE8J,KAAKX,MAAMpJ,EAAEgK,SAASC,KAAKjK,EAAEO,MAAMP,EAAEO,MAAvI,kBAAoJ,IAAI2B,EAAEpC,EAAED,EAAEiB,EAAEb,IAAhK,2CAAgLwB,EAAEU,YAAErB,IAAMoB,EAAEgI,UAAUzI,GAAtM,0CAAgNvB,KAAKiK,YAAYrK,EAAED,EAAEiB,EAAEW,IAAvO,YAA6OX,EAAEsJ,SAAS,SAAxP,kCAAgRtK,EAAEuK,SAASvJ,EAAEW,GAA7R,eAAwQzB,EAAxQ,yBAAuS,IAAIkC,EAAEpC,EAAED,EAAEiB,EAAEd,IAAnT,yBAAoUF,EAAEgE,WAAWhD,EAAEW,GAAnV,WAA4TC,EAA5T,QAAyVQ,EAAEgI,UAAUxI,GAArW,0CAA+WxB,KAAKiK,YAAYrK,EAAED,EAAEiB,EAAEY,IAAtY,yBAAuZ5B,EAAEuK,SAASvJ,EAAEW,GAApa,eAA+YiD,EAA/Y,yBAA8a,IAAIxC,EAAEpC,EAAED,EAAEiB,EAAE4D,IAA1b,yD,oFAA6b,SAAiB5E,GAAG,IAAME,EAAE,IAAIsK,EAAExK,GAAG,OAAOE,EAAEuK,kBAAkB,GAAGvK,EAAEwK,eAAevI,I,gEAAQ,WAAyBnC,EAAEE,EAAEC,EAAEkC,GAA/B,uFAAgDD,EAAEuI,aAAazK,EAAEmC,GAAjE,cAAwCtC,EAAxC,yBAA2E,IAAIqC,EAAEpC,EAAEE,EAAEC,EAAEJ,EAAE0C,KAAK1C,EAAE6K,aAAhG,2C,8HAA4G,WAA0B5K,EAAEE,GAA5B,UAAAc,EAAA,2EAAqCb,EAAE,IAAIqK,EAAEtK,GAAGF,EAAE8D,OAAO3D,EAAEsK,kBAAkB,GAAG,4CAAkDpI,EAAElC,EAAEuK,aAAa3K,EAAEI,EAAEuK,aAAa1J,EAAEb,EAAEuK,aAAa1K,EAAE8D,OAAOzB,IAAIF,EAAQ,yDAAyDnC,EAAE8D,OAAO5D,EAAEa,YAAYC,EAAE,qDAAqDhB,EAAEwD,mBAAmB,IAAIzD,EAAE,mFAA2F6E,EAAE,EAAzc,YAAgdzE,EAAEsK,kBAAkB,GAApe,oBAA8evK,EAAEC,EAAEuK,aAAarI,EAAElC,EAAEuK,aAAa,IAAI9F,EAAphB,wBAAuhB5E,EAAE8D,OAAOzB,IAAIF,EAAkB,iCAAiCnC,EAAE8D,OAAO5D,GAAG,EAAE,uBAArmB,UAAooB2K,EAAE1K,EAAE2K,eAAe5K,IAAvpB,QAA4nByB,EAA5nB,+BAA4pB,IAAIiD,GAAG5E,EAAEwD,mBAAmBnB,IAAIF,EAAiB,wCAAwCP,EAAEzB,EAAE2K,eAAe5K,IAAIF,EAAEQ,gBAAgB,8CAA9xB,QAA40BoE,GAAG,EAA/0B,yDAAw1BjD,GAAG3B,EAAEM,MAAM,+BAA+B,CAACmC,KAAKd,EAAEiJ,WAAWhJ,KAAr5B,4C,gEAAioS6H,EAAE,IAAIzI,IAAE,EAAE,EAAE,QAAQ8H,EAAEnB,YAAEE,cAAIhH,KAAKkK,GAAG,GAAG1B,EAAE2B,cAAIvG,EAAE,CAACwG,OAAO,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,GAAG1G,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,GAAG,SAASiC,EAAEzG,GAAG,OAAOA,EAAEyE,eAAe,KAAK,KAAK,OAAO,IAAI0G,IAAEnL,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE+E,YAAY,KAAK,KAAK,OAAO,IAAIqG,IAAEpL,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE+E,YAAY,KAAK,KAAK,OAAO,IAAIsG,IAAErL,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE+E,YAAY,KAAK,KAAK,OAAO,IAAIuG,IAAEtL,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE+E,YAAY,KAAK,KAAK,OAAO,IAAIwG,IAAEvL,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE+E,YAAY,KAAK,KAAK,OAAO,IAAIyB,IAAExG,EAAE6E,IAAI7E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE8E,WAAW9E,EAAE4E,WAAW5E,EAAE+E,YAAY,QAAQ,YAAYjF,YAAEE,EAAEyE,gB,SAA+BkG,E,8EAAf,WAAiB7K,GAAjB,SAAA2B,EAAA,+EAA2B,IAAI+J,SAAS,SAACxL,EAAEC,GAAK,IAAMkC,EAAE,IAAIsJ,KAAK,CAAC3L,IAAID,EAAE,IAAI6L,WAAW7L,EAAE8L,OAAO,WAAK,IAAM7L,EAAED,EAAE+L,OAAO5L,EAAE+J,KAAKX,MAAMtJ,KAAKD,EAAEgM,QAAQ,SAAA/L,GAAIG,EAAEH,IAAID,EAAEiM,WAAW3J,OAAzK,4C,+BAA8LwG,E,gFAAf,WAAiB7I,EAAEE,GAAnB,SAAAyB,EAAA,+EAA6B,IAAI+J,SAAS,SAACvL,EAAEkC,GAAK,IAAMtC,EAAE,IAAI4L,KAAK,CAAC3L,GAAG,CAACqE,KAAKnE,IAAIc,EAAEiL,IAAIC,gBAAgBnM,GAAG4B,EAAE,IAAIwK,MAAMxK,EAAEyK,iBAAiB,QAAQ,WAAKH,IAAII,gBAAgBrL,GAAG,WAAWW,EAAEA,EAAE2K,SAASC,MAAM,kBAAIpM,EAAEwB,MAAK,kBAAIxB,EAAEwB,MAAKxB,EAAEwB,MAAMA,EAAEyK,iBAAiB,SAAS,SAAApM,GAAIiM,IAAII,gBAAgBrL,GAAGqB,EAAErC,MAAM2B,EAAE6K,IAAIxL,MAA9S,4C,sBAAmT,IAAMmF,EAAE,CAAC,KAAK,OAAO,KAAK,gBAAgB,KAAK,QAAQ,KAAK,iBAAiB,KAAK,eAAe,KAAK,SEA1+Y9D,EAAE,E,SAAiBR,E,gFAAf,WAAiBb,EAAEb,GAAnB,IAAAwB,EAAA,+BAAAA,EAAA,6DAAqBA,EAArB,+BAAuB,GAAGE,IAA1B,0CAA8CD,EAAE6K,KAAKzL,EAAE2G,GAAExH,EAAEwB,GAA3D,cAAsCqJ,EAAtC,OAA8DxE,EAAE,QAAQnE,IAAI2D,EAAE,CAAC0G,KAAK,GAAGvF,UAAU,IAAIvE,IAAIyF,SAAS,IAAIzF,IAAI+J,KAAK/H,EAAEoG,IAAI3E,KAAK2E,EAAEvI,KAAK8G,MAAMzH,QAAQ,mBAAmBkJ,EAAEvI,KAAK8G,MAAMzH,OAAO8K,WAAtM,UAA8N/H,EAAEmG,EAAD,uCAAI,WAAMhK,EAAEb,EAAEyB,EAAES,GAAZ,uBAAAV,EAAA,yDAAuBiD,OAAE,IAAS5D,EAAE6L,KAAK7L,EAAE6L,KAAK,EAAEhI,EAAE,IAAID,GAAG,IAAIA,GAAG,IAAIA,EAAEA,EAAE,MAAQ1E,YAAE2E,GAApF,8CAAmG8C,GAAEnH,gBAAgB,+BAA+BuH,GAAEnD,GAAG,2BAAzJ,UAAuLoG,EAAE8B,aAAa9L,GAAtM,8CAAqN2G,GAAEpH,KAAK,0DAA5N,uBAAmSyK,EAAE+B,YAAY/L,EAAEW,EAAEE,GAArT,cAA2RwE,EAA3R,YAAqUtG,YAAEI,GAAvU,UAAqW6K,EAAEgC,gBAAgBhM,EAAEW,GAAzX,iCAAsVsL,SAAtV,KAA4XC,OAAO,KAAKC,UAAU,KAAKnF,MAAM,KAAKoF,QAAQ,MAA1a,UAA8bpC,EAAEqC,aAAarM,EAAEW,GAA/c,4BAAgekD,EAAhe,KAA2egD,GAAE7B,EAAEK,EAAEG,GAAzLO,EAAxT,CAA2TuG,UAA3T,KAA0UrH,WAA1U,KAAgbR,QAAhb,KAAkd8H,cAAld,KAAketG,SAAle,WAAqf+D,EAAEwC,WAAWxM,IAAlgB,uCAAiiBgK,EAAEyC,cAAczM,EAAEW,GAAnjB,QAAugBoF,EAAEd,WAAWiH,OAAphB,uBAAujBlC,EAAE0C,YAAY1M,IAArkB,uCAAqmBgK,EAAE2C,eAAe3M,EAAEW,GAAxnB,QAA0kBoF,EAAEd,WAAWmH,QAAvlB,uBAA4nBpC,EAAE4C,sBAAsB5M,IAAppB,uCAAsrBgK,EAAE6C,sBAAsB7M,EAAEW,GAAhtB,QAAypBoF,EAAEd,WAAWkH,UAAtqB,uBAAotBnC,EAAE5D,gBAAgBpG,IAAtuB,uCAAowBgK,EAAE8C,gBAAgB9M,EAAEW,GAAxxB,QAA2uBoF,EAAEd,WAAW+B,MAAxvB,eAAgyBtB,EAAE,KAAK1G,YAAEgG,EAAE2G,OAAO3M,YAAEgG,EAAE2G,KAAKoB,WAAW,sBAAsB/H,EAAE2G,KAAKoB,SAASC,SAAStH,EAAEV,EAAE2G,KAAKoB,SAASE,WAAWrM,IAAIoE,EAAE0G,KAAK9K,GAAGoE,EAAE0G,KAAK9K,IAAI,CAACsM,MAAM,GAAGhG,KAAK7F,EAAE8L,aAAazH,GAAGV,EAAE0G,KAAK9K,GAAGsM,MAAME,KAAKrH,GAAj+B,4CAAJ,6DAA/N,iCAA0sC,CAACsH,MAAMrI,EAAE2G,KAAK,CAAC2B,qBAAqBjI,EAAE7D,IAAIwI,EAAExI,KAAK+L,WAAW,KAAtwC,6C,sBAA0wC,SAAS3J,EAAE1E,GAAG,IAAMH,EAAEG,EAAEuC,KAASzB,EAAE,KAAK,OAAOjB,EAAE4D,MAAMmG,SAAS,SAAA5J,GAAI,IAAMH,EAAEG,EAAE4B,OAAO9B,YAAED,KAAKA,EAAEyO,qBAAqBzO,EAAEgO,YAAY/M,EAAEjB,MAAMiB,E,SAAiB6D,E,gFAAf,WAAiB7E,EAAEE,GAAnB,sBAAsPyB,EAAtP,WAAAA,EAAA,0FAAAA,EAAA,MAAuO,WAAiBX,EAAEb,GAAnB,+BAAAwB,EAAA,yDAA4BC,EAAE7B,EAAE4D,MAAM3C,GAAGqB,EAAErC,EAAE+I,iBAAiB/H,GAAM2G,GAAE8G,kBAAkB,MAAM7M,EAAE8M,QAAQ,oCAAoC,MAAM9M,EAAE+M,KAApJ,iBAAgK3O,EAAED,EAAE2D,OAAO9B,EAAE+M,MAA7K,cAAkM3O,EAAE4O,YAApM,gEAA6L7O,EAA7L,kBAAqNG,EAAEH,EAAEsC,EAAElC,EAAEH,EAAEkI,MAA/N,6JAAoPtG,EAAEmI,UAAU,IAAhQ,kEAA+O/J,EAA/O,kBAAyQ2B,EAAE3B,EAAEG,GAA7Q,wNAAvO,uBAAsPwB,EAAtP,8CAA4B5B,EAAEC,EAAEyC,KAAKzB,EAAEjB,EAAE0D,OAAO1D,EAAE8O,OAAO,GAAGlL,MAAMxD,EAAEa,EAAE4I,OAAO,EAA7E,cAA8F5I,GAA9F,gEAAyFY,EAAzF,QAAuG5B,EAAED,EAAE4D,MAAM/B,GAAG1B,EAAE,CAACyB,EAAEC,EAAE,IAAOoJ,EAAEhL,KAAKG,IAASJ,EAAEC,EAAE8O,WAAWC,SAASC,IAAI9O,EAAEkO,KAAF,MAAAlO,EAAC,YAASH,EAAEkP,KAAK,SAACjP,EAAEE,GAAH,OAAOyB,EAAE3B,EAAEE,EAAE,SAA5M,UAAwNwL,QAAQwD,IAAIhP,GAApO,wM,sBAAwf,SAAS8K,EAAEhL,GAAG,OAAOA,EAAE8O,YAAY9O,EAAE8O,WAAWC,UAAUI,MAAMC,QAAQpP,EAAE8O,WAAWC,SAASC,KAAK,SAASnH,GAAE7H,EAAEE,EAAEH,GAAG,IAAMiB,EAAE,SAAAd,GAAI,IAAMc,EAAC,UAAIjB,EAAJ,gBAAaG,GAAGA,EAAEiI,IAAlB,OAAuBjI,GAAGA,EAAEgI,KAAK,IAAIhI,EAAEgI,KAAK,IAAK,GAAGhI,IAAIF,EAAEqI,SAASgH,IAAIrO,GAAG,CAAC,IAAMjB,ECAxjE,SAAWC,GAAO,IAALE,EAAK,uDAAH,GAAI,MAAM,CAACO,KAAKT,EAAEsP,WAAU,aAAEC,KAAI,aAAEvO,EAAE,MAAMd,EAAE,OAASA,EAAEqP,MAAMC,cAAa,EAAGC,QAAO,GAAMvP,IDA+8DyB,CAAEzB,EAAEO,KAAK,CAAC8O,KAAK,CAACvO,EAAEd,EAAE+B,MAAM/B,EAAEA,EAAEgC,OAAOuN,OAAOjJ,GAAEkJ,MAAM,SAAA1P,GAAC,OAAEA,IAAIE,EAAE8B,aAAYwN,cAAa,IAAKxP,EAAEqI,SAASnE,IAAIlD,EAAEjB,GAAG,OAAOiB,GAAGY,EAAC,UAAI7B,EAAJ,gBAAaG,EAAEiI,GAAf,YAAqBjI,EAAEgI,MAAO,IAAIlI,EAAEmH,UAAUkI,IAAIzN,GAAG,CAAC,IAAM7B,ECAplF,WAAgB,IAALC,EAAK,uDAAH,GAAI,oBAAOgI,MAAM,CAAC,EAAE,EAAE,GAAG2H,QAAQ,EAAEpO,UAAU,SAASC,YAAY,GAAGC,aAAY,EAAGmO,aAAY,EAAGC,gBAAe,EAAGC,0BAAyB,EAAGC,aAAa,KAAKC,cAAc,KAAKC,iBAAiB,KAAKC,gBAAgB,KAAKC,yBAAyB,KAAK7O,eAAe,CAAC,EAAE,EAAE,GAAGH,eAAe,EAAEC,gBAAgB,EAAEgP,aAAa,YAAcpQ,GDAqvEG,CAAE,CAAC6H,MAAM,CAAC9H,EAAE8H,MAAM,GAAG9H,EAAE8H,MAAM,GAAG9H,EAAE8H,MAAM,IAAI2H,QAAQzP,EAAE8H,MAAM,GAAGzG,UAAUrB,EAAEqB,UAAUC,YAAYtB,EAAEsB,YAAYC,YAAYvB,EAAEuB,YAAY2O,aAAalQ,EAAEwB,0BAA0BqO,aAAa7P,EAAE+H,aAAajH,EAAEd,EAAE+H,mBAAc,EAAO+H,cAAc9P,EAAEuH,cAAczG,EAAEd,EAAEuH,oBAAe,EAAOwI,iBAAiB/P,EAAEwH,iBAAiB1G,EAAEd,EAAEwH,uBAAkB,EAAOwI,gBAAgBhQ,EAAE0H,gBAAgB5G,EAAEd,EAAE0H,sBAAiB,EAAOuI,yBAAyBjQ,EAAE4H,yBAAyB9G,EAAEd,EAAE4H,+BAA0B,EAAOxG,eAAe,CAACpB,EAAEoB,eAAe,GAAGpB,EAAEoB,eAAe,GAAGpB,EAAEoB,eAAe,IAAIH,eAAejB,EAAEiB,eAAeC,gBAAgBlB,EAAEkB,kBAAkBpB,EAAEmH,UAAUjD,IAAItC,EAAE7B,GAAG,OAAO6B,EAAE,IAAM+F,GAAE,IAAI3G,EAAEwF,GAAE,CAAC,KAAK,MAAMuB,GAAE,CAAC,SAAS,QAAQ,YAAY,aAAa,YAAY,iBAAiB,iB,iFEA5lGsI,OAAOC,OAAO,CAACC,UAAU,KAAKC,KAApS,SAAWxQ,EAAEE,EAAEC,GAA+K,IAA5K,IAAM0H,EAAE7H,EAAEyQ,YAAY1I,EAAE/H,EAAE0Q,kBAAkBrO,EAAEnC,EAAEuQ,YAAY1Q,EAAEG,EAAEwQ,kBAAkB7L,EAAE1E,EAAEA,EAAE+E,MAAMhF,EAAEgF,MAAUN,GAAGzE,GAAGA,EAAEwQ,SAASxQ,EAAEwQ,SAAS,GAAG5I,EAAEJ,GAAGxH,GAAGA,EAAEyQ,SAASzQ,EAAEyQ,SAAS,GAAG7Q,EAAUiB,EAAE,EAAEA,EAAE6D,IAAI7D,EAAE,CAAC,IAAI,IAAIhB,EAAE,EAAEA,EAAE,IAAIA,EAAE6H,EAAEjD,EAAE5E,GAAGqC,EAAEsF,EAAE3H,GAAG4E,GAAGmD,EAAEJ,GAAG5H,MCAUsQ,OAAOC,OAAO,CAACC,UAAU,KAAKC,KAArS,SAAWxQ,EAAEE,EAAEC,GAA+K,IAA5K,IAAM0H,EAAE7H,EAAEyQ,YAAY1I,EAAE/H,EAAE0Q,kBAAkBrO,EAAEnC,EAAEuQ,YAAY1Q,EAAEG,EAAEwQ,kBAAkB7L,EAAE1E,EAAEA,EAAE+E,MAAMhF,EAAEgF,MAAUN,GAAGzE,GAAGA,EAAEwQ,SAASxQ,EAAEwQ,SAAS,GAAG5I,EAAEJ,GAAGxH,GAAGA,EAAEyQ,SAASzQ,EAAEyQ,SAAS,GAAG7Q,EAAUiB,EAAE,EAAEA,EAAE6D,IAAI7D,EAAE,CAAC,IAAI,IAAIhB,EAAE,EAAEA,EAAE,KAAKA,EAAE6H,EAAEjD,EAAE5E,GAAGqC,EAAEsF,EAAE3H,GAAG4E,GAAGmD,EAAEJ,GAAG5H,M,4BCAkF,SAASI,EAAEa,EAAEb,GAAG,OAAO,IAAIa,EAAE,IAAI6P,YAAY1Q,EAAEa,EAAE8P,aAAa9Q,YAAEgB,EAAE+P,iB,iCCJlZ,iFAIgG,SAAShJ,EAAE/H,EAAEE,EAAEC,GAA+K,IAA5K,IAAM4H,EAAE/H,EAAEyQ,YAAYpO,EAAErC,EAAE0Q,kBAAkB7I,EAAE3H,EAAEuQ,YAAY1Q,EAAEG,EAAEwQ,kBAAkB9L,EAAEzE,EAAEA,EAAE+E,MAAMhF,EAAEgF,MAAUrD,GAAG1B,GAAGA,EAAEwQ,SAASxQ,EAAEwQ,SAAS,GAAGtO,EAAErB,GAAGb,GAAGA,EAAEyQ,SAASzQ,EAAEyQ,SAAS,GAAG7Q,EAAU8E,EAAE,EAAEA,EAAED,IAAIC,EAAEkD,EAAElG,GAAGgG,EAAE7G,GAAG+G,EAAElG,EAAE,GAAGgG,EAAE7G,EAAE,GAAGa,GAAGQ,EAAErB,GAAGjB,EAAE,SAASsC,EAAEA,EAAEwF,EAAE9H,GAAG,IAAM6E,EAAEvC,EAAEoO,YAAY5O,EAAEQ,EAAEqO,kBAAkB1P,EAAE6G,EAAE4I,YAAY5L,EAAEgD,EAAE6I,kBAAkB/I,EAAE5H,EAAEA,EAAEmF,MAAM2C,EAAE3C,MAAUa,GAAGhG,GAAGA,EAAE4Q,SAAS5Q,EAAE4Q,SAAS,GAAG9O,EAAED,GAAG7B,GAAGA,EAAE6Q,SAAS7Q,EAAE6Q,SAAS,GAAG/L,EAAE,GAAG7E,YAAE6H,EAAEmJ,aAAa,CAAC,IAAMhR,EAAEE,YAAE2H,EAAEmJ,aAAa,GAAG7Q,YAAE0H,EAAEmJ,aAAa,IAAI,IAAI9Q,EAAE,EAAEA,EAAEyH,IAAIzH,EAAE0E,EAAEmB,GAAGlF,KAAK0E,IAAIvE,EAAEY,GAAG5B,GAAG,GAAG4E,EAAEmB,EAAE,GAAGlF,KAAK0E,IAAIvE,EAAEY,EAAE,GAAG5B,GAAG,GAAG+F,GAAGlE,EAAED,GAAGiD,OAAO,IAAI,IAAI3E,EAAE,EAAEA,EAAEyH,IAAIzH,EAAE0E,EAAEmB,GAAG/E,EAAEY,GAAG5B,EAAE4E,EAAEmB,EAAE,GAAG/E,EAAEY,EAAE,GAAG5B,EAAE+F,GAAGlE,EAAED,GAAGiD,OAAOkD,EAAE1F,EAAEwF,EAAE9H,GAAG,OAAOsC,EAAE,SAASwF,EAAE7H,EAAEE,EAAEC,EAAE4H,GAAsJ,IAAnJ,IAAI1F,EAAEwF,EAAQ9H,EAAEC,EAAEyQ,YAAY7L,EAAE5E,EAAE0Q,kBAAkB7O,EAAE,OAAOQ,EAAE,MAAM0F,OAAE,EAAOA,EAAE7C,OAAO7C,EAAErC,EAAEkF,MAAUlE,GAAG,OAAO6G,EAAE,MAAME,OAAE,EAAOA,EAAE4I,UAAU9I,EAAE,GAAGjD,EAAUC,EAAE,EAAEA,EAAEhD,IAAIgD,EAAE9E,EAAEiB,GAAGd,EAAEH,EAAEiB,EAAE,GAAGb,EAAEa,GAAG4D,EAAQyL,OAAOC,OAAO,CAACC,UAAU,KAAKC,KAAKzI,EAAEkJ,uBAAuB5O,EAAE6O,KAAKrJ,K,iCCAvhC,SAAS7H,EAAEA,EAAEE,EAAEmC,GAA+K,IAA5K,IAAMwF,EAAE7H,EAAEyQ,YAAY1I,EAAE/H,EAAE0Q,kBAAkBvQ,EAAED,EAAEuQ,YAAY7L,EAAE1E,EAAEwQ,kBAAkB7O,EAAEQ,EAAEA,EAAE6C,MAAMhF,EAAEgF,MAAUnF,GAAGsC,GAAGA,EAAEsO,SAAStO,EAAEsO,SAAS,GAAG5I,EAAElD,GAAGxC,GAAGA,EAAEuO,SAASvO,EAAEuO,SAAS,GAAGhM,EAAU5D,EAAE,EAAEA,EAAEa,IAAIb,EAAE6G,EAAE9H,GAAGI,EAAE0E,GAAGgD,EAAE9H,EAAE,GAAGI,EAAE0E,EAAE,GAAGgD,EAAE9H,EAAE,GAAGI,EAAE0E,EAAE,GAAGgD,EAAE9H,EAAE,GAAGI,EAAE0E,EAAE,GAAG9E,GAAGgI,EAAElD,GAAGD,EAAE,SAAS1E,EAAEF,EAAEE,EAAEmC,EAAEwF,EAAEE,EAAE5H,GAAsJ,IAAnJ,IAAIyE,EAAE/C,EAAQ9B,EAAEC,EAAEyQ,YAAY5L,EAAE7E,EAAE0Q,kBAAkB1P,EAAE,OAAO4D,EAAE,MAAMzE,OAAE,EAAOA,EAAE+E,OAAON,EAAE5E,EAAEkF,MAAUyC,GAAG,OAAO9F,EAAE,MAAM1B,OAAE,EAAOA,EAAEwQ,UAAU9O,EAAE,GAAGgD,EAAUjD,EAAE,EAAEA,EAAEZ,IAAIY,EAAE7B,EAAE4H,GAAGzH,EAAEH,EAAE4H,EAAE,GAAGtF,EAAEtC,EAAE4H,EAAE,GAAGE,EAAE9H,EAAE4H,EAAE,GAAGI,EAAEJ,GAAG9C,EAJpf,oEAI4fwL,OAAOC,OAAO,CAACC,UAAU,KAAKC,KAAKxQ,EAAEkR,KAAKhR,K,iCCAhU,SAASA,EAAEF,EAAEE,GAAG,IAAMC,EAAEH,EAAEkF,MAAMhF,IAAIA,EAAE,IAAIF,EAAEmR,sBAAsBhR,IAAI,IAAI,IAAIkC,EAAE,EAAEA,EAAElC,EAAEkC,IAAInC,EAAEmC,GAAGrC,EAAE+D,IAAI1B,GAAG,OAAOnC,EAJrV,kCAI6VmQ,OAAOC,OAAO,CAACC,UAAU,KAAKC,KAA3X,SAAWxQ,EAAEE,EAAEC,GAA+K,IAA5K,IAAMkC,EAAErC,EAAEyQ,YAAY1Q,EAAEC,EAAE0Q,kBAAkB7L,EAAE3E,EAAEuQ,YAAY5I,EAAE3H,EAAEwQ,kBAAkB3I,EAAE5H,EAAEA,EAAE+E,MAAMhF,EAAEgF,MAAUlE,GAAGb,GAAGA,EAAEwQ,SAASxQ,EAAEwQ,SAAS,GAAG5Q,EAAE6E,GAAGzE,GAAGA,EAAEyQ,SAASzQ,EAAEyQ,SAAS,GAAG/I,EAAUF,EAAE,EAAEA,EAAEI,IAAIJ,EAAEtF,EAAErB,GAAG6D,EAAED,GAAG5D,GAAGjB,EAAE6E,GAAGiD,GAA8JuJ,UAAUlR,K,iCCJ5Y,mHAI+jB,SAASC,EAAED,EAAEC,EAAE4H,GAAG,GAAG7H,EAAEgF,QAAQ/E,EAAE+E,MAAgQ,IAA3J,IAAMnF,EAAEG,EAAEgF,MAAM7C,EAAE0F,EAAE,GAAGnD,EAAEmD,EAAE,GAAGF,EAAEE,EAAE,GAAG/G,EAAE+G,EAAE,GAAGlD,EAAEkD,EAAE,GAAGnG,EAAEmG,EAAE,GAAGpG,EAAEoG,EAAE,GAAGJ,EAAEI,EAAE,GAAGhC,EAAEgC,EAAE,GAAGiD,EAAE9K,EAAEuQ,YAAYnI,EAAEpI,EAAEwQ,kBAAkB1K,EAAE7F,EAAEsQ,YAAY5O,EAAE1B,EAAEuQ,kBAA0B1Q,EAAE,EAAEA,EAAED,EAAEC,IAAI,CAAC,IAAME,EAAEF,EAAEsI,EAAEnI,EAAEH,EAAE6B,EAAEkG,EAAE/B,EAAE7F,GAAGJ,EAAEiG,EAAE7F,EAAE,GAAGqL,EAAExF,EAAE7F,EAAE,GAAG2F,EAAEE,EAAE7F,EAAE,GAAG6K,EAAE9K,GAAGmC,EAAE0F,EAAE/G,EAAEjB,EAAE4B,EAAE6J,EAAER,EAAE9K,EAAE,GAAG0E,EAAEmD,EAAElD,EAAE9E,EAAE4H,EAAE6D,EAAER,EAAE9K,EAAE,GAAG2H,EAAEE,EAAEnG,EAAE7B,EAAEgG,EAAEyF,EAAER,EAAE9K,EAAE,GAAG4F,OAArX9F,IAAEM,MAAM,2EAAgX,SAASyH,EAAE/H,EAAEE,EAAEC,GAAiH,IAA9G,IAAM4H,EAAElH,KAAKyE,IAAItF,EAAEkF,MAAMhF,EAAEgF,OAAOnF,EAAEC,EAAEyQ,YAAYpO,EAAErC,EAAE0Q,kBAAkB9L,EAAE1E,EAAEuQ,YAAY5I,EAAE3H,EAAEwQ,kBAA0B1P,EAAE,EAAEA,EAAE+G,EAAE/G,IAAI,CAAC,IAAMhB,EAAEgB,EAAEqB,EAAEnC,EAAEc,EAAE6G,EAAE9H,EAAEC,GAAGG,EAAEyE,EAAE1E,GAAGH,EAAEC,EAAE,GAAGG,EAAEyE,EAAE1E,EAAE,GAAGH,EAAEC,EAAE,GAAGG,EAAEyE,EAAE1E,EAAE,GAAGH,EAAEC,EAAE,GAAGG,EAAEyE,EAAE1E,EAAE,IAAI,SAASH,EAAEC,EAAEE,EAAEC,GAAiH,IAA9G,IAAM4H,EAAElH,KAAKyE,IAAItF,EAAEkF,MAAMhF,EAAEgF,OAAOnF,EAAEC,EAAEyQ,YAAYpO,EAAErC,EAAE0Q,kBAAkB9L,EAAE1E,EAAEuQ,YAAY5I,EAAE3H,EAAEwQ,kBAA0B1P,EAAE,EAAEA,EAAE+G,EAAE/G,IAAI,CAAC,IAAMhB,EAAEgB,EAAEqB,EAAEnC,EAAEc,EAAE6G,EAAE9H,EAAEC,GAAG4E,EAAE1E,IAAIC,EAAEJ,EAAEC,EAAE,GAAG4E,EAAE1E,EAAE,IAAIC,EAAEJ,EAAEC,EAAE,GAAG4E,EAAE1E,EAAE,IAAIC,EAAEJ,EAAEC,EAAE,GAAG4E,EAAE1E,EAAE,IAAIC,GAASkQ,OAAOC,OAAO,CAACC,UAAU,KAAKc,cAAv5C,SAAWnR,EAAEC,EAAE4H,GAAG,GAAG7H,EAAEgF,QAAQ/E,EAAE+E,MAAuT,IAAlN,IAAMnF,EAAEG,EAAEgF,MAAM7C,EAAE0F,EAAE,GAAGnD,EAAEmD,EAAE,GAAGF,EAAEE,EAAE,GAAG/G,EAAE+G,EAAE,GAAGlD,EAAEkD,EAAE,GAAGnG,EAAEmG,EAAE,GAAGpG,EAAEoG,EAAE,GAAGJ,EAAEI,EAAE,GAAGhC,EAAEgC,EAAE,GAAGiD,EAAEjD,EAAE,GAAGO,EAAEP,EAAE,IAAI/B,EAAE+B,EAAE,IAAIlG,EAAEkG,EAAE,IAAIyD,EAAEzD,EAAE,IAAIjC,EAAEiC,EAAE,IAAIb,EAAEa,EAAE,IAAI1E,EAAEnD,EAAEuQ,YAAY3H,EAAE5I,EAAEwQ,kBAAkB3J,EAAE5G,EAAEsQ,YAAYrO,EAAEjC,EAAEuQ,kBAA0B1Q,EAAE,EAAEA,EAAED,EAAEC,IAAI,CAAC,IAAME,EAAEF,EAAE8I,EAAE3I,EAAEH,EAAEoC,EAAE2F,EAAEhB,EAAE5G,GAAGJ,EAAEgH,EAAE5G,EAAE,GAAGqG,EAAEO,EAAE5G,EAAE,GAAGmR,EAAEvK,EAAE5G,EAAE,GAAGkD,EAAEnD,GAAGmC,EAAE0F,EAAElD,EAAE9E,EAAEgG,EAAES,EAAE3E,EAAEyP,EAAEjO,EAAEnD,EAAE,GAAG0E,EAAEmD,EAAEnG,EAAE7B,EAAEiL,EAAExE,EAAEgF,EAAE8F,EAAEjO,EAAEnD,EAAE,GAAG2H,EAAEE,EAAEpG,EAAE5B,EAAEuI,EAAE9B,EAAEV,EAAEwL,EAAEjO,EAAEnD,EAAE,GAAGc,EAAE+G,EAAEJ,EAAE5H,EAAEiG,EAAEQ,EAAEU,EAAEoK,OAAtctR,IAAEM,MAAM,4EAA42CiR,cAAcpR,EAAEiJ,MAAMrB,EAAEyJ,WAAWzR,K,8JCAjrCsC,E,WAAE,WAAYlC,GAAE,oBAACC,KAAKqR,oBAAoBtR,E,mFAAE,WAAeA,EAAEH,GAAjB,SAAA2B,EAAA,+EAA2BvB,KAAKqM,KAAK,OAAOtM,EAAEH,IAA9C,gD,wHAAiD,WAAiBG,EAAEH,GAAnB,SAAA2B,EAAA,+EAA6BC,YAAEzB,IAAID,YAAEF,GAAGgL,YAAE7K,IAAIC,KAAKqM,KAAK,SAAStM,EAAEH,IAAnE,gD,uHAAsE,WAAgBG,EAAEH,GAAlB,SAAA2B,EAAA,+EAA4BvB,KAAKqM,KAAK,QAAQtM,EAAEH,IAAhD,gD,kHAAmD,WAAWE,EAAE0B,EAAEoJ,GAAf,eAAArJ,EAAA,0DAAqBX,YAAEZ,KAAKqR,qBAA5B,gCAA8DtR,kBAAEyB,EAAE,CAAC8P,aAAa7M,EAAE3E,KAAlF,uCAAwFO,MAAxF,uBAA2GT,YAAEI,KAAKqR,oBAAoBE,QAAQ/P,EAAE1B,EAAE8K,IAAlJ,WAAyJ,KAAtD3I,EAAnG,QAAgKuP,GAAhK,yCAA0KvP,EAAEwP,OAA5K,aAAwLlQ,YAAEU,EAAE/B,OAAO,IAAIP,IAAE,GAAN,uCAAyCsC,EAAE/B,QAA9O,iD,kEAA8PuE,EAAE,CAACiN,MAAM,QAAQC,OAAO,eAAetP,KAAK,S,iCCJ51B,4HAI6K,SAASJ,EAAEA,GAAM,IAAJtC,EAAI,uDAAFI,IAAG,MAAM,iBAAiBkC,EAAEtC,EAAEsC,GAAGnC,YAAEmC,IAAIrC,YAAEqC,GAAG,IAAIzB,YAAYyB,GAAGA,EAAE,SAAStC,EAAEG,GAAG,IAAMF,EAAE,iBAAiBE,EAAEA,EAAEA,EAAE0J,OAAO,GAAG5J,EAAE,EAAE,OAAO,IAAI2F,YAAY,GAAG,IAAMxF,EAAEH,EAAE,EAAEqC,EAAElC,GAAG,MAAM,IAAIwF,YAAY,EAAExF,GAAG,IAAIS,YAAY,EAAET,GAAG,GAAG,iBAAiBD,EAAW,IAAR,IAAIA,EAAE,EAAUF,EAAE,EAAEA,EAAEG,EAAEH,GAAG,EAAEA,EAAE,GAAG,GAAGqC,EAAEnC,KAAKF,EAAEqC,EAAEnC,KAAKF,EAAE,EAAEqC,EAAEnC,KAAKF,EAAE,IAAIqC,EAAEnC,KAAKF,EAAE,EAAEqC,EAAEnC,KAAKF,EAAEqC,EAAEnC,KAAKF,EAAE,QAAgB,IAAR,IAAIA,EAAE,EAAUD,EAAE,EAAEA,EAAEI,EAAEJ,GAAG,EAAE,GAAGA,EAAE,GAAG,EAAE,CAAC,IAAMI,EAAED,EAAEH,GAAG6B,EAAE1B,EAAEH,EAAE,GAAGgI,EAAE7H,EAAEH,EAAE,GAAGsC,EAAErC,KAAKG,EAAEkC,EAAErC,KAAK4B,EAAES,EAAErC,KAAK+H,MAAM,CAAC,IAAM5H,EAAED,EAAEH,EAAE,GAAG6B,EAAE1B,EAAEH,GAAGgI,EAAE7H,EAAEH,EAAE,GAAGsC,EAAErC,KAAKG,EAAEkC,EAAErC,KAAK4B,EAAES,EAAErC,KAAK+H,EAAG,OAAO1F,EAAE,SAAST,EAAE1B,GAAG,IAAMF,EAAE,iBAAiBE,EAAEA,EAAEA,EAAE0J,OAAO,GAAG5J,EAAE,EAAE,OAAO,IAAI2F,YAAY,GAAG,IAAMxF,EAAEH,EAAE,EAAEqC,EAAElC,GAAG,MAAM,IAAIwF,YAAY,EAAExF,GAAG,IAAIS,YAAY,EAAET,GAAG,GAAG,iBAAiBD,EAAE,CAAS,IAAR,IAAIA,EAAE,EAAUF,EAAE,EAAEA,EAAEG,IAAIH,EAAEqC,EAAEnC,KAAK,EAAEmC,EAAEnC,KAAKF,EAAE,EAAEqC,EAAEnC,KAAKF,EAAE,EAAE,OAAOqC,EAA+B,IAA5B,IAAMrC,EAAEE,EAAE,GAAOH,EAAEG,EAAE,GAAG0B,EAAE,EAAUmG,EAAE,EAAEA,EAAE5H,IAAI4H,EAAE,CAAC,IAAM5H,EAAED,EAAE6H,EAAE,GAAG1F,EAAET,KAAK5B,EAAEqC,EAAET,KAAK7B,EAAEsC,EAAET,KAAKzB,EAAEJ,EAAEI,EAAE,OAAOkC,I,iCCJxhC,kCAIA,IAAMtC,EAAE","file":"static/js/18.50838616.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from\"../../../core/Error.js\";import e from\"../../../core/Logger.js\";const o=e.getLogger(\"esri.views.3d.glTF\");class t{error(e){throw new r(\"gltf-loader-error\",e)}errorUnsupported(e){throw new r(\"gltf-loader-unsupported-feature\",e)}errorUnsupportedIf(r,e){r&&this.errorUnsupported(e)}assert(r,e){r||this.error(e)}warn(r){o.warn(r)}warnUnsupported(r){this.warn(\"[Unsupported Feature] \"+r)}warnUnsupportedIf(r,e){r&&this.warnUnsupported(e)}}export{t as DefaultErrorContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.data=t,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const t=this.offset4;return this.offset4+=1,this.dataUint32[t]}readUint8Array(t){const s=4*this.offset4;return this.offset4+=t/4,new Uint8Array(this.data,s,t)}remainingBytes(){return this.data.byteLength-4*this.offset4}}export{t as BinaryStreamReader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";const o={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},r={pbrMetallicRoughness:o,emissiveFactor:[0,0,0],alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1},t={ESRI_externalColorMixMode:\"tint\"},a=(e={})=>{const a={...o,...e.pbrMetallicRoughness},i=l({...t,...e.extras});return{...r,...e,pbrMetallicRoughness:a,extras:i}};function l(o){switch(o.ESRI_externalColorMixMode){case\"multiply\":case\"tint\":case\"ignore\":case\"replace\":break;default:e(o.ESRI_externalColorMixMode),o.ESRI_externalColorMixMode=\"tint\"}return o}const i={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497},s=e=>({...i,...e});export{a as material,s as textureSampler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../../core/compilerUtils.js\";import{isDataProtocol as t,dataComponents as r,dataToArrayBuffer as n,makeAbsolute as o}from\"../../../../core/urlUtils.js\";import{Version as s}from\"../../../../core/Version.js\";import{m as a,t as i,c as u,s as c,n as p}from\"../../../../chunks/mat4.js\";import{c as d,b as f}from\"../../../../chunks/mat4f64.js\";import{g as l}from\"../../../../chunks/quat.js\";import{a as m}from\"../../../../chunks/quatf64.js\";import{BufferViewUint32 as h,BufferViewUint16 as y,BufferViewUint8 as b,BufferViewVec3f as T,BufferViewVec4f as x,BufferViewVec2f as w,BufferViewVec4u8 as O,BufferViewVec4u16 as C,BufferViewVec3u8 as g,BufferViewVec3u16 as U,BufferViewVec2u32 as N,BufferViewVec2u16 as S,BufferViewVec2i16 as A,BufferViewVec2u8 as I,BufferViewVec2i8 as R}from\"../../../../geometry/support/buffer/BufferView.js\";import{m as L}from\"../../../../chunks/scalar.js\";import{BinaryStreamReader as E}from\"./BinaryStreamReader.js\";import{material as v,textureSampler as B}from\"./fillDefaults.js\";import{splitURI as M}from\"./pathUtils.js\";const D={MAGIC:1179937895,CHUNK_TYPE_JSON:1313821514,CHUNK_TYPE_BIN:5130562,MIN_HEADER_LENGTH:20};class j{constructor(e,t,r,n,o){this.context=e,this.errorContext=t,this.uri=r,this.json=n,this.glbBuffer=o,this.bufferCache=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=M(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),t.errorUnsupportedIf(null==n.scenes,\"Scenes must be defined.\"),t.errorUnsupportedIf(null==n.meshes,\"Meshes must be defined\"),t.errorUnsupportedIf(null==n.nodes,\"Nodes must be defined.\"),this.computeNodeParents()}static async load(e,o,s,a){if(t(s)){const t=r(s);if(\"model/gltf-binary\"!==t.mediaType)try{const r=JSON.parse(t.isBase64?atob(t.data):t.data);return new j(e,o,s,r)}catch{}const a=n(s);if(j.isGLBData(a))return this.fromGLBData(e,o,s,a)}if(s.endsWith(\".gltf\")){const t=await e.loadJSON(s,a);return new j(e,o,s,t)}const i=await e.loadBinary(s,a);if(j.isGLBData(i))return this.fromGLBData(e,o,s,i);const u=await e.loadJSON(s,a);return new j(e,o,s,u)}static isGLBData(e){const t=new E(e);return t.remainingBytes()>=4&&t.readUint32()===D.MAGIC}static async fromGLBData(e,t,r,n){const o=await j.parseGLBData(t,n);return new j(e,t,r,o.json,o.binaryData)}static async parseGLBData(e,t){const r=new E(t);e.assert(r.remainingBytes()>=12,\"GLB binary data is insufficiently large.\");const n=r.readUint32(),o=r.readUint32(),s=r.readUint32();e.assert(n===D.MAGIC,\"Magic first 4 bytes do not fit to expected GLB value.\"),e.assert(t.byteLength>=s,\"GLB binary data is smaller than header specifies.\"),e.errorUnsupportedIf(2!==o,\"An unsupported GLB container version was detected. Only version 2 is supported.\");let a,i,u=0;for(;r.remainingBytes()>=8;){const t=r.readUint32(),n=r.readUint32();0===u?(e.assert(n===D.CHUNK_TYPE_JSON,\"First GLB chunk must be JSON.\"),e.assert(t>=0,\"No JSON data found.\"),a=await X(r.readUint8Array(t))):1===u?(e.errorUnsupportedIf(n!==D.CHUNK_TYPE_BIN,\"Second GLB chunk expected to be BIN.\"),i=r.readUint8Array(t)):e.warnUnsupported(\"More than 2 GLB chunks detected. Skipping.\"),u+=1}return a||e.error(\"No GLB JSON chunk detected.\"),{json:a,binaryData:i}}async getBuffer(e,t){const r=this.json.buffers[e],n=this.errorContext;if(null==r.uri)return n.assert(null!=this.glbBuffer,\"GLB buffer not present\"),this.glbBuffer;let o=this.bufferCache.get(e);if(!o){const s=await this.context.loadBinary(this.resolveUri(r.uri),t);o=new Uint8Array(s),this.bufferCache.set(e,o),n.assert(o.byteLength===r.byteLength,\"Buffer byte lengths should match.\")}return o}async getAccessor(e,t){const r=this.json.accessors[e],n=this.errorContext;n.errorUnsupportedIf(null==r.bufferView,\"Some accessor does not specify a bufferView.\"),n.errorUnsupportedIf(r.type in[\"MAT2\",\"MAT3\",\"MAT4\"],`AttributeType ${r.type} is not supported`);const o=this.json.bufferViews[r.bufferView],s=await this.getBuffer(o.buffer,t),a=F[r.type],i=k[r.componentType],u=a*i,c=o.byteStride||u;return{raw:s.buffer,byteStride:c,byteOffset:s.byteOffset+(o.byteOffset||0)+(r.byteOffset||0),entryCount:r.count,isDenselyPacked:c===u,componentCount:a,componentByteSize:i,componentType:r.componentType,min:r.min,max:r.max,normalized:!!r.normalized}}async getIndexData(e,t){if(null==e.indices)return null;const r=await this.getAccessor(e.indices,t);if(r.isDenselyPacked)switch(r.componentType){case 5121:return new Uint8Array(r.raw,r.byteOffset,r.entryCount);case 5123:return new Uint16Array(r.raw,r.byteOffset,r.entryCount);case 5125:return new Uint32Array(r.raw,r.byteOffset,r.entryCount)}else switch(r.componentType){case 5121:return L(this.wrapAccessor(b,r));case 5123:return L(this.wrapAccessor(y,r));case 5125:return L(this.wrapAccessor(h,r))}}async getPositionData(e,t){const r=this.errorContext;r.errorUnsupportedIf(null==e.attributes.POSITION,\"No POSITION vertex data found.\");const n=await this.getAccessor(e.attributes.POSITION,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for POSITION vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"POSITION vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(T,n)}async getNormalData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.NORMAL,\"No NORMAL vertex data found.\");const n=await this.getAccessor(e.attributes.NORMAL,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for NORMAL vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(3!==n.componentCount,\"NORMAL vertex attribute must have 3 components, but found \"+n.componentCount.toFixed()),this.wrapAccessor(T,n)}async getTangentData(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TANGENT,\"No TANGENT vertex data found.\");const n=await this.getAccessor(e.attributes.TANGENT,t);return r.errorUnsupportedIf(5126!==n.componentType,\"Expected type FLOAT for TANGENT vertex attribute, but found \"+q[n.componentType]),r.errorUnsupportedIf(4!==n.componentCount,\"TANGENT vertex attribute must have 4 components, but found \"+n.componentCount.toFixed()),new x(n.raw,n.byteOffset,n.byteStride,n.byteOffset+n.byteStride*n.entryCount)}async getTextureCoordinates(e,t){const r=this.errorContext;r.assert(null!=e.attributes.TEXCOORD_0,\"No TEXCOORD_0 vertex data found.\");const n=await this.getAccessor(e.attributes.TEXCOORD_0,t);return r.errorUnsupportedIf(2!==n.componentCount,\"TEXCOORD_0 vertex attribute must have 2 components, but found \"+n.componentCount.toFixed()),5126===n.componentType?this.wrapAccessor(w,n):(r.errorUnsupportedIf(!n.normalized,\"Integer component types are only supported for a normalized accessor for TEXCOORD_0.\"),V(n))}async getVertexColors(e,t){const r=this.errorContext;r.assert(null!=e.attributes.COLOR_0,\"No COLOR_0 vertex data found.\");const n=await this.getAccessor(e.attributes.COLOR_0,t);if(r.errorUnsupportedIf(4!==n.componentCount&&3!==n.componentCount,\"COLOR_0 attribute must have 3 or 4 components, but found \"+n.componentCount.toFixed()),4===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(x,n);if(5121===n.componentType)return this.wrapAccessor(O,n);if(5123===n.componentType)return this.wrapAccessor(C,n)}else if(3===n.componentCount){if(5126===n.componentType)return this.wrapAccessor(T,n);if(5121===n.componentType)return this.wrapAccessor(g,n);if(5123===n.componentType)return this.wrapAccessor(U,n)}r.errorUnsupported(\"Unsupported component type for COLOR_0 attribute: \"+q[n.componentType])}hasPositions(e){return void 0!==e.attributes.POSITION}hasNormals(e){return void 0!==e.attributes.NORMAL}hasVertexColors(e){return void 0!==e.attributes.COLOR_0}hasTextureCoordinates(e){return void 0!==e.attributes.TEXCOORD_0}hasTangents(e){return void 0!==e.attributes.TANGENT}async getMaterial(e,t,r){const n=this.errorContext;let o=this.materialCache.get(e.material);if(!o){const s=null!=e.material?v(this.json.materials[e.material]):v(),a=s.pbrMetallicRoughness,i=this.hasVertexColors(e);let u,c,p,d,f;a.baseColorTexture&&(n.errorUnsupportedIf(0!==(a.baseColorTexture.texCoord||0),\"Only TEXCOORD with index 0 is supported.\"),u=await this.getTexture(a.baseColorTexture.index,t)),s.normalTexture&&(0!==(s.normalTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the normal map texture.\"):c=await this.getTexture(s.normalTexture.index,t)),s.occlusionTexture&&r&&(0!==(s.occlusionTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the occlusion texture.\"):p=await this.getTexture(s.occlusionTexture.index,t)),s.emissiveTexture&&r&&(0!==(s.emissiveTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the emissive texture.\"):d=await this.getTexture(s.emissiveTexture.index,t)),a.metallicRoughnessTexture&&r&&(0!==(a.metallicRoughnessTexture.texCoord||0)?n.warnUnsupported(\"Only TEXCOORD with index 0 is supported for the metallicRoughness texture.\"):f=await this.getTexture(a.metallicRoughnessTexture.index,t));const l=null!=e.material?e.material:-1;o={alphaMode:s.alphaMode,alphaCutoff:s.alphaCutoff,color:a.baseColorFactor,doubleSided:!!s.doubleSided,colorTexture:u,normalTexture:c,name:s.name,id:l,occlusionTexture:p,emissiveTexture:d,emissiveFactor:s.emissiveFactor,metallicFactor:a.metallicFactor,roughnessFactor:a.roughnessFactor,metallicRoughnessTexture:f,vertexColors:i,ESRI_externalColorMixMode:s.extras.ESRI_externalColorMixMode}}return o}async getTexture(e,t){const r=this.errorContext,n=this.json.textures[e],o=B(null!=n.sampler?this.json.samplers[n.sampler]:{});r.errorUnsupportedIf(null==n.source,\"Source is expected to be defined for a texture.\");const s=this.json.images[n.source];let a=this.textureCache.get(e);if(!a){let n;if(s.uri)n=await this.context.loadImage(this.resolveUri(s.uri),t);else{r.errorUnsupportedIf(null==s.bufferView,\"Image bufferView must be defined.\"),r.errorUnsupportedIf(null==s.mimeType,\"Image mimeType must be defined.\");const e=this.json.bufferViews[s.bufferView],o=await this.getBuffer(e.buffer,t);r.errorUnsupportedIf(null!=e.byteStride,\"byteStride not supported for image buffer\"),n=await J(new Uint8Array(o.buffer,o.byteOffset+(e.byteOffset||0),e.byteLength),s.mimeType)}const i=e=>33071===e||33648===e||10497===e,u=e=>(r.error(`Unexpected TextureSampler WrapMode: ${e}. Using default REPEAT(10497).`),10497);a={data:n,wrapS:i(o.wrapS)?o.wrapS:u(o.wrapS),wrapT:i(o.wrapT)?o.wrapT:u(o.wrapT),minFilter:o.minFilter,name:s.name,id:e},this.textureCache.set(e,a)}return a}getNodeTransform(e){if(void 0===e)return _;let t=this.nodeTransformCache.get(e);if(!t){const r=this.getNodeTransform(this.getNodeParent(e)),n=this.json.nodes[e];n.matrix?t=a(d(),r,n.matrix):n.translation||n.rotation||n.scale?(t=f(r),n.translation&&i(t,t,n.translation),n.rotation&&(P[3]=l(P,n.rotation),u(t,t,P[3],P)),n.scale&&c(t,t,n.scale)):t=r,this.nodeTransformCache.set(e,t)}return t}wrapAccessor(e,t){return new e(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*(t.entryCount-1)+t.componentByteSize*t.componentCount)}resolveUri(e){return o(e,this.baseUri)}getNodeParent(e){return this.nodeParentMap.get(e)}checkVersionSupported(){const e=s.parse(this.json.asset.version,\"glTF\");G.validate(e)}checkRequiredExtensionsSupported(){const e=this.json,t=this.errorContext;e.extensionsRequired&&0!==e.extensionsRequired.length&&t.errorUnsupported(\"gltf loader was not able to load unsupported feature. Required extensions: \"+e.extensionsRequired.join(\", \"))}computeNodeParents(){this.json.nodes.forEach(((e,t)=>{e.children&&e.children.forEach((e=>{this.nodeParentMap.set(e,t)}))}))}}const G=new s(2,0,\"glTF\"),_=p(d(),Math.PI/2),P=m(),F={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},k={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function V(t){switch(t.componentType){case 5120:return new R(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5121:return new I(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5122:return new A(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5123:return new S(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5125:return new N(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);case 5126:return new w(t.raw,t.byteOffset,t.byteStride,t.byteOffset+t.byteStride*t.entryCount);default:return void e(t.componentType)}}async function X(e){return new Promise(((t,r)=>{const n=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;t(JSON.parse(e))},o.onerror=e=>{r(e)},o.readAsText(n)}))}async function J(e,t){return new Promise(((r,n)=>{const o=new Blob([e],{type:t}),s=URL.createObjectURL(o),a=new Image;a.addEventListener(\"load\",(()=>{URL.revokeObjectURL(s),\"decode\"in a?a.decode().then((()=>r(a)),(()=>r(a))):r(a)})),a.addEventListener(\"error\",(e=>{URL.revokeObjectURL(s),n(e)})),a.src=s}))}const q={5120:\"BYTE\",5121:\"UNSIGNED_BYTE\",5122:\"SHORT\",5123:\"UNSIGNED_SHORT\",5125:\"UNSIGNED_INT\",5126:\"FLOAT\"};export{j as Resource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction r(r){let e,t;return r.replace(/^(.*\\/)?([^/]*)$/,((r,a,i)=>(e=a||\"\",t=i||\"\",\"\"))),{dirPart:e,filePart:t}}export{r as splitURI};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as o}from\"../../../chunks/mat4f64.js\";import{DefaultErrorContext as s}from\"./DefaultErrorContext.js\";import{makeMaterialParameters as r,makeTextureSource as a}from\"./LoaderResult.js\";import{Resource as i}from\"./internal/Resource.js\";let n=0;async function l(s,r,a={},l=!0){const m=await i.load(s,p,r,a),x=\"gltf_\"+n++,h={lods:[],materials:new Map,textures:new Map,meta:u(m)},T=!(!m.json.asset.extras||\"symbolResource\"!==m.json.asset.extras.ESRI_type);return await c(m,(async(s,r,i,n)=>{const u=void 0!==s.mode?s.mode:4,c=4===u||5===u||6===u?u:null;if(t(c))return void p.warnUnsupported(\"Unsupported primitive mode (\"+f[u]+\"). Skipping primitive.\");if(!m.hasPositions(s))return void p.warn(\"Skipping primitive without POSITION vertex attribute.\");const T=await m.getMaterial(s,a,l),g={transform:o(r),attributes:{position:await m.getPositionData(s,a),normal:null,texCoord0:null,color:null,tangent:null},indices:await m.getIndexData(s,a),primitiveType:c,material:d(h,T,x)};m.hasNormals(s)&&(g.attributes.normal=await m.getNormalData(s,a)),m.hasTangents(s)&&(g.attributes.tangent=await m.getTangentData(s,a)),m.hasTextureCoordinates(s)&&(g.attributes.texCoord0=await m.getTextureCoordinates(s,a)),m.hasVertexColors(s)&&(g.attributes.color=await m.getVertexColors(s,a));let w=null;e(h.meta)&&e(h.meta.ESRI_lod)&&\"screenSpaceRadius\"===h.meta.ESRI_lod.metric&&(w=h.meta.ESRI_lod.thresholds[i]),h.lods[i]=h.lods[i]||{parts:[],name:n,lodThreshold:w},h.lods[i].parts.push(g)})),{model:h,meta:{isEsriSymbolResource:T,uri:m.uri},customMeta:{}}}function u(t){const o=t.json;let s=null;return o.nodes.forEach((t=>{const o=t.extras;e(o)&&(o.ESRI_proxyEllipsoid||o.ESRI_lod)&&(s=o)})),s}async function c(e,t){const o=e.json,s=o.scenes[o.scene||0].nodes,r=s.length>1;for(const i of s){const e=o.nodes[i],t=[a(i,0)];if(m(e)&&!r){const o=e.extensions.MSFT_lod.ids;t.push(...o.map(((e,t)=>a(e,t+1))))}await Promise.all(t)}async function a(s,r){const i=o.nodes[s],n=e.getNodeTransform(s);if(p.warnUnsupportedIf(null!=i.weights,\"Morph targets are not supported.\"),null!=i.mesh){const e=o.meshes[i.mesh];for(const o of e.primitives)await t(o,n,r,e.name)}for(const e of i.children||[])await a(e,r)}}function m(e){return e.extensions&&e.extensions.MSFT_lod&&Array.isArray(e.extensions.MSFT_lod.ids)}function d(e,t,o){const s=t=>{const s=`${o}_tex_${t&&t.id}${t&&t.name?\"_\"+t.name:\"\"}`;if(t&&!e.textures.has(s)){const o=a(t.data,{wrap:{s:t.wrapS,t:t.wrapT},mipmap:x.some((e=>e===t.minFilter)),noUnpackFlip:!0});e.textures.set(s,o)}return s},i=`${o}_mat_${t.id}_${t.name}`;if(!e.materials.has(i)){const o=r({color:[t.color[0],t.color[1],t.color[2]],opacity:t.color[3],alphaMode:t.alphaMode,alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,colorMixMode:t.ESRI_externalColorMixMode,textureColor:t.colorTexture?s(t.colorTexture):void 0,textureNormal:t.normalTexture?s(t.normalTexture):void 0,textureOcclusion:t.occlusionTexture?s(t.occlusionTexture):void 0,textureEmissive:t.emissiveTexture?s(t.emissiveTexture):void 0,textureMetallicRoughness:t.metallicRoughnessTexture?s(t.metallicRoughnessTexture):void 0,emissiveFactor:[t.emissiveFactor[0],t.emissiveFactor[1],t.emissiveFactor[2]],metallicFactor:t.metallicFactor,roughnessFactor:t.roughnessFactor});e.materials.set(i,o)}return i}const p=new s,x=[9987,9985],f=[\"POINTS\",\"LINES\",\"LINE_LOOP\",\"LINE_STRIP\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\"];export{l as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e={}){return{color:[1,1,1],opacity:1,alphaMode:\"OPAQUE\",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:\"multiply\",...e}}function t(e,t={}){return{data:e,parameters:{wrap:{s:10497,t:10497,...t.wrap},noUnpackFlip:!0,mipmap:!1,...t}}}export{e as makeMaterialParameters,t as makeTextureSource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<9;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const d=e.typedBuffer,f=e.typedBufferStride,n=t.typedBuffer,o=t.typedBufferStride,c=r?r.count:t.count;let u=(r&&r.dstIndex?r.dstIndex:0)*f,p=(r&&r.srcIndex?r.srcIndex:0)*o;for(let s=0;s<c;++s){for(let e=0;e<16;++e)d[u+e]=n[p+e];u+=f,p+=o}}var t=Object.freeze({__proto__:null,copy:e});export{e as c,t as m};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{elementTypeSize as e}from\"./types.js\";export{m as mat3}from\"../../../chunks/mat32.js\";export{m as mat4}from\"../../../chunks/mat42.js\";export{s as scalar}from\"../../../chunks/scalar.js\";export{v as vec2}from\"../../../chunks/vec22.js\";export{v as vec3}from\"../../../chunks/vec33.js\";export{v as vec4}from\"../../../chunks/vec43.js\";function r(s,r){return new s(new ArrayBuffer(r*s.ElementCount*e(s.ElementType)))}export{r as createBuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isInteger as e,maximumValue as t,isSigned as r}from\"../geometry/support/buffer/types.js\";function f(e,t,r){const f=e.typedBuffer,n=e.typedBufferStride,d=t.typedBuffer,o=t.typedBufferStride,u=r?r.count:t.count;let l=(r&&r.dstIndex?r.dstIndex:0)*n,s=(r&&r.srcIndex?r.srcIndex:0)*o;for(let c=0;c<u;++c)f[l]=d[s],f[l+1]=d[s+1],l+=n,s+=o}function n(n,d,o){const u=n.typedBuffer,l=n.typedBufferStride,s=d.typedBuffer,c=d.typedBufferStride,p=o?o.count:d.count;let y=(o&&o.dstIndex?o.dstIndex:0)*l,i=(o&&o.srcIndex?o.srcIndex:0)*c;if(e(d.elementType)){const e=t(d.elementType);if(r(d.elementType))for(let t=0;t<p;++t)u[y]=Math.max(s[i]/e,-1),u[y+1]=Math.max(s[i+1]/e,-1),y+=l,i+=c;else for(let t=0;t<p;++t)u[y]=s[i]/e,u[y+1]=s[i+1]/e,y+=l,i+=c}else f(n,d,o);return n}function d(e,t,r,f){var n,d;const o=e.typedBuffer,u=e.typedBufferStride,l=null!=(n=null==f?void 0:f.count)?n:e.count;let s=(null!=(d=null==f?void 0:f.dstIndex)?d:0)*u;for(let c=0;c<l;++c)o[s]=t,o[s+1]=r,s+=u}var o=Object.freeze({__proto__:null,copy:f,normalizeIntegerBuffer:n,fill:d});export{f as c,d as f,n,o as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,n){const d=e.typedBuffer,f=e.typedBufferStride,r=t.typedBuffer,u=t.typedBufferStride,l=n?n.count:t.count;let o=(n&&n.dstIndex?n.dstIndex:0)*f,c=(n&&n.srcIndex?n.srcIndex:0)*u;for(let s=0;s<l;++s)d[o]=r[c],d[o+1]=r[c+1],d[o+2]=r[c+2],d[o+3]=r[c+3],o+=f,c+=u}function t(e,t,n,d,f,r){var u,l;const o=e.typedBuffer,c=e.typedBufferStride,s=null!=(u=null==r?void 0:r.count)?u:e.count;let p=(null!=(l=null==r?void 0:r.dstIndex)?l:0)*c;for(let i=0;i<s;++i)o[p]=t,o[p+1]=n,o[p+2]=d,o[p+3]=f,p+=c}var n=Object.freeze({__proto__:null,copy:e,fill:t});export{e as c,t as f,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction e(e,t,r){const n=e.typedBuffer,o=e.typedBufferStride,c=t.typedBuffer,d=t.typedBufferStride,f=r?r.count:t.count;let s=(r&&r.dstIndex?r.dstIndex:0)*o,u=(r&&r.srcIndex?r.srcIndex:0)*d;for(let p=0;p<f;++p)n[s]=c[u],s+=o,u+=d}function t(e,t){const r=e.count;t||(t=new e.TypedArrayConstructor(r));for(let n=0;n<r;n++)t[n]=e.get(n);return t}var r=Object.freeze({__proto__:null,copy:e,makeDense:t});export{e as c,t as m,r as s};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{logger as e}from\"../geometry/support/buffer/math/common.js\";function t(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],m=f[9],B=f[10],h=f[11],l=f[12],S=f[13],b=f[14],v=f[15],M=t.typedBuffer,_=t.typedBufferStride,g=r.typedBuffer,j=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*_,r=e*j,f=g[r],o=g[r+1],x=g[r+2],z=g[r+3];M[t]=n*f+c*o+y*x+l*z,M[t+1]=u*f+i*o+m*x+S*z,M[t+2]=d*f+a*o+B*x+b*z,M[t+3]=s*f+p*o+h*x+v*z}}function r(t,r,f){if(t.count!==r.count)return void e.error(\"source and destination buffers need to have the same number of elements\");const o=t.count,n=f[0],u=f[1],d=f[2],s=f[3],c=f[4],i=f[5],a=f[6],p=f[7],y=f[8],m=t.typedBuffer,B=t.typedBufferStride,h=r.typedBuffer,l=r.typedBufferStride;for(let e=0;e<o;e++){const t=e*B,r=e*l,f=h[r],o=h[r+1],S=h[r+2],b=h[r+3];m[t]=n*f+s*o+a*S,m[t+1]=u*f+c*o+p*S,m[t+2]=d*f+i*o+y*S,m[t+3]=b}}function f(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=r*u[t],o[e+1]=r*u[t+1],o[e+2]=r*u[t+2],o[e+3]=r*u[t+3]}}function o(e,t,r){const f=Math.min(e.count,t.count),o=e.typedBuffer,n=e.typedBufferStride,u=t.typedBuffer,d=t.typedBufferStride;for(let s=0;s<f;s++){const e=s*n,t=s*d;o[e]=u[t]>>r,o[e+1]=u[t+1]>>r,o[e+2]=u[t+2]>>r,o[e+3]=u[t+3]>>r}}var n=Object.freeze({__proto__:null,transformMat4:t,transformMat3:r,scale:f,shiftRight:o});export{o as a,t as b,f as s,r as t,n as v};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport r from\"../../../request.js\";import{result as e}from\"../../../core/asyncUtils.js\";import o from\"../../../core/Error.js\";import{isNone as s}from\"../../../core/maybe.js\";import{throwIfAborted as t,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import{isDataProtocol as i,dataToArrayBuffer as m}from\"../../../core/urlUtils.js\";class n{constructor(r){this.streamDataRequester=r}async loadJSON(r,e){return this.load(\"json\",r,e)}async loadBinary(r,e){return i(r)?(t(e),m(r)):this.load(\"binary\",r,e)}async loadImage(r,e){return this.load(\"image\",r,e)}async load(t,i,m){if(s(this.streamDataRequester))return(await r(i,{responseType:c[t]})).data;const n=await e(this.streamDataRequester.request(i,t,m));if(!0===n.ok)return n.value;throw a(n.error),new o(\"\",`Request for resource failed: ${n.error}`)}}const c={image:\"image\",binary:\"array-buffer\",json:\"json\"};export{n as DefaultLoadingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isUint16Array as t,isUint8Array as e}from\"../../../../core/typedArrayUtil.js\";import{generateDefaultIndexArray as r}from\"../../webgl-engine/lib/geometryDataUtils.js\";function n(n,o=r){return\"number\"==typeof n?o(n):t(n)||e(n)?new Uint32Array(n):n}function o(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let o=0;o<r;o+=1)if(o%2==0){const r=t[o],i=t[o+1],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}else{const r=t[o+1],i=t[o],f=t[o+2];n[e++]=r,n[e++]=i,n[e++]=f}}return n}function i(t){const e=\"number\"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if(\"number\"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}{const e=t[0];let o=t[1],i=0;for(let f=0;f<r;++f){const r=t[f+2];n[i++]=e,n[i++]=o,n[i++]=r,o=r}return n}}export{i as triangleFanToTriangles,o as triangleStripToTriangles,n as trianglesToTriangles};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst o=2.1;export{o as COLOR_GAMMA};\n"],"sourceRoot":""}