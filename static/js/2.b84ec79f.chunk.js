(this["webpackJsonptesting-ant-cra"]=this["webpackJsonptesting-ant-cra"]||[]).push([[2],{612:function(t,e,i){"use strict";i.d(e,"a",(function(){return x})),i.d(e,"b",(function(){return k})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return v})),i.d(e,"e",(function(){return m})),i.d(e,"f",(function(){return d})),i.d(e,"g",(function(){return y})),i.d(e,"h",(function(){return p})),i.d(e,"i",(function(){return g})),i.d(e,"j",(function(){return b}));var n=i(4),r=i(5),a=i(15),s=i(23),h=i(82),o=i(799);function l(t){var e,i=Object(s.a)(t);return(e=i)&&(Object(h.g)(e)?_(e.rings):Object(h.h)(e)?_(e.paths):Object(h.e)(e)&&f(e.points)),i}function u(t){if(t)for(var e=t.length-1;e>0;--e)t[e][0]-=t[e-1][0],t[e][1]-=t[e-1][1]}function c(t){if(t){var e,i=Object(a.a)(t);try{for(i.s();!(e=i.n()).done;){u(e.value)}}catch(n){i.e(n)}finally{i.f()}}}function f(t){if(t)for(var e=t.length,i=1;i<e;++i)t[i][0]+=t[i-1][0],t[i][1]+=t[i-1][1]}function _(t){if(t){var e,i=Object(a.a)(t);try{for(i.s();!(e=i.n()).done;){f(e.value)}}catch(n){i.e(n)}finally{i.f()}}}function v(t){t&&(Object(h.g)(t)?c(t.rings):Object(h.h)(t)?c(t.paths):Object(h.e)(t)&&u(t.points))}function p(t){if(t){var e,i=Object(a.a)(t);try{for(i.s();!(e=i.n()).done;){g(e.value)}}catch(n){i.e(n)}finally{i.f()}}}function g(t){t&&t.reverse()}function m(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}function y(t){return!(!t||0===t.length)&&t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]}function d(t){return t[4]}function b(t,e){t[4]=e}var k=function(){function t(e,i,r,a){Object(n.a)(this,t),this.acceptPolygon=i,this.acceptPolyline=r,this.geomUnitsPerPoint=a,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1,e&&(Object(h.g)(e)?i&&(this.multiPath=e.rings,this.isClosed=!0):Object(h.h)(e)?r&&(this.multiPath=e.paths,this.isClosed=!1):Object(h.d)(e)&&i&&(this.multiPath=P(e).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length)),this.internalPlacement=new o.a}return Object(r.a)(t,[{key:"next",value:function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var t=this.processPath(this.multiPath[this.pathIndex]);if(t)return t}return this.pathCount=-1,this.pathIndex=-1,this.multiPath=null,null}}]),t}(),x=function(){function t(e,i,r,a){Object(n.a)(this,t),this.inputGeometries=e,this.acceptPolygon=i,this.acceptPolyline=r,this.geomUnitsPerPoint=a,this.pathCount=-1,this.pathIndex=-1,this.iteratePath=!1}return Object(r.a)(t,[{key:"next",value:function(){for(;;){if(!this.multiPath){for(var t=this.inputGeometries.next();t;){if(Object(h.g)(t)?this.acceptPolygon&&(this.multiPath=t.rings,this.isClosed=!0):Object(h.h)(t)?this.acceptPolyline&&(this.multiPath=t.paths,this.isClosed=!1):Object(h.d)(t)&&this.acceptPolygon&&(this.multiPath=P(t).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length,this.pathIndex=-1;break}t=this.inputGeometries.next()}if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var e=this.processPath(this.multiPath[this.pathIndex]);if(e)return e}this.pathCount=-1,this.pathIndex=-1,this.multiPath=null}}}]),t}();function P(t){return{rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}}},658:function(t,e,i){"use strict";i.d(e,"a",(function(){return ft})),i.d(e,"b",(function(){return _t}));var n=i(15),r=i(4),a=i(5),s=i(23),h=i(82),o=i(612),l=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new u(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();l.instance=null;var u=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._angleTolerance=void 0!==i.angleTolerance?i.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(Object(h.g)(t)){this._isClosed=!0;var e=Object(s.a)(t);return this._processMultipath(e.rings),e}if(Object(h.h)(t)){this._isClosed=!1;var i=Object(s.a)(t);return this._processMultipath(i.paths),i}if(Object(h.d)(t)){if(this._maxCosAngle)return t;this._isClosed=!0;var n=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];return this._processPath(n),{rings:[n]}}t=this._inputGeometries.next()}return null}},{key:"_processMultipath",value:function(t){if(t){var e,i=Object(n.a)(t);try{for(i.s();!(e=i.n()).done;){var r=e.value;this._processPath(r)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"_processPath",value:function(t){if(t){var e,i,n,r,a,s,h=t.length,l=t[0];this._isClosed&&++h;for(var u=1;u<h;++u){var c,f=(c=this._isClosed&&u===h-1?t[0]:t[u])[0]-l[0],_=c[1]-l[1],v=Math.sqrt(f*f+_*_);u>1&&v>0&&n>0&&(e*f+i*_)/v/n<=this._maxCosAngle&&Object(o.j)(l,1),1===u&&(r=f,a=_,s=v),v>0&&(l=c,e=f,i=_,n=v)}this._isClosed&&n>0&&s>0&&(e*r+i*a)/s/n<=this._maxCosAngle&&Object(o.j)(t[0],1)}}}]),t}(),c=i(6),f=i(7),_=.03,v=function(){function t(){Object(r.a)(this,t),this._path=[]}return Object(a.a)(t,[{key:"path",value:function(){return this._path}},{key:"addPath",value:function(t,e){e||t.reverse(),Array.prototype.push.apply(this._path,t),e||t.reverse()}},{key:"startPath",value:function(t){this._path.push(t)}},{key:"lineTo",value:function(t){this._path.push(t)}},{key:"close",value:function(){var t=this._path;t.length>1&&(t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]))}}],[{key:"mergePath",value:function(t,e){e&&Array.prototype.push.apply(t,e)}}]),t}(),p=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"normalize",value:function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);t[0]/=e,t[1]/=e}},{key:"calculateLength",value:function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}},{key:"calculateSegLength",value:function(t,e){return this.calculateLength(t[e],t[e+1])}},{key:"calculatePathLength",value:function(t){for(var e=0,i=t?t.length:0,n=0;n<i-1;++n)e+=this.calculateSegLength(t,n);return e}},{key:"calculatePathArea",value:function(t){for(var e=0,i=t?t.length:0,n=0;n<i-1;++n)e+=(t[n+1][0]-t[n][0])*(t[n+1][1]+t[n][1]);return e/2}},{key:"getCoord2D",value:function(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}},{key:"getSegCoord2D",value:function(t,e,i){return this.getCoord2D(t[e],t[e+1],i)}},{key:"getAngle",value:function(t,e,i){var n=e[0]-t[0],r=e[1]-t[1];return Math.atan2(r,n)}},{key:"getSegAngle",value:function(t,e,i){return this.getAngle(t[e],t[e+1],i)}},{key:"getAngleCS",value:function(t,e,i){var n=e[0]-t[0],r=e[1]-t[1],a=Math.sqrt(n*n+r*r);return a>0?[n/a,r/a]:[1,0]}},{key:"getSegAngleCS",value:function(t,e,i){return this.getAngleCS(t[e],t[e+1],i)}},{key:"cut",value:function(t,e,i,n){return[i<=0?t[e]:this.getSegCoord2D(t,e,i),n>=1?t[e+1]:this.getSegCoord2D(t,e,n)]}},{key:"addSegment",value:function(t,e,i){i&&t.push(e[0]),t.push(e[1])}},{key:"getSubCurve",value:function(t,e,i){var n=[];return this.appendSubCurve(n,t,e,i)?n:null}},{key:"appendSubCurve",value:function(t,e,i,n){for(var r=e?e.length-1:0,a=0,s=!0,h=0;h<r;){var o=this.calculateSegLength(e,h);if(0!==o){if(s){if(a+o>i){var l=(i-a)/o,u=1,c=!1;a+o>=n&&(u=(n-a)/o,c=!0);var f=this.cut(e,h,l,u);if(f&&this.addSegment(t,f,s),c)break;s=!1}}else{if(a+o>n){var _=this.cut(e,h,0,(n-a)/o);_&&this.addSegment(t,_,s);break}this.addSegment(t,[e[h],e[h+1]],s)}a+=o,++h}else++h}return!0}},{key:"getCIMPointAlong",value:function(t,e){for(var i=t?t.length-1:0,n=0,r=-1;r<i;){++r;var a=this.calculateSegLength(t,r);if(0!==a){if(n+a>e){var s=(e-n)/a;return this.getCoord2D(t[r],t[r+1],s)}n+=a}}return null}},{key:"isEmpty",value:function(t,e){if(!t||t.length<=1)return!0;for(var i=t?t.length-1:0,n=-1;n<i;){if(t[++n+1][0]!==t[n][0]||t[n+1][1]!==t[n][1])return!1;if(e&&t[n+1][2]!==t[n][2])return!1}return!0}},{key:"offset",value:function(t,e,i,n,r){if(!t||t.length<2)return null;var a=t.length,s=t[0][0]===t[a-1][0]&&t[0][1]===t[a-1][1];if(s){if(t.length<3)return null;--a}for(var h=[],o=s?t[a-1]:null,l=t[0],u=0;u<a;u++){var c=u===a-1?s?t[0]:null:t[u+1];if(o)if(c){var f=[c[0]-l[0],c[1]-l[1]];this.normalize(f);var _=[l[0]-o[0],l[1]-o[1]];this.normalize(_);var v=_[0]*f[1]-_[1]*f[0],p=_[0]*f[0]+_[1]*f[1];if(v>=0==e<=0){var g=[f[0]-_[0],f[1]-_[1]];this.normalize(g);var m=Math.sqrt((1+p)/2),y=-Math.abs(e)/m;h.push([l[0]-g[0]*y,l[1]-g[1]*y])}else switch(i){case"Mitered":var d=Math.sqrt((1+p)/2);if(d>0&&1/d<n){var b=[f[0]-_[0],f[1]-_[1]];this.normalize(b);var k=Math.abs(e)/d;h.push([l[0]-b[0]*k,l[1]-b[1]*k]);break}case"Bevelled":h.push([l[0]+_[1]*e,l[1]-_[0]*e]),h.push([l[0]+f[1]*e,l[1]-f[0]*e]);break;case"Rounded":h.push([l[0]+_[1]*e,l[1]-_[0]*e]);for(var x=.2,P=1;P<5;P++,x+=.2){var O=[_[1]*(1-x)+f[1]*x,-_[0]*(1-x)-f[0]*x];this.normalize(O),h.push([l[0]+O[0]*e,l[1]+O[1]*e])}h.push([l[0]+f[1]*e,l[1]-f[0]*e]);break;case"Square":default:if(v<0)h.push([l[0]+(_[1]+_[0])*e,l[1]+(_[1]-_[0])*e]),h.push([l[0]+(f[1]-f[0])*e,l[1]-(f[0]+f[1])*e]);else{var M=Math.sqrt((1+Math.abs(p))/2),C=[f[0]-_[0],f[1]-_[1]];this.normalize(C);var j=e/M;h.push([l[0]-C[0]*j,l[1]-C[1]*j])}}}else{var S=[l[0]-o[0],l[1]-o[1]];this.normalize(S),h.push([l[0]+S[1]*e,l[1]-S[0]*e])}else{var w=[c[0]-l[0],c[1]-l[1]];this.normalize(w),h.push([l[0]+w[1]*e,l[1]-w[0]*e])}o=l,l=c}return s&&h.push([h[0][0],h[0][1]]),h}}]),t}(),g=1.7320508075688772,m=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new y(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();m.instance=null;var y=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!1,!0))._curveHelper=new p,s._width=(void 0!==n.width?n.width:5)*a,s._arrowType=void 0!==n.geometricEffectArrowType?n.geometricEffectArrowType:"OpenEnded",s._offsetFlattenError=_*a,s}return Object(a.a)(i,[{key:"processPath",value:function(t){switch(this._arrowType){case"OpenEnded":default:return this._constructSimpleArrow(t,!0);case"Block":return this._constructSimpleArrow(t,!1);case"Crossed":return this._constructCrossedArrow(t)}}},{key:"_constructSimpleArrow",value:function(t,e){var i=this._curveHelper.calculatePathLength(t),n=this._width;i<2*n&&(n=i/2);var r=this._curveHelper.getSubCurve(t,0,i-n);if(!r)return null;var a=n/2;if(this._curveHelper.isEmpty(r,!1))return null;var s=this._constructOffset(r,-a);if(!s)return null;var h=this._constructOffset(r,a);if(!h)return null;var o=this._constructArrowBasePoint(s,-a/2);if(!o)return null;var l=this._constructArrowBasePoint(h,a/2);if(!l)return null;var u=t[t.length-1];e||(this._makeControlPoint(h,!0),this._makeControlPoint(s,!0));var c=new v;return c.addPath(h,!0),c.lineTo(l),this._makeControlPoint(c.path()),c.lineTo(u),this._makeControlPoint(c.path()),c.lineTo(o),this._makeControlPoint(c.path()),c.addPath(s,!1),e?{paths:[c.path()]}:(c.close(),{rings:[c.path()]})}},{key:"_constructCrossedArrow",value:function(t){var e=this._curveHelper.calculatePathLength(t),i=this._width;e<3.732050807568877*i&&(i=e/3.732050807568877);var n=this._curveHelper.getSubCurve(t,0,e-i*(1+g));if(!n)return null;var r=i/2;if(this._curveHelper.isEmpty(n,!1))return null;var a=this._constructOffset(n,r);if(!a)return null;var s=this._constructOffset(n,-r);if(!s)return null;var h=this._curveHelper.getSubCurve(t,0,e-i);if(!h)return null;if(this._curveHelper.isEmpty(h,!1))return null;var o=this._constructOffset(h,r);if(!o)return null;var l=this._constructOffset(h,-r);if(!l)return null;var u=o[o.length-1],c=this._constructArrowBasePoint(o,r/2);if(!c)return null;var f=l[l.length-1],_=this._constructArrowBasePoint(l,-r/2);if(!_)return null;var p=t[t.length-1];this._makeControlPoint(a,!1),this._makeControlPoint(s,!1);var m=new v;return m.addPath(a,!0),this._makeControlPoint(m.path()),m.lineTo(f),m.lineTo(_),this._makeControlPoint(m.path()),m.lineTo(p),this._makeControlPoint(m.path()),m.lineTo(c),this._makeControlPoint(m.path()),m.lineTo(u),this._makeControlPoint(m.path()),m.addPath(s,!1),{paths:[m.path()]}}},{key:"_constructOffset",value:function(t,e){return this._curveHelper.offset(t,e,"Rounded",4,this._offsetFlattenError)}},{key:"_constructArrowBasePoint",value:function(t,e){if(!t||t.length<2)return null;var i=t[t.length-2],n=t[t.length-1],r=[n[0]-i[0],n[1]-i[1]];return this._curveHelper.normalize(r),[n[0]+r[1]*e,n[1]-r[0]*e]}},{key:"_makeControlPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(o.j)(e?t[0]:t[t.length-1],1)}}]),i}(o.a),d=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new b(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();d.instance=null;var b=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._curveHelper=new p,this._size=(void 0!==i.size?i.size:1)*n,this._offsetFlattenError=_*n}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(Object(h.d)(t))if(this._size>0){var e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]],i=this._curveHelper.offset(e,this._size,"Rounded",4,this._offsetFlattenError);if(i)return{rings:[i]}}else{if(!(this._size<0))return t;if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)+2*this._size>0)return{xmin:t.xmin-this._size,xmax:t.xmax+this._size,ymin:t.ymin-this._size,ymax:t.ymax+this._size}}if(Object(h.g)(t)){if(0===this._size)return t;var r,a=[],s=Object(n.a)(t.rings);try{for(s.s();!(r=s.n()).done;){var o=r.value,l=this._curveHelper.offset(o,this._size,"Rounded",4,this._offsetFlattenError);l&&a.push(l)}}catch(m){s.e(m)}finally{s.f()}if(a.length)return{rings:a}}if(Object(h.h)(t)&&this._size>0){var u,c=[],f=Object(n.a)(t.paths);try{for(f.s();!(u=f.n()).done;){var _=u.value;if(_&&_.length>1){var v=this._curveHelper.offset(_,this._size,"Rounded",4,this._offsetFlattenError),p=this._curveHelper.offset(_,-this._size,"Rounded",4,this._offsetFlattenError);if(v&&p){for(var g=p.length-1;g>=0;g--)v.push(p[g]);v.push([v[0][0],v[0][1]]),c.push(v)}}}}catch(m){f.e(m)}finally{f.f()}if(c.length)return{rings:c}}Object(h.f)(t)&&this._size,t=this._inputGeometries.next()}return null}}]),t}(),k=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new x(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();k.instance=null;var x=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!0,!0))._curveHelper=new p,s._beginCut=(void 0!==n.beginCut?n.beginCut:1)*a,s._endCut=(void 0!==n.endCut?n.endCut:1)*a,s._middleCut=(void 0!==n.middleCut?n.middleCut:0)*a,s._invert=void 0!==n.invert&&n.invert,s._beginCut<0&&(s._beginCut=0),s._endCut<0&&(s._endCut=0),s._middleCut<0&&(s._middleCut=0),s}return Object(a.a)(i,[{key:"processPath",value:function(t){var e=this._beginCut,i=this._endCut,n=this._middleCut,r=this._curveHelper.calculatePathLength(t),a=[];if(this._invert)if(0===e&&0===i&&0===n);else if(e+i+n>=r)a.push(t);else{var s=this._curveHelper.getSubCurve(t,0,e);s&&a.push(s),(s=this._curveHelper.getSubCurve(t,.5*(r-n),.5*(r+n)))&&a.push(s),(s=this._curveHelper.getSubCurve(t,r-i,i))&&a.push(s)}else if(0===e&&0===i&&0===n)a.push(t);else if(e+i+n>=r);else if(0===n){var h=this._curveHelper.getSubCurve(t,e,r-i);h&&a.push(h)}else{var o=this._curveHelper.getSubCurve(t,e,.5*(r-n));o&&a.push(o),(o=this._curveHelper.getSubCurve(t,.5*(r+n),r-i))&&a.push(o)}return 0===a.length?null:{paths:a}}}]),i}(o.a),P=i(27),O=1e-7,M=function(){function t(){Object(r.a)(this,t),this._values=[],this.extPtGap=0,this.ctrlPtGap=0,this._length=0,this._currentValue=0}return Object(a.a)(t,[{key:"isEmpty",value:function(){return 0===this._values.length}},{key:"size",value:function(){return this._values.length}},{key:"init",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this._setEmpty(),!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=Math.abs(t[n]);i&&r<O&&(r=O),this._values.push(r),this._length+=r}return e&&1&t.length&&(this._length*=2),0!==this._length&&(this.ctrlPtGap=this.extPtGap=0,this._currentValue=-1,!0)}},{key:"scale",value:function(t){for(var e=this._values?this._values.length:0,i=0;i<e;++i)this._values[i]*=t;this._length*=t,this.extPtGap*=t,this.ctrlPtGap*=t}},{key:"addValue",value:function(t){this._length+=t,this._values.push(t)}},{key:"firstValue",value:function(){return this._values[0]}},{key:"lastValue",value:function(){return this._values[this._values.length-1]}},{key:"nextValue",value:function(){return this._currentValue++,this._currentValue===this._values.length&&(this._currentValue=0),this._values[this._currentValue]}},{key:"reset",value:function(){this._currentValue=-1}},{key:"length",value:function(){return this._length}},{key:"_setEmpty",value:function(){this.extPtGap=this.ctrlPtGap=this._length=0,this._currentValue=-1,this._values.length=0}}]),t}(),C=function(){function t(){Object(r.a)(this,t),this.reset()}return Object(a.a)(t,[{key:"reset",value:function(){this.segment=-1,this.segmentLength=0,this.abscissa=0,this.isPathEnd=!1,this.isPartEnd=!1}},{key:"isValid",value:function(){return-1!==this.segment}},{key:"copyTo",value:function(t){t.segment=this.segment,t.segmentLength=this.segmentLength,t.abscissa=this.abscissa,t.isPathEnd=this.isPathEnd,t.isPartEnd=this.isPartEnd}}]),t}(),j=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(r.a)(this,i),(t=e.call(this,n,a))._tolerance=_,t._currentPosition=new C,t}return Object(a.a)(i,[{key:"updateTolerance",value:function(t){this._tolerance=_*t}},{key:"init",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i?(this._patternLength=e.length(),this._partExtPtGap=e.extPtGap,this._partCtrlPtGap=e.ctrlPtGap):(this._patternLength=0,this._partExtPtGap=0,this._partCtrlPtGap=0),this._currentPosition.reset(),this._partSegCount=0,this._path=t,this._seg=-1,this.setPosAtNextPart()}},{key:"curPositionIsValid",value:function(){return this._currentPosition.isValid()}},{key:"nextPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new C;return!!this._nextPosition(t,i,null,e)&&(i.copyTo(this._currentPosition),!0)}},{key:"curPointAndAngle",value:function(t){t.pt=this._getPoint(this._currentPosition);var e=this._getAngle(this._currentPosition),i=Object(P.a)(e,2),n=i[0],r=i[1];t.ca=n,t.sa=r}},{key:"nextPointAndAngle",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new C;if(!this._nextPosition(t,n,null,i))return!1;n.copyTo(this._currentPosition),e.pt=this._getPoint(n);var r=this._getAngle(n),a=Object(P.a)(r,2),s=a[0],h=a[1];return e.ca=s,e.sa=h,!0}},{key:"nextCurve",value:function(t){if(0===t)return null;var e=[],i=new C;return this._nextPosition(t,i,e,1)?(i.copyTo(this._currentPosition),e):null}},{key:"isPathEnd",value:function(){return this._currentPosition.isPathEnd}},{key:"getPathEnd",value:function(){if(-1===this._currentPosition.segment)throw new Error("missing segment");return this._path[this._currentPosition.segment+1]}},{key:"_nextPosition",value:function(t,e,i,n){if(this._currentPosition.isPathEnd)return!1;var r=this._currentPosition.abscissa;for(this._currentPosition.segmentLength>0&&(r/=this._currentPosition.segmentLength),this._currentPosition.copyTo(e);e.abscissa+t*this._partLengthRatio>e.segmentLength+this._tolerance;){if(i){if(0===i.length)if(0===r){var a=this._path[e.segment];i.push([a[0],a[1]])}else i.push(this.getSegCoord2D(this._path,e.segment,r));var s=this._path[e.segment+1];i.push([s[0],s[1]])}if(r=0,t-=(e.segmentLength-e.abscissa)/this._partLengthRatio,this._partSegCount)e.segment=this.nextSegment(),e.segmentLength=this.calculateSegLength(this._path,e.segment),e.abscissa=0,this._partSegCount--;else{if(!this.setPosAtNextPart())return 0!==n&&(e.segmentLength=this.calculateSegLength(this._path,e.segment),e.isPartEnd=!0,1===n?(e.abscissa=e.segmentLength,e.isPathEnd=!0):e.abscissa=e.segmentLength+t,!0);this._currentPosition.copyTo(e)}}if(e.abscissa+=t*this._partLengthRatio,i){if(0===i.length)if(0===r){var h=this._path[e.segment];i.push([h[0],h[1]])}else i.push(this.getSegCoord2D(this._path,e.segment,r));var o=e.abscissa/e.segmentLength;if(1===o){var l=this._path[e.segment+1];i.push([l[0],l[1]])}else i.push(this.getSegCoord2D(this._path,e.segment,o))}return this._partSegCount||Math.abs(e.abscissa-e.segmentLength)<this._tolerance&&(e.isPathEnd=this._partIsLast,e.isPartEnd=!0),!0}},{key:"_getPoint",value:function(t){if(-1===t.segment)throw new Error("missing segment");var e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegCoord2D(this._path,t.segment,e)}},{key:"_getAngle",value:function(t){if(-1===t.segment)throw new Error("missing segment");var e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegAngleCS(this._path,t.segment,e)}},{key:"setPosAtNextPart",value:function(){for(;this._partSegCount;)this.hasNextSegment()&&this.nextSegment(),this._partSegCount--;if(!this.hasNextSegment())return!1;for(this._partLength=0,this._partIsLast=!0,this._partSegCount=0;this.hasNextSegment();)if(this._partLength+=this.calculateSegLength(this._path,this.nextSegment()),this._partSegCount++,1===Object(o.f)(this._path[this.getEndPointIndex()])){this._partIsLast=!this.hasNextSegment();break}for(var t=this._partSegCount;t;)this.previousSegment(),--t;this._currentPosition.segment=this.nextSegment(),this._currentPosition.segmentLength=this.calculateSegLength(this._path,this._currentPosition.segment),this._currentPosition.abscissa=0,this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1,--this._partSegCount;var e=this.getStartPointIndex();this._ctrlPtBegin=1===Object(o.f)(this._path[e]);var i=e+this._partSegCount+1;if(i>=this._path.length&&(i=0),this._ctrlPtEnd=1===Object(o.f)(this._path[i]),this._patternLength>0){var n=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap,r=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap,a=Math.round((this._partLength-(n+r))/this._patternLength);a<=0&&(a=n+r>0?0:1),this._partLengthRatio=this._partLength/(n+r+a*this._patternLength),this._partLengthRatio<.01&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0}},{key:"hasNextSegment",value:function(){return this._seg<this._path.length-2}},{key:"previousSegment",value:function(){return--this._seg}},{key:"nextSegment",value:function(){return++this._seg}},{key:"getStartPointIndex",value:function(){return this._seg}},{key:"getEndPointIndex",value:function(){return this._seg+1}}]),i}(p),S=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new w(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();S.instance=null;var w=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!0,!0))._walker=new j,s._walker.updateTolerance(a),s._endings=n.lineDashEnding,s._customDashPos=void 0!==n.offsetAlongLine?n.offsetAlongLine*a:0,s._offsetAtEnd=void 0!==n.customEndingOffset?n.customEndingOffset*a:0,s._pattern=new M,s._pattern.init(n.dashTemplate,!0),s._pattern.scale(a),s}return Object(a.a)(i,[{key:"processPath",value:function(t){if(0===this._pattern.length())return this.iteratePath=!1,{paths:[t]};if(!this.iteratePath){var e=!0;switch(this._endings){case"HalfPattern":case"HalfGap":default:this._pattern.extPtGap=0;break;case"FullPattern":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case"FullGap":this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case"NoConstraint":this.isClosed||(e=!1);break;case"Custom":this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}var i=this._walker.calculatePathLength(t);if(this._pattern.isEmpty()||i<.1*this._pattern.length())return{paths:[t]};if(!this._walker.init(t,this._pattern,e))return{paths:[t]}}var n;if(this.iteratePath)n=this._pattern.nextValue();else{var r;switch(this._endings){case"HalfPattern":default:r=.5*this._pattern.firstValue();break;case"HalfGap":r=.5*-this._pattern.lastValue();break;case"FullGap":r=-this._pattern.lastValue();break;case"FullPattern":r=0;break;case"NoConstraint":case"Custom":r=-this._customDashPos}var a=r/this._pattern.length();r=(a-=Math.floor(a))*this._pattern.length(),this._pattern.reset(),n=this._pattern.nextValue();for(var s=!1;r>=n;)r-=n,n=this._pattern.nextValue(),s=!s;n-=r,s?(this._walker.nextPosition(n),n=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(n),n=this._pattern.nextValue(),this._walker.nextPosition(n),n=this._pattern.nextValue())}var h=this._walker.nextCurve(n);return h?this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(this._firstCurve.splice(0,1),v.mergePath(h,this._firstCurve),this._firstCurve=null)):(n=this._pattern.nextValue(),!this._walker.nextPosition(n)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(h=this._firstCurve,this._firstCurve=null)):this.iteratePath=!0):(this.iteratePath=!1,h=this._firstCurve,this._firstCurve=null),{paths:[h]}}}]),i}(o.a),L=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new I(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();L.instance=null;var I=function(){function t(e,i,n){switch(Object(r.a)(this,t),this._inputGeometries=e,this._curveHelper=new p,this._width=(void 0!==i.width?i.width:2)*n,i.method){case"Mitered":default:this._method="Mitered";break;case"Bevelled":this._method="Bevelled";break;case"Rounded":case"TrueBuffer":this._method="Rounded";break;case"Square":this._method="Square"}this._option=i.option,this._offsetFlattenError=_*n}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(Object(h.d)(t)&&this._width>0){if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)-2*this._width<0)return t;var e=[];return e.push([[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]),e.push([[t.xmin+this._width,t.ymin+this._width],[t.xmax-this._width,t.ymin+this._width],[t.xmax-this._width,t.ymax-this._width],[t.xmin+this._width,t.ymax-this._width],[t.xmin+this._width,t.ymin+this._width]]),{rings:e}}if(Object(h.g)(t)&&this._width>0){var i,r=[],a=Object(n.a)(t.rings);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=this._curveHelper.calculatePathLength(s),l=this._curveHelper.offset(s,this._width,this._method,4,this._offsetFlattenError);l&&(o<0&&l.reverse(),r.push(l))}}catch(u){a.e(u)}finally{a.f()}if(r.length)return{rings:r}}t=this._inputGeometries.next()}return null}}]),t}(),A=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new T(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();A.instance=null;var T=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!1,!0))._curveHelper=new p,s._length=(void 0!==n.length?n.length:20)*a,s._angle=void 0!==n.angle?n.angle:225,s._position=void 0!==n.position?n.position:50,s._length<0&&(s._length=-s._length),s._position<20&&(s._position=20),s._position>80&&(s._position=80),s._mirror=!1,s}return Object(a.a)(i,[{key:"processPath",value:function(t){if(this._curveHelper.isEmpty(t,!1))return null;var e=t[0],i=t[t.length-1],n=[i[0]-e[0],i[1]-e[1]];this._curveHelper.normalize(n);var r=[e[0]+(i[0]-e[0])*this._position/100,e[1]+(i[1]-e[1])*this._position/100],a=Math.cos((90-this._angle)/180*Math.PI),s=Math.sin((90-this._angle)/180*Math.PI);return this._mirror&&(s=-s),this._mirror=!this._mirror,{paths:[[e,[r[0]-this._length/2*a,r[1]-this._length/2*s],[r[0]+this._length/2*a,r[1]+this._length/2*s],i]]}}}]),i}(o.a),E=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new G(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();E.instance=null;var G=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._offsetX=void 0!==i.offsetX?i.offsetX*n:0,this._offsetY=void 0!==i.offsetY?-i.offsetY*n:0}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(Object(h.d)(t))return{xmin:t.xmin+this._offsetX,xmax:t.xmax+this._offsetX,ymin:t.ymin+this._offsetY,ymax:t.ymax+this._offsetY};if(Object(h.g)(t)){var e=Object(s.a)(t);return this._moveMultipath(e.rings,this._offsetX,this._offsetY),e}if(Object(h.h)(t)){var i=Object(s.a)(t);return this._moveMultipath(i.paths,this._offsetX,this._offsetY),i}if(Object(h.e)(t)){var n=Object(s.a)(t);return this._movePath(n.points,this._offsetX,this._offsetY),n}if(Object(h.f)(t))return{x:t.x+this._offsetX,y:t.y+this._offsetY};t=this._inputGeometries.next()}return null}},{key:"_moveMultipath",value:function(t,e,i){if(t){var r,a=Object(n.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._movePath(s,e,i)}}catch(h){a.e(h)}finally{a.f()}}}},{key:"_movePath",value:function(t,e,i){if(t){var r,a=Object(n.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;s[0]+=e,s[1]+=i}}catch(h){a.e(h)}finally{a.f()}}}}]),t}(),z=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new F(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();z.instance=null;var F=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._curveHelper=new p,this._offset=(void 0!==i.offset?i.offset:1)*n,this._method=i.method,this._option=i.option,this._offsetFlattenError=_*n}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(0===this._offset)return t;if(Object(h.d)(t)){if("Rounded"===this._method&&this._offset>0){var e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]],i=this._curveHelper.offset(e,this._offset,this._method,4,this._offsetFlattenError);return i?{rings:[i]}:null}if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)+2*this._offset>0)return{xmin:t.xmin-this._offset,xmax:t.xmax+this._offset,ymin:t.ymin-this._offset,ymax:t.ymax+this._offset}}if(Object(h.g)(t)){var r,a=[],s=Object(n.a)(t.rings);try{for(s.s();!(r=s.n()).done;){var o=r.value,l=this._curveHelper.offset(o,this._offset,this._method,4,this._offsetFlattenError);l&&a.push(l)}}catch(p){s.e(p)}finally{s.f()}if(a.length)return{rings:a}}if(Object(h.h)(t)){var u,c=[],f=Object(n.a)(t.paths);try{for(f.s();!(u=f.n()).done;){var _=u.value,v=this._curveHelper.offset(_,this._offset,this._method,4,this._offsetFlattenError);v&&c.push(v)}}catch(p){f.e(p)}finally{f.f()}if(c.length)return{paths:c}}t=this._inputGeometries.next()}return null}}]),t}(),V=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new H(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();V.instance=null;var H=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._reverse=void 0===i.reverse||i.reverse}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(!this._reverse)return t;if(Object(h.h)(t)){var e=Object(s.a)(t);return Object(o.h)(e.paths),e}t=this._inputGeometries.next()}return null}}]),t}(),X=i(142),R=i(368),Y=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new D(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();Y.instance=null;var D=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._rotateAngle=void 0!==i.angle?-i.angle*Math.PI/180:0}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(0===this._rotateAngle)return t;var e=Object(X.h)();Object(R.a)(e,t);var i=(e[2]+e[0])/2,n=(e[3]+e[1])/2;if(Object(h.d)(t)){var r={rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]};return this._rotateMultipath(r.rings,i,n),r}if(Object(h.g)(t)){var a=Object(s.a)(t);return this._rotateMultipath(a.rings,i,n),a}if(Object(h.h)(t)){var o=Object(s.a)(t);return this._rotateMultipath(o.paths,i,n),o}if(Object(h.e)(t)){var l=Object(s.a)(t);return this._rotatePath(l.points,i,n),l}if(Object(h.f)(t))return t;t=this._inputGeometries.next()}return null}},{key:"_rotateMultipath",value:function(t,e,i){if(t){var r,a=Object(n.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._rotatePath(s,e,i)}}catch(h){a.e(h)}finally{a.f()}}}},{key:"_rotatePath",value:function(t,e,i){if(t){var r,a=Math.cos(this._rotateAngle),s=Math.sin(this._rotateAngle),h=Object(n.a)(t);try{for(h.s();!(r=h.n()).done;){var o=r.value,l=o[0]-e,u=o[1]-i;o[0]=e+l*a-u*s,o[1]=i+l*s+u*a}}catch(c){h.e(c)}finally{h.f()}}}}]),t}(),N=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new W(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();N.instance=null;var W=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._xFactor=void 0!==i.xScaleFactor?i.xScaleFactor:1.15,this._yFactor=void 0!==i.yScaleFactor?i.yScaleFactor:1.15}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(1===this._xFactor&&1===this._yFactor)return t;var e=Object(X.h)();Object(R.a)(e,t);var i=(e[2]+e[0])/2,n=(e[3]+e[1])/2;if(Object(h.d)(t)){var r={rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]};return this._scaleMultipath(r.rings,i,n),r}if(Object(h.g)(t)){var a=Object(s.a)(t);return this._scaleMultipath(a.rings,i,n),a}if(Object(h.h)(t)){var o=Object(s.a)(t);return this._scaleMultipath(o.paths,i,n),o}if(Object(h.e)(t)){var l=Object(s.a)(t);return this._scalePath(l.points,i,n),l}if(Object(h.f)(t))return t;t=this._inputGeometries.next()}return null}},{key:"_scaleMultipath",value:function(t,e,i){if(t){var r,a=Object(n.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._scalePath(s,e,i)}}catch(h){a.e(h)}finally{a.f()}}}},{key:"_scalePath",value:function(t,e,i){if(t){var r,a=Object(n.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,h=(s[0]-e)*this._xFactor,o=(s[1]-i)*this._yFactor;s[0]=e+h,s[1]=i+o}}catch(l){a.e(l)}finally{a.f()}}}}]),t}(),q=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new J(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();q.instance=null;var B,U,J=function(){function t(e,i,n){Object(r.a)(this,t),this._inputGeometries=e,this._height=(void 0!==i.amplitude?i.amplitude:2)*n,this._period=(void 0!==i.period?i.period:3)*n,this._style=i.waveform,this._height<=0&&(this._height=Math.abs(this._height)),this._period<=0&&(this._period=Math.abs(this._period)),this._pattern=new M,this._pattern.addValue(this._period),this._pattern.addValue(this._period),this._walker=new j,this._walker.updateTolerance(n)}return Object(a.a)(t,[{key:"next",value:function(){for(var t=this._inputGeometries.next();t;){if(0===this._height||0===this._period)return t;if(Object(h.h)(t)){var e=this._processGeom(t.paths);if(e.length)return{paths:e}}if(Object(h.g)(t)){var i=this._processGeom(t.rings);if(i.length)return{rings:i}}t=this._inputGeometries.next()}return null}},{key:"_processGeom",value:function(t){var e,i=[],r=Object(n.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(this._walker.init(a,this._pattern))switch(this._style){case"Sinus":default:i.push(this._constructCurve(a,!1));break;case"Square":i.push(this._constructSquare(a));break;case"Triangle":i.push(this._constructTriangle(a));break;case"Random":i.push(this._constructCurve(a,!0))}else i.push(a)}}catch(s){r.e(s)}finally{r.f()}return i}},{key:"_constructCurve",value:function(t,e){var i=new v,n=this._walker.calculatePathLength(t),r=Math.round(n/this._period);0===r&&(r=1);var a=16*r+1,s=n/r,h=this._period/16,o=1/a,l=2*Math.PI*n/s,u=2*Math.PI*Math.random(),c=2*Math.PI*Math.random(),f=2*Math.PI*Math.random(),_=.75-Math.random()/2,p=.75-Math.random()/2,g={};this._walker.curPointAndAngle(g),i.startPath(g.pt);for(var m=0;;){if(!this._walker.nextPointAndAngle(h,g)){i.lineTo(t[t.length-1]);break}var y=m,d=void 0;if(m+=o,e){var b=this._height/2*(1+.3*Math.sin(_*l*y+u));d=b*Math.sin(l*y+c),d+=b*Math.sin(p*l*y+f),d/=2}else d=.5*this._height*Math.sin(.5*l*y);i.lineTo([g.pt[0]-d*g.sa,g.pt[1]+d*g.ca])}return i.path()}},{key:"_constructSquare",value:function(t){var e=new v,i=this._walker.calculatePathLength(t);Math.round(i/this._period);for(var n=!0;;){var r=!1;if(this._walker.curPositionIsValid()){var a={};this._walker.curPointAndAngle(a);var s={};if(this._walker.nextPointAndAngle(this._period,s)){var h={};this._walker.nextPointAndAngle(this._period,h)&&(n?(e.startPath(a.pt),n=!1):e.lineTo(a.pt),e.lineTo([a.pt[0]-this._height/2*a.sa,a.pt[1]+this._height/2*a.ca]),e.lineTo([s.pt[0]-this._height/2*s.sa,s.pt[1]+this._height/2*s.ca]),e.lineTo([s.pt[0]+this._height/2*s.sa,s.pt[1]-this._height/2*s.ca]),e.lineTo([h.pt[0]+this._height/2*h.sa,h.pt[1]-this._height/2*h.ca]),r=!0)}}if(!r){e.lineTo(this._walker.getPathEnd());break}}return e.path()}},{key:"_constructTriangle",value:function(t){var e=new v,i=this._walker.calculatePathLength(t);Math.round(i/this._period);for(var n=!0;;){var r=!1;if(this._walker.curPositionIsValid()){var a={};this._walker.curPointAndAngle(a);var s={};if(this._walker.nextPointAndAngle(this._period/2,s)){var h={};this._walker.nextPointAndAngle(this._period,h)&&(this._walker.nextPosition(this._period/2)&&(n?(e.startPath(a.pt),n=!1):e.lineTo(a.pt),e.lineTo([s.pt[0]-this._height/2*s.sa,s.pt[1]+this._height/2*s.ca]),e.lineTo([h.pt[0]+this._height/2*h.sa,h.pt[1]-this._height/2*h.ca])),r=!0)}}if(!r){e.lineTo(this._walker.getPathEnd());break}}return e.path()}}]),t}();(U=B||(B={})).NoConstraint="NoConstraint",U.WithMarkers="WithMarkers",U.WithFullGap="WithFullGap",U.WithHalfGap="WithHalfGap",U.Custom="Custom";var K=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new Z(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();K.instance=null;var Z=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!0,!0))._grometryWalker=new j,s._grometryWalker.updateTolerance(a),s._angleToLine=void 0===n.angleToLine||n.angleToLine,s._offset=void 0!==n.offset?n.offset*a:0,s._originalEndings=n.endings,s._offsetAtEnd=void 0!==n.customEndingOffset?n.customEndingOffset*a:0,s._position=void 0!==n.offsetAlongLine?n.offsetAlongLine*a:0,s._pattern=new M,s._pattern.init(n.placementTemplate,!1),s._pattern.scale(a),s._endings=s._originalEndings,s}return Object(a.a)(i,[{key:"processPath",value:function(t){if(this._pattern.isEmpty())return null;var e;if(this.iteratePath)e=this._pattern.nextValue();else{this._originalEndings===B.WithFullGap&&this.isClosed?this._endings=B.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;var i,n=!0;switch(this._endings){case B.NoConstraint:i=-this._position,i=this._adjustPosition(i),n=!1;break;case B.WithHalfGap:default:i=-this._pattern.lastValue()/2;break;case B.WithFullGap:i=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case B.WithMarkers:i=0;break;case B.Custom:i=-this._position,i=this._adjustPosition(i),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._grometryWalker.init(t,this._pattern,n))return null;this._pattern.reset();for(var r=0;i>r;)i-=r,r=this._pattern.nextValue();e=r-=i,this.iteratePath=!0}var a={};return this._grometryWalker.nextPointAndAngle(e,a)?this._endings===B.WithFullGap&&this._grometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===B.WithMarkers&&this._grometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(a.pt[0]+this._offset*a.sa,a.pt[1]-this._offset*a.ca),this._angleToLine&&this.internalPlacement.setRotateCS(a.ca,a.sa),this.internalPlacement):(this.iteratePath=!1,null)}},{key:"_adjustPosition",value:function(t){var e=t/this._pattern.length();return(e-=Math.floor(e))*this._pattern.length()}}]),i}(o.b),Q=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new $(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();Q.instance=null;var $=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!1,!0))._curveHelper=new p,s._angleToLine=void 0===n.angleToLine||n.angleToLine,s._offset=void 0!==n.offset?n.offset*a:0,s._type=n.extremityPlacement,s._position=void 0!==n.offsetAlongLine?n.offsetAlongLine*a:0,s._beginProcessed=!1,s}return Object(a.a)(i,[{key:"processPath",value:function(t){var e;switch(this._type){case"Both":default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iteratePath=!0);break;case"JustBegin":e=this._atExtremities(t,this._position,!0);break;case"JustEnd":e=this._atExtremities(t,this._position,!1);break;case"None":}return e}},{key:"_atExtremities",value:function(t,e,i){var n=t.length;if(n<2)return null;for(var r,a=i?1:n-2,s=i?n:-1,h=i?1:-1,l=0,u=i?t[0]:t[n-1],c=a;c!==s;c+=h){r=u,u=t[c];var f=this._curveHelper.calculateLength(r,u);if(l+f>e){var _=(e-l)/f,v=this._curveHelper.getAngleCS(r,u,_),p=Object(P.a)(v,2),g=p[0],m=p[1],y=Object(o.e)(r,u,_);return this.internalPlacement.setTranslate(y[0]-this._offset*m,y[1]+this._offset*g),this._angleToLine&&this.internalPlacement.setRotateCS(-g,-m),this.internalPlacement}l+=f}return null}}]),i}(o.b),tt=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new et(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();tt.instance=null;var et=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!0,!0))._walker=new j,s._walker.updateTolerance(a),s._angleToLine=void 0===n.angleToLine||n.angleToLine,s._offset=void 0!==n.offset?n.offset*a:0,s._beginGap=void 0!==n.beginPosition?n.beginPosition*a:0,s._endGap=void 0!==n.endPosition?n.endPosition*a:0,s._flipFirst=void 0===n.flipFirst||n.flipFirst,s._pattern=new M,s._pattern.init(n.positionArray,!1,!1),s._subPathLen=0,s._posCount=s._pattern.size(),s._isFirst=!0,s._prevPos=0,s}return Object(a.a)(i,[{key:"processPath",value:function(t){if(this._pattern.isEmpty())return null;var e;if(this.iteratePath){var i=this._pattern.nextValue()*this._subPathLen,n=this._beginGap+i;e=n-this._prevPos,this._prevPos=n}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=this._walker.calculatePathLength(t)-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(t,this._pattern,!1))return null;this._pattern.reset();var r=this._pattern.nextValue()*this._subPathLen,a=this._beginGap+r;e=a-this._prevPos,this._prevPos=a,this.iteratePath=!0}var s={};if(!this._walker.nextPointAndAngle(e,s,1))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(s.pt[0]+this._offset*s.sa,s.pt[1]-this._offset*s.ca);var h,o,l=this._isFirst&&this._flipFirst;return this._angleToLine?(h=s.ca,o=s.sa):(h=1,o=0),l&&(h=-h,o=-o),this.internalPlacement.setRotateCS(h,o),this._isFirst=!1,this._posCount--,0===this._posCount&&(this.iteratePath=!1),this.internalPlacement}}]),i}(o.b),it=i(799);var nt=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new rt(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();nt.instance=null;var rt=function(){function t(e,i,n){if(Object(r.a)(this,t),this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,this._currentX=0,this._currentY=0,this._stepX=(void 0!==i.stepX?Math.abs(i.stepX):16)*n,this._stepY=(void 0!==i.stepY?Math.abs(i.stepY):16)*n,0!==this._stepX&&0!==this._stepY&&e&&function(t){return void 0!==t.rings}(e)&&e.rings){if(this._gridType=void 0!==i.gridType?i.gridType:"Fixed","Random"===this._gridType)this._randomness=void 0!==i.randomness?i.randomness/100:1,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._sinAngle=0,this._offsetX=0,this._offsetY=0;else{if(this._randomness=0,this._gridAngle=void 0!==i.gridAngle?i.gridAngle:0,this._shiftOddRows=void 0!==i.shiftOddRows&&i.shiftOddRows,this._offsetX=void 0!==i.offsetX?i.offsetX*n:0,this._offsetY=void 0!==i.offsetY?i.offsetY*n:0,this._cosAngle=Math.cos(this._gridAngle/180*Math.PI),this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI),this._stepX)if(this._offsetX<0)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(this._offsetY<0)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}this._graphicOriginX=0,this._graphicOriginY=0,this._internalPlacement=new it.a,this._calculateMinMax(e),this._geometry=e}}return Object(a.a)(t,[{key:"next",value:function(){return this._geometry?this._nextInside():null}},{key:"_calculateMinMax",value:function(t){var e,i,r,a,s,h,o,l;this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,s=h=Number.MAX_VALUE,o=l=-Number.MAX_VALUE;var u,c=Object(n.a)(t.rings);try{for(c.s();!(u=c.n()).done;)for(var f=u.value,_=f?f.length:0,v=0;v<_;++v)e=f[v][0]-this._graphicOriginX-this._offsetX,i=f[v][1]-this._graphicOriginY-this._offsetY,r=this._cosAngle*e-this._sinAngle*i,a=this._sinAngle*e+this._cosAngle*i,s=Math.min(s,r),o=Math.max(o,r),h=Math.min(h,a),l=Math.max(l,a)}catch(p){c.e(p)}finally{c.f()}s+=this._graphicOriginX,o+=this._graphicOriginX,h+=this._graphicOriginY,l+=this._graphicOriginY,this._xMin=Math.round(s/this._stepX),this._xMax=Math.round(o/this._stepX),this._yMin=Math.round(h/this._stepY),this._yMax=Math.round(l/this._stepY),this._currentX=this._xMax+1,this._currentY=this._yMin-1}},{key:"_nextInside",value:function(){for(;;){if(this._currentX>this._xMax){if(this._currentY++,this._currentY>this._yMax)return null;this._currentX=this._xMin,this._shiftOddRows&&this._currentY%2&&this._currentX--}var t=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(t+=.5*this._stepX);var e=this._currentY*this._stepY+this._offsetY,i=void 0,n=void 0;return this._currentX++,"Random"===this._gridType?(i=this._graphicOriginX+t+this._stepX*this._randomness*(.5-Math.random())*2/3,n=this._graphicOriginY+e+this._stepY*this._randomness*(.5-Math.random())*2/3):(i=this._graphicOriginX+this._cosAngle*t+this._sinAngle*e,n=this._graphicOriginY-this._sinAngle*t+this._cosAngle*e),this._internalPlacement.setTranslate(i,n),this._internalPlacement}}}]),t}(),at=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new st(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();at.instance=null;var st=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!0,!0))._curveHelper=new p,s._angleToLine=void 0===n.angleToLine||n.angleToLine,s._offset=void 0!==n.offset?n.offset*a:0,s._relativeTo=n.relativeTo,s._position=void 0!==n.startPointOffset?n.startPointOffset*a:0,s._epsilon=.001*a,s}return Object(a.a)(i,[{key:"processPath",value:function(t){var e=this._position;if("SegmentMidpoint"===this._relativeTo){for(this.iteratePath||(this._segmentCount=t.length,this._curSegment=1,this.iteratePath=!0);this._curSegment<this._segmentCount;){var i=this._curSegment;this._curSegment++;var n=t[i-1],r=t[i],a=this._curveHelper.calculateLength(n,r);if(!(a<this._epsilon)){var s=.5+this._position/a,h=this._curveHelper.getAngleCS(n,r,s),l=Object(P.a)(h,2),u=l[0],c=l[1],f=Object(o.e)(n,r,s);return this.internalPlacement.setTranslate(f[0]-this._offset*c,f[1]+this._offset*u),this._angleToLine&&this.internalPlacement.setRotateCS(u,c),this.internalPlacement}}return this.iteratePath=!1,null}"LineEnd"===this._relativeTo&&Object(o.i)(t);var _=this.onLine(t,e);return"LineEnd"===this._relativeTo&&Object(o.i)(t),_}},{key:"onLine",value:function(t,e){var i,n=!1;switch(this._relativeTo){case"LineMiddle":default:i=this._curveHelper.calculatePathLength(t)/2+e;break;case"LineBeginning":i=e;break;case"LineEnd":i=e,n=!0}for(var r,a=t.length,s=0,h=t[0],l=1;l<a;++l){r=h,h=t[l];var u=this._curveHelper.calculateLength(r,h);if(s+u>i){var c=(i-s)/u,f=this._curveHelper.getAngleCS(r,h,c),_=Object(P.a)(f,2),v=_[0],p=_[1],g=Object(o.e)(r,h,c),m=n?this._offset:-this._offset;return this.internalPlacement.setTranslate(g[0]-m*p,g[1]+m*v),this._angleToLine&&(n?this.internalPlacement.setRotateCS(-v,-p):this.internalPlacement.setRotateCS(v,p)),this.internalPlacement}s+=u}return null}}]),i}(o.b),ht=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new ot(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();ht.instance=null;var ot=function(t){Object(c.a)(i,t);var e=Object(f.a)(i);function i(t,n,a){var s;return Object(r.a)(this,i),(s=e.call(this,t,!0,!0))._curveHelper=new p,s._angleToLine=void 0===n.angleToLine||n.angleToLine,s._offset=void 0!==n.offset?n.offset*a:0,s._endPoints=void 0===n.placeOnEndPoints||n.placeOnEndPoints,s._controlPoints=void 0===n.placeOnControlPoints||n.placeOnControlPoints,s._regularVertices=void 0===n.placeOnRegularVertices||n.placeOnRegularVertices,s._tags=[],s._tagIterator=0,s}return Object(a.a)(i,[{key:"processPath",value:function(t){if(this.iteratePath||(this._preparePath(t),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;var e=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(e[2]);var i=e[0],n=e[1];if(0!==this._offset){var r=Math.cos(e[2]),a=Math.sin(e[2]);i-=this._offset*a,n+=this._offset*r}return this.internalPlacement.setTranslate(i,n),this._tagIterator++,this.internalPlacement}},{key:"_preparePath",value:function(t){this._tags.length=0,this._tagIterator=0;for(var e,i,n=Object(o.g)(t),r=t.length-1,a=0,s=0,h=0,l=0,u=0;a<r;){e=t[++a-1],i=t[a];var c=Object(o.f)(e),f=Object(o.f)(i);(this._angleToLine||0!==this._offset)&&(l=this._curveHelper.getAngle(e,i,0)),1===a?n?(s=l,h=c):this._endPoints&&this._tags.push([e[0],e[1],l]):1===c?this._controlPoints&&this._tags.push([e[0],e[1],lt(u,l)]):this._regularVertices&&this._tags.push([e[0],e[1],lt(u,l)]),(this._angleToLine||0!==this._offset)&&(u=this._curveHelper.getAngle(e,i,1)),a===r&&(n?1===f||1===h?this._controlPoints&&this._tags.push([i[0],i[1],lt(u,s)]):this._regularVertices&&this._tags.push([i[0],i[1],lt(u,s)]):this._endPoints&&this._tags.push([i[0],i[1],u]))}this._tagIterator=0}}]),i}(o.b);function lt(t,e){for(var i=Math.PI;Math.abs(e-t)>i+2e-15;)e-t>i?e-=2*i:e+=2*i;return(t+e)/2}var ut=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,[{key:"execute",value:function(t,e,i){return new ct(t,e,i)}}],[{key:"local",value:function(){return null===t.instance&&(t.instance=new t),t.instance}}]),t}();ut.instance=null;var ct=function(){function t(e,i,n){Object(r.a)(this,t),this._geometry=e,this._offsetX=void 0!==i.offsetX?i.offsetX*n:0,this._offsetY=void 0!==i.offsetY?i.offsetY*n:0,this._method=void 0!==i.method?i.method:"OnPolygon",this._internalPlacement=new it.a}return Object(a.a)(t,[{key:"next",value:function(){var t=this._geometry;return this._geometry=null,t&&function(t){return void 0!==t.rings}(t)?this._polygonCenter(t):null}},{key:"_polygonCenter",value:function(t){var e=!1;switch(this._method){case"OnPolygon":default:case"CenterOfMass":case"BoundingBoxCenter":var i=Object(X.h)();Object(R.a)(i,t),this._internalPlacement.setTranslate((i[2]+i[0])/2+this._offsetX,(i[3]+i[1])/2-this._offsetY),e=!0}return e?this._internalPlacement:null}}]),t}();function ft(t){if(!t)return null;switch(t.type){case"CIMGeometricEffectAddControlPoints":return l.local();case"CIMGeometricEffectArrow":return m.local();case"CIMGeometricEffectBuffer":return d.local();case"CIMGeometricEffectCut":return k.local();case"CIMGeometricEffectDashes":return S.local();case"CIMGeometricEffectDonut":return L.local();case"CIMGeometricEffectJog":return A.local();case"CIMGeometricEffectMove":return E.local();case"CIMGeometricEffectOffset":return z.local();case"CIMGeometricEffectReverse":return V.local();case"CIMGeometricEffectRotate":return Y.local();case"CIMGeometricEffectScale":return N.local();case"CIMGeometricEffectWave":return q.local()}return null}function _t(t){if(!t)return null;switch(t.type){case"CIMMarkerPlacementAlongLineSameSize":return K.local();case"CIMMarkerPlacementAtExtremities":return Q.local();case"CIMMarkerPlacementAtRatioPositions":return tt.local();case"CIMMarkerPlacementInsidePolygon":return nt.local();case"CIMMarkerPlacementOnLine":return at.local();case"CIMMarkerPlacementOnVertices":return ht.local();case"CIMMarkerPlacementPolygonCenter":return ut.local()}return null}},689:function(t,e,i){"use strict";i.d(e,"a",(function(){return A})),i.d(e,"b",(function(){return E})),i.d(e,"c",(function(){return T}));var n=i(35),r=i(11),a=i(15),s=i(4),h=i(5),o=i(40),l=i(12),u=i(66),c=i(799),f=i(6),_=i(7),v=i(142),p=i(368),g=i(82),m=i(721),y=i(658),d=i(691),b=Math.PI/180,k=l.a.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),x=function(){function t(e){Object(s.a)(this,t),this._t=e}return Object(h.a)(t,[{key:"clone",value:function(){return new t(this._t.slice())}},{key:"transform",value:function(t){var e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]}},{key:"scale",value:function(t,e){var i=this._t;return i[0]*=t,i[1]*=t,i[2]*=t,i[3]*=e,i[4]*=e,i[5]*=e,this}},{key:"scaleRatio",value:function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}},{key:"translate",value:function(t,e){var i=this._t;return i[2]+=t,i[5]+=e,this}},{key:"rotate",value:function(e){return this.multiply(t.createRotate(e))}},{key:"multiply",value:function(t){var e=this._t,i=t._t,n=e[0]*i[0]+e[3]*i[1],r=e[1]*i[0]+e[4]*i[1],a=e[2]*i[0]+e[5]*i[1]+i[2],s=e[0]*i[3]+e[3]*i[4],h=e[1]*i[3]+e[4]*i[4],o=e[2]*i[3]+e[5]*i[4]+i[5];return e[0]=n,e[1]=r,e[2]=a,e[3]=s,e[4]=h,e[5]=o,this}}],[{key:"createIdentity",value:function(){return new t([1,0,0,0,1,0])}},{key:"createScale",value:function(e,i){return new t([e,0,0,0,i,0])}},{key:"createTranslate",value:function(e,i){return new t([0,0,e,0,0,i])}},{key:"createRotate",value:function(e){var i=Math.cos(e),n=Math.sin(e);return new t([i,-n,0,n,i,0])}}]),t}(),P=function(){function t(e){Object(s.a)(this,t),this._transfos=[],this._sizeTransfos=[],this._transfos.push(e||x.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}return Object(h.a)(t,[{key:"transformPt",value:function(t){return this._transfos[this._transfos.length-1].transform(t)}},{key:"transformSize",value:function(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}},{key:"back",value:function(){return this._transfos[this._transfos.length-1]}},{key:"push",value:function(t,e){var i=e?t.scaleRatio():1;t.multiply(this.back()),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*i)}},{key:"pop",value:function(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}},{key:"drawSymbol",value:function(t,e){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(t,e)}}},{key:"drawMultiLayerSymbol",value:function(t,e){if(t){var i=t.symbolLayers;if(i){var n=t.effects;if(n){var r=this.executeEffects(n,e);if(r)for(var a=r.next();a;)this.drawSymbolLayers(i,a),a=r.next()}else this.drawSymbolLayers(i,e)}}}},{key:"executeEffects",value:function(t,e){var i,n=new m.a(e),r=Object(a.a)(t);try{for(r.s();!(i=r.n()).done;){var s=i.value,h=Object(y.a)(s);h&&(n=h.execute(n,s,1))}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"drawSymbolLayers",value:function(t,e){for(var i=t.length;i--;){var n=t[i];if(n&&!1!==n.enable){var r=n.effects;if(r){var a=this.executeEffects(r,e);if(a)for(var s=a.next();s;)this.drawSymbolLayer(n,s),s=a.next()}else this.drawSymbolLayer(n,e)}}}},{key:"drawSymbolLayer",value:function(t,e){switch(t.type){case"CIMSolidFill":this.drawSolidFill(e,t.color);break;case"CIMHatchFill":this.drawHatchFill(t,e);break;case"CIMSolidStroke":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(t,e)}}},{key:"drawHatchFill",value:function(t,e){var i=this._buildHatchPolyline(t,e,1);i&&(this.pushClipPath(e),this.drawMultiLayerSymbol(t.lineSymbol,i),this.popClipPath())}},{key:"drawMarkerLayer",value:function(t,e){var i=t.markerPlacement;if(i){var n=Object(y.b)(i);if(n){var r="CIMMarkerPlacementInsidePolygon"===i.type;r&&this.pushClipPath(e);var a=n.execute(e,i,1);if(a)for(var s=a.next();s;)this.drawMarker(t,s),s=a.next();r&&this.popClipPath()}}else{var h=new c.a;h.tx=e.x,h.ty=e.y,this.drawMarker(t,h)}}},{key:"drawMarker",value:function(t,e){switch(t.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(t,e);break;case"CIMVectorMarker":this.drawVectorMarker(t,e)}}},{key:"drawPictureMarker",value:function(t,e){if(t){var i=t.size||10,n=x.createIdentity(),r=t.anchorPoint;if(r){var a=r.x,s=r.y;"Absolute"!==t.anchorPointUnits&&(a*=i,s*=i),n.translate(-a,-s)}t.rotation&&n.rotate(t.rotation*b),n.translate(t.offsetX||0,t.offsetY||0),n.translate(e.tx,e.ty),this.push(n,!1),this.drawImage(t.url,i,t.scaleX),this.pop()}}},{key:"drawVectorMarker",value:function(t,e){if(t){var i=t.markerGraphics;if(i){var n=t.size,r=t.frame,s=r?r.ymax-r.ymin:0,h=n&&s?n/s:1,o=x.createIdentity();r&&o.translate(.5*-(r.xmax+r.xmin),.5*-(r.ymax+r.ymin));var l=t.anchorPoint;if(l){var u=l.x,c=l.y;"Absolute"!==t.anchorPointUnits?r&&(u*=r.xmax-r.xmin,c*=r.ymax-r.ymin):(u/=h,c/=h),o.translate(-u,-c)}1!==h&&o.scale(h,h),t.rotation&&o.rotate(t.rotation*b),o.translate(t.offsetX||0,t.offsetY||0),o.translate(e.tx,e.ty),this.push(o,t.scaleSymbolsProportionally);var f,_=Object(a.a)(i);try{for(_.s();!(f=_.n()).done;){var v=f.value;v&&v.symbol&&v.geometry||k.error("Invalid marker graphic",v),this.drawSymbol(v.symbol,v.geometry)}}catch(p){_.e(p)}finally{_.f()}this.pop()}}}},{key:"_buildHatchPolyline",value:function(t,e,i){var n=(void 0!==t.separation?t.separation:4)*i,r=void 0!==t.rotation?t.rotation:0;if(0===n)return null;n<0&&(n=-n);for(var a=0,s=.5*n;a>s;)a-=n;for(;a<-s;)a+=n;var h=Object(v.h)();Object(p.a)(h,e),h[0]-=s,h[1]-=s,h[2]+=s,h[3]+=s;for(var o=[[h[0],h[1]],[h[0],h[3]],[h[2],h[3]],[h[2],h[1]]];r>180;)r-=180;for(;r<0;)r+=180;var l,u,c,f,_=Math.cos(r*b),g=Math.sin(r*b),m=-n*g,y=n*_;a=(void 0!==t.offsetX?t.offsetX*i:0)*g-(void 0!==t.offsetY?t.offsetY*i:0)*_,l=c=Number.MAX_VALUE,u=f=-Number.MAX_VALUE;for(var d=0,k=o;d<k.length;d++){var x=k[d],P=x[0],O=x[1],M=_*P+g*O,C=-g*P+_*O;l=Math.min(l,M),c=Math.min(c,C),u=Math.max(u,M),f=Math.max(f,C)}for(var j=_*l-g*(c=Math.floor(c/n)*n)-m*a/n,S=g*l+_*c-y*a/n,w=_*u-g*c-m*a/n,L=g*u+_*c-y*a/n,I=1+Math.round((f-c)/n),A=[],T=0;T<I;T++)j+=m,S+=y,w+=m,L+=y,A.push([[j,S],[w,L]]);return{paths:A}}}]),t}(),O=function(t){Object(f.a)(i,t);var e=Object(_.a)(i);function i(){var t;return Object(s.a)(this,i),(t=e.call(this)).reset(),t}return Object(h.a)(i,[{key:"reset",value:function(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}},{key:"envelope",value:function(){return new d.a(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}},{key:"drawSolidFill",value:function(t){if(t&&!(this._clipCount>0))if(Object(g.g)(t))this._processPath(t.rings,0);else if(Object(g.h)(t))this._processPath(t.paths,0);else if(Object(g.d)(t)){var e=C(t);e&&this._processPath(e.rings,0)}}},{key:"drawSolidStroke",value:function(t,e,i){if(t&&!(this._clipCount>0)){var n=.5*this.transformSize(i);if(Object(g.g)(t))this._processPath(t.rings,n);else if(Object(g.h)(t))this._processPath(t.paths,n);else if(Object(g.d)(t)){var r=C(t);r&&this._processPath(r.rings,n)}}}},{key:"pushClipPath",value:function(t){this.drawSolidFill(t),++this._clipCount}},{key:"popClipPath",value:function(){--this._clipCount}},{key:"drawImage",value:function(t,e,i){var n=e/2;this._merge(this.transformPt([0,0]),n)}},{key:"_processPath",value:function(t,e){if(t){var i,n=Object(a.a)(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=r?r.length:0;if(s>1){this._merge(this.transformPt(r[0]),e);for(var h=1;h<s;++h)this._merge(this.transformPt(r[h]),e)}}}catch(o){n.e(o)}finally{n.f()}}}},{key:"_merge",value:function(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)}}]),i}(P),M=function(t){Object(f.a)(i,t);var e=Object(_.a)(i);function i(t,n){var r;return Object(s.a)(this,i),(r=e.call(this,n))._ctx=t,r}return Object(h.a)(i,[{key:"drawSolidFill",value:function(t,e){if(t){if(Object(g.g)(t))this._buildPath(t.rings,!0);else if(Object(g.h)(t))this._buildPath(t.paths,!0);else{if(!Object(g.d)(t))return;this._buildPath(C(t).rings,!0)}var i=this._ctx;i.fillStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]/255+")",i.fill("evenodd")}}},{key:"drawSolidStroke",value:function(t,e,i,n,r,a){if(t&&e&&0!==i){if(Object(g.g)(t))this._buildPath(t.rings,!0);else if(Object(g.h)(t))this._buildPath(t.paths,!1);else{if(!Object(g.d)(t))return;this._buildPath(C(t).rings,!0)}var s=this._ctx;s.strokeStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+e[3]/255+")",s.lineWidth=this.transformSize(i)+.5,this._setCapStyle(n),this._setJoinStyle(r),s.miterLimit=a,s.stroke()}}},{key:"pushClipPath",value:function(t){if(this._ctx.save(),Object(g.g)(t))this._buildPath(t.rings,!0);else if(Object(g.h)(t))this._buildPath(t.paths,!0);else{if(!Object(g.d)(t))return;this._buildPath(C(t).rings,!0)}this._ctx.clip("evenodd")}},{key:"popClipPath",value:function(){this._ctx.restore()}},{key:"drawImage",value:function(t,e,i){}},{key:"_buildPath",value:function(t,e){var i=this._ctx;if(i.beginPath(),t){var n,r=Object(a.a)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value,h=s?s.length:0;if(h>1){var o=this.transformPt(s[0]);i.moveTo(o[0],o[1]);for(var l=1;l<h;++l)o=this.transformPt(s[l]),i.lineTo(o[0],o[1]);e&&i.closePath()}}}catch(u){r.e(u)}finally{r.f()}}}},{key:"_setCapStyle",value:function(t){switch(t){case"Butt":this._ctx.lineCap="butt";break;case"Round":this._ctx.lineCap="round";break;case"Square":this._ctx.lineCap="square"}}},{key:"_setJoinStyle",value:function(t){switch(t){case"Bevel":this._ctx.lineJoin="bevel";break;case"Round":this._ctx.lineJoin="round";break;case"Miter":this._ctx.lineJoin="miter"}}}]),i}(P),C=function(t){return t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null},j=i(722),S=Math.PI,w=S/2,L=l.a.getLogger("esri.symbols.cim.CIMSymbolHelper");function I(t,e){switch(e.type){case"CIMSymbolReference":t.drawSymbol(e.symbol,{type:"point",x:0,y:0});break;case"CIMPointSymbol":t.drawSymbol(e,{type:"point",x:0,y:0});break;case"CIMTextSymbol":break;case"CIMVectorMarker":var i=new c.a;t.drawMarker(e,i)}return t.envelope()}var A=function(){function t(){Object(s.a)(this,t)}return Object(h.a)(t,null,[{key:"getEnvelope",value:function(t){var e=new O;if(Array.isArray(t)){var i,n,r=Object(a.a)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;i?i.union(I(e,s)):i=I(e,s)}}catch(h){r.e(h)}finally{r.f()}return i}return I(e,t)}},{key:"getTextureAnchor",value:function(t){var e=this.getEnvelope(t);if(!e||e.width<=0||e.height<=0)return[0,0,0];var i=96/72,n=(e.x+.5*e.width)*i,r=-(e.y+.5*e.height)*i,a=e.width*i+2,s=e.height*i+2;return[n/a,r/s,s]}},{key:"rasterize",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=i||this.getEnvelope(e);if(!r||r.width<=0||r.height<=0)return[null,0,0,0,0];var a=96/72,s=(r.x+.5*r.width)*a,h=(r.y+.5*r.height)*a;t.width=r.width*a,t.height=r.height*a,i||(t.width+=2,t.height+=2);var o=t.getContext("2d"),l=x.createScale(a,-a);l.translate(.5*t.width-s,.5*t.height+h);var u=new M(o,l);switch(e.type){case"CIMPointSymbol":var f={type:"point",x:0,y:0};u.drawSymbol(e,f);break;case"CIMVectorMarker":var _=new c.a;u.drawMarker(e,_)}var v=o.getImageData(0,0,t.width,t.height),p=new Uint8Array(v.data);if(n)for(var g,m=0;m<p.length;m+=4)g=p[m+3]/255,p[m]=p[m]*g,p[m+1]=p[m+1]*g,p[m+2]=p[m+2]*g;return[p,t.width,t.height,-s/t.width,-h/t.height]}},{key:"fromSimpleMarker",value:function(t){var e,i,n,r=50,a=t.style;if("circle"===a||"esriSMSCircle"===a){var s=Math.acos(.995),h=Math.ceil(S/s/4);0===h&&(h=1),s=w/h,h*=4;var o=[];o.push([r,0]);for(var l=1;l<h;l++)o.push([r*Math.cos(l*s),-r*Math.sin(l*s)]);o.push([r,0]),e={rings:[o]},i={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("cross"===a||"esriSMSCross"===a){e={rings:[[[0,r],[0,0],[r,0],[r,-0],[0,-0],[0,-r],[-0,-r],[-0,-0],[-r,-0],[-r,0],[-0,0],[-0,r],[0,r]]]},i={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("diamond"===a||"esriSMSDiamond"===a)e={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},i={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("square"===a||"esriSMSSquare"===a)e={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},i={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("x"===a||"esriSMSX"===a){e={rings:[[[0,0],[50,r],[r,50],[0,0],[r,-50],[50,-r],[0,-0],[-50,-r],[-r,-50],[-0,0],[-r,50],[-50,r],[0,0]]]},i={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("triangle"===a||"esriSMSTriangle"===a){var u=57.735026918962575,c=-u,f=2/3*100,_=f-100;e={rings:[[[c,_],[0,f],[u,_],[c,_]]]},i={xmin:c,ymin:_,xmax:u,ymax:f}}else"arrow"!==a&&"esriSMSArrow"!==a||(e={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},i={xmin:-r,ymin:-r,xmax:r,ymax:r});if(e&&i){var v=[{type:"CIMSolidFill",enable:!0,color:t.color}];t.outline&&v.push({type:"CIMSolidStroke",enable:!0,width:t.outline.width,color:t.outline.color});var p={type:"CIMPolygonSymbol",symbolLayers:v};n={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:t.angle,size:t.size,offsetX:t.xoffset,offsetY:t.yoffset,frame:i,markerGraphics:[{type:"CIMMarkerGraphic",geometry:e,symbol:p}]}]}}return n}},{key:"fromCIMHatchFill",value:function(t){for(var e=void 0!==t.separation?t.separation:4,i=e/2,n=this._getLineSymbolPeriod(t.lineSymbol)||4;n<4;)n*=2;var r=n/2;return{type:"CIMVectorMarker",frame:{xmin:-r,xmax:r,ymin:-i,ymax:i},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-r,0],[r,0]]]},symbol:t.lineSymbol}],size:e}}},{key:"_getLineSymbolPeriod",value:function(t){if(t){var e=this._getEffectsRepeat(t.effects);if(e)return e;if(t.symbolLayers){var i,n=Object(a.a)(t.symbolLayers);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=this._getEffectsRepeat(r.effects);if(s)return s;if(r){var h=this._getPlacementRepeat(r.markerPlacement);if(h)return h}}}catch(o){n.e(o)}finally{n.f()}}}return 0}},{key:"_getEffectsRepeat",value:function(t){if(t){var e,i=Object(a.a)(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(n)switch(n.type){case"CIMGeometricEffectDashes":var r=n.dashTemplate;if(r&&r.length){var s,h=0,o=Object(a.a)(r);try{for(o.s();!(s=o.n()).done;){h+=s.value}}catch(l){o.e(l)}finally{o.f()}return 1&r.length&&(h*=2),h}break;case"CIMGeometricEffectWave":return n.period;default:L.error("unsupported geometric effect type ".concat(n.type))}}}catch(l){i.e(l)}finally{i.f()}}return 0}},{key:"_getPlacementRepeat",value:function(t){if(t)switch(t.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":var e=t.placementTemplate;if(e&&e.length){var i,n=0,r=Object(a.a)(e);try{for(r.s();!(i=r.n()).done;){n+=i.value}}catch(s){r.e(s)}finally{r.f()}return 1&e.length&&(n*=2),n}}return 0}},{key:"fromCIMInsidePolygon",value:function(t){var e,i,n,a,s=t.markerPlacement,h=Object(r.a)({type:t.type},t);return h.markerPlacement=null,h.anchorPoint=null,!0===s.shiftOddRows?(i=s.stepX/2,n=s.stepY,a=2*s.stepY,e=[{x:-i,y:0},{x:i,y:0},{x:0,y:n},{x:0,y:-n}].map((function(t){return{type:"CIMMarkerGraphic",geometry:t,symbol:{type:"CIMPointSymbol",symbolLayers:[h]}}}))):(i=s.stepX/2,n=s.stepY/2,a=s.stepY,e=[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMPointSymbol",symbolLayers:[h]}}]),{type:"CIMVectorMarker",frame:{xmin:-i,xmax:i,ymin:-n,ymax:n},markerGraphics:e,size:a}}},{key:"getFillColor",value:function(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers){var i,n=Object(a.a)(e.symbolLayers);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=t.getFillColor(r);if(null!=s)return s}}catch(h){n.e(h)}finally{n.f()}}break;case"CIMTextSymbol":return t.getFillColor(e.symbol);case"CIMSolidFill":return e.color}}},{key:"getStrokeColor",value:function(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers){var i,n=Object(a.a)(e.symbolLayers);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=t.getStrokeColor(r);if(void 0!==s)return s}}catch(h){n.e(h)}finally{n.f()}}break;case"CIMTextSymbol":return t.getStrokeColor(e.symbol);case"CIMSolidStroke":return e.color}}},{key:"getStrokeWidth",value:function(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers){var i,n=Object(a.a)(e.symbolLayers);try{for(n.s();!(i=n.n()).done;){var r=i.value,s=t.getStrokeWidth(r);if(void 0!==s)return s}}catch(h){n.e(h)}finally{n.f()}}break;case"CIMTextSymbol":return t.getStrokeWidth(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}},{key:"getSize",value:function(e){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":var i=0;if(e.symbolLayers){var n,r=Object(a.a)(e.symbolLayers);try{for(r.s();!(n=r.n()).done;){var s=n.value,h=t.getSize(s);h>i&&(i=h)}}catch(o){r.e(o)}finally{r.f()}}return i;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":return e.width;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":return e.size}}},{key:"getMarkerScaleRatio",value:function(t){if(t)switch(t.type){case"CIMVectorMarker":if(!1!==t.scaleSymbolsProportionally&&t.frame){var e=t.frame.ymax-t.frame.ymin;return t.size/e}}return 1}}]),t}(),T=function(){function t(){Object(s.a)(this,t)}return Object(h.a)(t,null,[{key:"rasterizeSimpleFill",value:function(t,e,i){"solid"!==e&&"none"!==e&&"esriSFSSolid"!==e&&"esriSFSNull"!==e||console.error("Unexpected: style does not require rasterization");var n=Object(u.q)(Math.ceil(i)),r=this._isHorizontalOrVertical(e)?8*n:16*n,a=2*n;t.width=r,t.height=r;var s=t.getContext("2d");s.strokeStyle="#FFFFFF",s.lineWidth=n,s.beginPath(),"vertical"!==e&&"cross"!==e&&"esriSFSCross"!==e&&"esriSFSVertical"!==e||(s.moveTo(r/2,-a),s.lineTo(r/2,r+a)),"horizontal"!==e&&"cross"!==e&&"esriSFSCross"!==e&&"esriSFSHorizontal"!==e||(s.moveTo(-a,r/2),s.lineTo(r+a,r/2)),"forward-diagonal"!==e&&"diagonal-cross"!==e&&"esriSFSDiagonalCross"!==e&&"esriSFSForwardDiagonal"!==e||(s.moveTo(-a,-a),s.lineTo(r+a,r+a),s.moveTo(r-a,-a),s.lineTo(r+a,a),s.moveTo(-a,r-a),s.lineTo(a,r+a)),"backward-diagonal"!==e&&"diagonal-cross"!==e&&"esriSFSBackwardDiagonal"!==e&&"esriSFSDiagonalCross"!==e||(s.moveTo(r+a,-a),s.lineTo(-a,r+a),s.moveTo(a,-a),s.lineTo(-a,a),s.moveTo(r+a,r-a),s.lineTo(r-a,r+a)),s.stroke();for(var h,o=s.getImageData(0,0,t.width,t.height),l=new Uint8Array(o.data),c=0;c<l.length;c+=4)h=l[c+3]/255,l[c]=l[c]*h,l[c+1]=l[c+1]*h,l[c+2]=l[c+2]*h;return[l,t.width,t.height]}},{key:"rasterizeSimpleLine",value:function(t,e){var i;switch(e){case"butt":i="Butt";break;case"square":i="Square";break;default:i="Round"}var n,r="Butt"===i;switch(t){case"dash":case"esriSLSDash":n=r?[4,3]:[3,4];break;case"dash-dot":case"esriSLSDashDot":n=r?[4,3,1,3]:[3,4,0,4];break;case"dot":case"esriSLSDot":n=r?[1,3]:[0,4];break;case"long-dash":case"esriSLSLongDash":n=r?[8,3]:[7,4];break;case"long-dash-dot":case"esriSLSLongDashDot":n=r?[8,3,1,3]:[7,4,0,4];break;case"long-dash-dot-dot":case"esriSLSDashDotDot":n=r?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case"short-dash":case"esriSLSShortDash":n=r?[4,1]:[3,2];break;case"short-dash-dot":case"esriSLSShortDashDot":n=r?[4,1,1,1]:[3,2,0,2];break;case"short-dash-dot-dot":case"esriSLSShortDashDotDot":n=r?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case"short-dot":case"esriSLSShortDot":n=r?[1,1]:[0,2];break;case"solid":case"esriSLSSolid":case"none":L.error("Unexpected: style does not require rasterization"),n=[0,0];break;default:L.error("Tried to rasterize SLS, but found an unexpected style: ".concat(t,"!")),n=[0,0]}return this.rasterizeDash(n,i)}},{key:"rasterizeDash",value:function(t,e){var i="Butt"===e,r="Square"===e,s=!i&&!r;t.length%2==1&&(t=[].concat(Object(n.a)(t),Object(n.a)(t)));var h,o=15.5,l=0,u=Object(a.a)(t);try{for(u.s();!(h=u.n()).done;){l+=h.value}}catch(w){u.e(w)}finally{u.f()}var c,f=Math.round(l*o),_=new Float32Array(31*f),v=7.75,p=0,g=0,m=.5,y=!0,d=Object(a.a)(t);try{for(d.s();!(c=d.n()).done;){var b=c.value;for(p=g,g+=b*o;m<=g;){for(var k=.5;k<31;){var x=(k-.5)*f+m-.5,P=s?(k-o)*(k-o):Math.abs(k-o);_[x]=y?i?Math.max(Math.max(p+v-m,P),Math.max(m-g+v,P)):P:s?Math.min((m-p)*(m-p)+P,(m-g)*(m-g)+P):r?Math.min(Math.max(m-p,P),Math.max(g-m,P)):Math.min(Math.max(m-p+v,P),Math.max(g+v-m,P)),k++}m++}y=!y}}catch(w){d.e(w)}finally{d.f()}for(var O=_.length,M=new Uint8Array(4*O),C=0;C<O;++C){var S=(s?Math.sqrt(_[C]):_[C])/o;Object(j.a)(S,M,4*C)}return[M,f,31]}},{key:"_isHorizontalOrVertical",value:function(t){return"vertical"===t||"horizontal"===t||"cross"===t||"esriSFSCross"===t||"esriSFSVertical"===t||"esriSFSHorizontal"===t}}]),t}(),E=function(){function t(){Object(s.a)(this,t)}return Object(h.a)(t,null,[{key:"findApplicableOverrides",value:function(e,i,n){if(i){if(e.primitiveName){var r,s=!1,h=Object(a.a)(n);try{for(h.s();!(r=h.n()).done;){if(r.value.primitiveName===e.primitiveName){s=!0;break}}}catch(P){h.e(P)}finally{h.f()}if(!s){var o,l=Object(a.a)(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;u.primitiveName===e.primitiveName&&n.push(u)}}catch(P){l.e(P)}finally{l.f()}}}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects){var c,f=Object(a.a)(e.effects);try{for(f.s();!(c=f.n()).done;){var _=c.value;t.findApplicableOverrides(_,i,n)}}catch(P){f.e(P)}finally{f.f()}}if(e.symbolLayers){var v,p=Object(a.a)(e.symbolLayers);try{for(p.s();!(v=p.n()).done;){var g=v.value;t.findApplicableOverrides(g,i,n)}}catch(P){p.e(P)}finally{p.f()}}break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects){var m,y=Object(a.a)(e.effects);try{for(y.s();!(m=y.n()).done;){var d=m.value;t.findApplicableOverrides(d,i,n)}}catch(P){y.e(P)}finally{y.f()}}if(e.markerPlacement&&t.findApplicableOverrides(e.markerPlacement,i,n),"CIMVectorMarker"===e.type){if(e.markerGraphics){var b,k=Object(a.a)(e.markerGraphics);try{for(k.s();!(b=k.n()).done;){var x=b.value;t.findApplicableOverrides(x,i,n),t.findApplicableOverrides(x.symbol,i,n)}}catch(P){k.e(P)}finally{k.f()}}}else"CIMCharacterMarker"===e.type?t.findApplicableOverrides(e.symbol,i,n):"CIMHatchFill"===e.type&&t.findApplicableOverrides(e.lineSymbol,i,n)}}}},{key:"applyOverrides",value:function(e,i,n,r){if(i){var s=function(t){return t?t.charAt(0).toLowerCase()+t.substr(1):t};if(e.primitiveName){var h,o=Object(a.a)(i);try{for(o.s();!(h=o.n()).done;){var l=h.value;if(l.primitiveName===e.primitiveName){var u=s(l.propertyName);if(r&&r.push({cim:e,nocapPropertyName:u,value:e[u]}),l.expression&&(l.value=t.toValue(l.propertyName,l.expression)),n){var c,f=!1,_=Object(a.a)(n);try{for(_.s();!(c=_.n()).done;){c.value.primitiveName===e.primitiveName&&(f=!0)}}catch(C){_.e(C)}finally{_.f()}f||n.push(l)}e[u]=l.value}}}catch(C){o.e(C)}finally{o.f()}}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects){var v,p=Object(a.a)(e.effects);try{for(p.s();!(v=p.n()).done;){var g=v.value;t.applyOverrides(g,i,n,r)}}catch(C){p.e(C)}finally{p.f()}}if(e.symbolLayers){var m,y=Object(a.a)(e.symbolLayers);try{for(y.s();!(m=y.n()).done;){var d=m.value;t.applyOverrides(d,i,n,r)}}catch(C){y.e(C)}finally{y.f()}}break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects){var b,k=Object(a.a)(e.effects);try{for(k.s();!(b=k.n()).done;){var x=b.value;t.applyOverrides(x,i,n,r)}}catch(C){k.e(C)}finally{k.f()}}if("CIMVectorMarker"===e.type&&e.markerGraphics){var P,O=Object(a.a)(e.markerGraphics);try{for(O.s();!(P=O.n()).done;){var M=P.value;t.applyOverrides(M,i,n,r),t.applyOverrides(M.symbol,i,n,r)}}catch(C){O.e(C)}finally{O.f()}}}}}},{key:"restoreOverrides",value:function(t){var e,i=Object(a.a)(t);try{for(i.s();!(e=i.n()).done;){var n=e.value;n.cim[n.nocapPropertyName]=n.value}}catch(r){i.e(r)}finally{i.f()}}},{key:"buildOverrideKey",value:function(t){var e,i="",n=Object(a.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;void 0!==r.value&&(i+="".concat(r.primitiveName).concat(r.propertyName).concat(JSON.stringify(r.value)))}}catch(s){n.e(s)}finally{n.f()}return i}},{key:"toValue",value:function(t,e){if("DashTemplate"===t)return e.split(" ").map((function(t){return Number(t)}));if("Color"===t){var i=new o.a(e).toRgba();return i[3]*=255,i}return e}}]),t}()},691:function(t,e,i){"use strict";var n=i(4),r=i(5),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(n.a)(this,t),this.x=e,this.y=i,this.width=r,this.height=a}return Object(r.a)(t,[{key:"isEmpty",get:function(){return this.width<=0||this.height<=0}},{key:"union",value:function(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}]),t}();e.a=a},721:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(4),r=i(5),a=(i(23),function(){function t(e){Object(n.a)(this,t),this._geometry=e}return Object(r.a)(t,[{key:"next",value:function(){var t=this._geometry;return this._geometry=null,t}}]),t}())},722:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=[1,256,65536,16777216],r=[1/256,1/65536,1/16777216,1/4294967296],a=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=0,n=0;n<4;n++)i+=t[e+n]*r[n];return i}(new Uint8ClampedArray([255,255,255,255]));function s(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=h(t,0,a),s=0;s<4;s++)e[i+s]=Math.floor(256*o(r*n[s]))}function h(t,e,i){return t<e?e:t>i?i:t}function o(t){return t-Math.floor(t)}},799:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i(4),r=i(5),a=function(){function t(){Object(n.a)(this,t),this.setIdentity()}return Object(r.a)(t,[{key:"getAngle",value:function(){return(null==this.rz||0===this.rz&&1!==this.rz_c&&0!==this.rz_s)&&(this.rz=Math.atan2(this.rz_s,this.rz_c)),this.rz}},{key:"setIdentity",value:function(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rz_c=1,this.rz_s=0}},{key:"setTranslate",value:function(t,e){this.tx=t,this.ty=e}},{key:"setTranslateZ",value:function(t){this.tz=t}},{key:"setRotateCS",value:function(t,e){this.rz=void 0,this.rz_c=t,this.rz_s=e}},{key:"setRotate",value:function(t){this.rz=t,this.rz_c=void 0,this.rz_s=void 0}},{key:"setRotateY",value:function(t){this.ry=t}},{key:"setScale",value:function(t){this.s=t}},{key:"setMeasure",value:function(t){this.m=t}}]),t}()}}]);
//# sourceMappingURL=2.b84ec79f.chunk.js.map