(this["webpackJsonptesting-ant-cra"]=this["webpackJsonptesting-ant-cra"]||[]).push([[8],{597:function(e,t,n){"use strict";function r(e){for(var t="",n=0;n<(arguments.length<=1?0:arguments.length-1);n++)t+=e[n]+(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]);return t+=e[e.length-1]}n.d(t,"a",(function(){return r})),function(e){e.int=function(e){return Math.round(e).toString()},e.float=function(e){return e.toPrecision(8)}}(r||(r={}))},598:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},603:function(e,t,n){"use strict";function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function a(e,t){return new Float64Array(e,t,16)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r}));var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:r,clone:i,fromValues:function(e,t,n,r,i,a,o,c,u,s,f,l,d,v,h,b){return[e,t,n,r,i,a,o,c,u,s,f,l,d,v,h,b]},createView:a,IDENTITY:o})},616:function(e,t,n){"use strict";function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t){return new Float64Array(e,t,9)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));Object.freeze({__proto__:null,create:r,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,t,n,r,i,a,o,c,u){return[e,t,n,r,i,a,o,c,u]},createView:i})},617:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=n(7),a=n(4),o=n(5),c=n(12).a.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder"),u=function(){function e(){Object(a.a)(this,e),this.includedModules=new Map}return Object(o.a)(e,[{key:"include",value:function(e,t){this.includedModules.has(e)?this.includedModules.get(e)!==t&&c.error("Trying to include shader module multiple times with different sets of options."):(this.includedModules.set(e,t),e(this.builder,t))}}]),e}(),s=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).vertex=new d,e.fragment=new d,e.attributes=new v,e.varyings=new h,e.extensions=new b,e.constants=new m,e}return Object(o.a)(n,[{key:"fragmentUniforms",get:function(){return this.fragment.uniforms}},{key:"builder",get:function(){return this}},{key:"generateSource",value:function(e){var t=this.extensions.generateSource(e),n=this.attributes.generateSource(e),r=this.varyings.generateSource(),i="vertex"===e?this.vertex:this.fragment,a=i.uniforms.generateSource(),o=i.code.generateSource(),c="vertex"===e?p:g,u=this.constants.generateSource().concat(i.constants.generateSource());return"\n".concat(t.join("\n"),"\n\n").concat(c,"\n\n").concat(u.join("\n"),"\n\n").concat(a.join("\n"),"\n\n").concat(n.join("\n"),"\n\n").concat(r.join("\n"),"\n\n").concat(o.join("\n"))}}]),n}(u),f=function(){function e(){Object(a.a)(this,e),this._entries=new Map}return Object(o.a)(e,[{key:"add",value:function(e,t,n){var r="".concat(e,"_").concat(t,"_").concat(n);return this._entries.set(r,{name:e,type:t,arraySize:n}),this}},{key:"generateSource",value:function(){return Array.from(this._entries.values()).map((function(e){return"uniform ".concat(e.type," ").concat(e.name).concat((t=e.arraySize)?"[".concat(t,"]"):"",";");var t}))}},{key:"entries",get:function(){return Array.from(this._entries.values())}}]),e}(),l=function(){function e(){Object(a.a)(this,e),this._entries=new Array}return Object(o.a)(e,[{key:"add",value:function(e){this._entries.push(e)}},{key:"generateSource",value:function(){return this._entries}}]),e}(),d=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.apply(this,arguments)).uniforms=new f,e.code=new l,e.constants=new m,e}return Object(o.a)(n,[{key:"builder",get:function(){return this}}]),n}(u),v=function(){function e(){Object(a.a)(this,e),this._entries=new Array}return Object(o.a)(e,[{key:"add",value:function(e,t){this._entries.push([e,t])}},{key:"generateSource",value:function(e){return"fragment"===e?[]:this._entries.map((function(e){return"attribute ".concat(e[1]," ").concat(e[0],";")}))}}]),e}(),h=function(){function e(){Object(a.a)(this,e),this._entries=new Array}return Object(o.a)(e,[{key:"add",value:function(e,t){this._entries.push([e,t])}},{key:"generateSource",value:function(){return this._entries.map((function(e){return"varying ".concat(e[1]," ").concat(e[0],";")}))}}]),e}(),b=function(){function e(){Object(a.a)(this,e),this._entries=new Set}return Object(o.a)(e,[{key:"add",value:function(e){this._entries.add(e)}},{key:"generateSource",value:function(t){var n="vertex"===t?e.ALLOWLIST_VERTEX:e.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((function(e){return n.includes(e)})).map((function(e){return"#extension ".concat(e," : enable")}))}}]),e}();b.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"],b.ALLOWLIST_VERTEX=[];var m=function(){function e(){Object(a.a)(this,e),this._entries=[]}return Object(o.a)(e,[{key:"add",value:function(t,n,r){var i="ERROR_CONSTRUCTOR_STRING";switch(n){case"float":i=e.numberToFloatStr(r);break;case"int":i=e.numberToIntStr(r);break;case"bool":i=r.toString();break;case"vec2":i="vec2(".concat(e.numberToFloatStr(r[0]),",                            ").concat(e.numberToFloatStr(r[1]),")");break;case"vec3":i="vec3(".concat(e.numberToFloatStr(r[0]),",                            ").concat(e.numberToFloatStr(r[1]),",                            ").concat(e.numberToFloatStr(r[2]),")");break;case"vec4":i="vec4(".concat(e.numberToFloatStr(r[0]),",                            ").concat(e.numberToFloatStr(r[1]),",                            ").concat(e.numberToFloatStr(r[2]),",                            ").concat(e.numberToFloatStr(r[3]),")");break;case"ivec2":i="ivec2(".concat(e.numberToIntStr(r[0]),",                             ").concat(e.numberToIntStr(r[1]),")");break;case"ivec3":i="ivec3(".concat(e.numberToIntStr(r[0]),",                             ").concat(e.numberToIntStr(r[1]),",                             ").concat(e.numberToIntStr(r[2]),")");break;case"ivec4":i="ivec4(".concat(e.numberToIntStr(r[0]),",                             ").concat(e.numberToIntStr(r[1]),",                             ").concat(e.numberToIntStr(r[2]),",                             ").concat(e.numberToIntStr(r[3]),")");break;case"mat2":case"mat3":case"mat4":i="".concat(n,"(").concat(Array.prototype.map.call(r,(function(t){return e.numberToFloatStr(t)})).join(", "),")")}return this._entries.push("const ".concat(n," ").concat(t," = ").concat(i,";")),this}},{key:"generateSource",value:function(){return Array.from(this._entries)}}],[{key:"numberToIntStr",value:function(e){return e.toFixed(0)}},{key:"numberToFloatStr",value:function(e){return Number.isInteger(e)?e.toFixed(1):e.toString()}}]),e}(),g="#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp sampler2D;\n#else\n  precision mediump float;\n  precision mediump sampler2D;\n#endif",p="precision highp float;\nprecision highp sampler2D;"},618:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g}));var r=n(4),i=n(5),a=n(10),o=n(446),c=n(616),u=n(603),s=n(656),f=n(91),l=n(85),d=n(463),v=function(){function e(t,n,i){var a=this;Object(r.a)(this,e),this.itemByteSize=t,this.itemCreate=n,this.buffers=[],this.items=[],this.itemsPerBuffer=0,this.itemsPtr=0,this.itemsPerBuffer=Math.ceil(i/this.itemByteSize),this.tickHandle=o.a.before((function(){return a.reset()}))}return Object(i.a)(e,[{key:"destroy",value:function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=Object(a.o)(this.tickHandle)),this.itemsPtr=0,this.items=Object(a.o)(this.items),this.buffers=Object(a.o)(this.buffers)}},{key:"get",value:function(){0===this.itemsPtr&&Object(o.a)((function(){}));for(var e=Math.floor(this.itemsPtr/this.itemsPerBuffer);this.buffers.length<=e;){for(var t=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize),n=0;n<this.itemsPerBuffer;++n)this.items.push(this.itemCreate(t,n*this.itemByteSize));this.buffers.push(t)}return this.items[this.itemsPtr++]}},{key:"reset",value:function(){for(var e=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);this.buffers.length>e;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0}},{key:"test",get:function(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}}}],[{key:"createVec2f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new e(16,f.c,t)}},{key:"createVec3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new e(24,l.d,t)}},{key:"createVec4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new e(32,d.c,t)}},{key:"createMat3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new e(72,c.a,t)}},{key:"createMat4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new e(128,u.b,t)}},{key:"createQuatf64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new e(32,s.d,t)}}]),e}(),h=4096,b=v.createVec2f64(),m=v.createVec3f64(),g=v.createVec4f64(),p=(v.createMat3f64(),v.createMat4f64());v.createQuatf64()},626:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h}));var r,i,a,o,c,u=n(598),s=n(10),f=n(54),l=n(85),d=n(597);function v(e,t){if(t.slicePlaneEnabled){e.extensions.add("GL_OES_standard_derivatives"),t.sliceEnabledForVertexPrograms&&(e.vertex.uniforms.add("slicePlaneOrigin","vec3"),e.vertex.uniforms.add("slicePlaneBasis1","vec3"),e.vertex.uniforms.add("slicePlaneBasis2","vec3")),e.fragment.uniforms.add("slicePlaneOrigin","vec3"),e.fragment.uniforms.add("slicePlaneBasis1","vec3"),e.fragment.uniforms.add("slicePlaneBasis2","vec3");var n=Object(d.a)(r||(r=Object(u.a)(["struct SliceFactors {\nfloat front;\nfloat side0;\nfloat side1;\nfloat side2;\nfloat side3;\n};\nSliceFactors calculateSliceFactors(vec3 pos) {\nvec3 rel = pos - slicePlaneOrigin;\nvec3 slicePlaneNormal = -cross(slicePlaneBasis1, slicePlaneBasis2);\nfloat slicePlaneW = -dot(slicePlaneNormal, slicePlaneOrigin);\nfloat basis1Len2 = dot(slicePlaneBasis1, slicePlaneBasis1);\nfloat basis2Len2 = dot(slicePlaneBasis2, slicePlaneBasis2);\nfloat basis1Dot = dot(slicePlaneBasis1, rel);\nfloat basis2Dot = dot(slicePlaneBasis2, rel);\nreturn SliceFactors(\ndot(slicePlaneNormal, pos) + slicePlaneW,\n-basis1Dot - basis1Len2,\nbasis1Dot - basis1Len2,\n-basis2Dot - basis2Len2,\nbasis2Dot - basis2Len2\n);\n}\nbool sliceByFactors(SliceFactors factors) {\nreturn factors.front < 0.0\n&& factors.side0 < 0.0\n&& factors.side1 < 0.0\n&& factors.side2 < 0.0\n&& factors.side3 < 0.0;\n}\nbool sliceEnabled() {\nreturn dot(slicePlaneBasis1, slicePlaneBasis1) != 0.0;\n}\nbool sliceByPlane(vec3 pos) {\nreturn sliceEnabled() && sliceByFactors(calculateSliceFactors(pos));\n}\n#define rejectBySlice(_pos_) sliceByPlane(_pos_)\n#define discardBySlice(_pos_) { if (sliceByPlane(_pos_)) discard; }"]))),s=Object(d.a)(i||(i=Object(u.a)(["vec4 applySliceHighlight(vec4 color, vec3 pos) {\nSliceFactors factors = calculateSliceFactors(pos);\nif (sliceByFactors(factors)) {\nreturn color;\n}\nconst float HIGHLIGHT_WIDTH = 1.0;\nconst vec4 HIGHLIGHT_COLOR = vec4(0.0, 0.0, 0.0, 0.3);\nfactors.front /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.front);\nfactors.side0 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side0);\nfactors.side1 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side1);\nfactors.side2 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side2);\nfactors.side3 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side3);\nfloat highlightFactor = (1.0 - step(0.5, factors.front))\n* (1.0 - step(0.5, factors.side0))\n* (1.0 - step(0.5, factors.side1))\n* (1.0 - step(0.5, factors.side2))\n* (1.0 - step(0.5, factors.side3));\nreturn mix(color, vec4(HIGHLIGHT_COLOR.rgb, color.a), highlightFactor * HIGHLIGHT_COLOR.a);\n}"]))),f=t.sliceHighlightDisabled?Object(d.a)(a||(a=Object(u.a)(["#define highlightSlice(_color_, _pos_) (_color_)"]))):Object(d.a)(o||(o=Object(u.a)(["\n        ","\n        #define highlightSlice(_color_, _pos_) (sliceEnabled() ? applySliceHighlight(_color_, _pos_) : (_color_))\n      "])),s);t.sliceEnabledForVertexPrograms&&e.vertex.code.add(n),e.fragment.code.add(n),e.fragment.code.add(f)}else{var l=Object(d.a)(c||(c=Object(u.a)(["#define rejectBySlice(_pos_) false\n#define discardBySlice(_pos_) {}\n#define highlightSlice(_color_, _pos_) (_color_)"])));t.sliceEnabledForVertexPrograms&&e.vertex.code.add(l),e.fragment.code.add(l)}}function h(e,t,n){b(e,t,n.slicePlane,n.origin)}function b(e,t,n,r){t.slicePlaneEnabled&&(Object(s.k)(n)?(r?(Object(f.g)(m,n.origin,r),e.setUniform3fv("slicePlaneOrigin",m)):e.setUniform3fv("slicePlaneOrigin",n.origin),e.setUniform3fv("slicePlaneBasis1",n.basis1),e.setUniform3fv("slicePlaneBasis2",n.basis2)):(e.setUniform3fv("slicePlaneBasis1",l.b),e.setUniform3fv("slicePlaneBasis2",l.b),e.setUniform3fv("slicePlaneOrigin",l.b)))}var m=Object(l.e)()},636:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r,i=n(598),a=n(597);function o(e,t){e.fragment.uniforms.add("terrainDepthTexture","sampler2D"),e.fragment.uniforms.add("cameraNearFar","vec2"),e.fragment.uniforms.add("inverseViewport","vec2"),e.fragment.code.add(Object(a.a)(r||(r=Object(i.a)(["\n    // Compare the linearized depths of fragment and terrain. Discard fragments on the wrong side of the terrain.\n    void terrainDepthTest(vec4 fragCoord, float fragmentDepth){\n\n      float terrainDepth = linearDepthFromTexture(terrainDepthTexture, fragCoord.xy * inverseViewport, cameraNearFar);\n      if(fragmentDepth "," terrainDepth){\n        discard;\n      }\n    }\n  "])),t.cullAboveGround?">":"<="))}function c(e,t){t.multipassTerrainEnabled&&t.terrainLinearDepthTexture&&e.bindTexture(t.terrainLinearDepthTexture,"terrainDepthTexture")}},643:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i=n(598),a=n(729),o=n(597);function c(e){e.include(a.a),e.code.add(Object(o.a)(r||(r=Object(i.a)(["float linearDepthFromFloat(float depth, vec2 nearFar) {\nreturn -(depth * (nearFar[1] - nearFar[0]) + nearFar[0]);\n}\nfloat linearDepthFromTexture(sampler2D depthTex, vec2 uv, vec2 nearFar) {\nreturn linearDepthFromFloat(rgba2float(texture2D(depthTex, uv)), nearFar);\n}"]))))}},647:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u}));var r=n(728),i=n(54),a=n(85),o=n(618);function c(e){return e?{origin:Object(a.c)(e.origin),direction:Object(a.c)(e.direction)}:{origin:Object(a.e)(),direction:Object(a.e)()}}function u(e,t){var n=h.get();return n.origin=e,n.direction=t,n}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return l(e.origin,e.direction,t)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(i.h)(n.origin,e),Object(i.g)(n.direction,t,e),n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c();return Object(i.h)(n.origin,e),Object(i.h)(n.direction,t),n}function d(e,t){var n=Object(i.d)(o.c.get(),Object(i.o)(o.c.get(),e.direction),Object(i.g)(o.c.get(),t,e.origin));return Object(i.e)(n,n)}function v(e,t,n){var r=Object(i.e)(e.direction,Object(i.g)(n,t,e.origin));return Object(i.c)(n,e.origin,Object(i.b)(n,e.direction,r)),n}var h=new r.a((function(){return{origin:null,direction:null}}))},656:function(e,t,n){"use strict";function r(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}function a(e,t){return new Float64Array(e,t,4)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var o=[0,0,0,1];Object.freeze({__proto__:null,create:r,clone:i,fromValues:function(e,t,n,r){return[e,t,n,r]},createView:a,IDENTITY:o})},657:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f}));var r,i,a,o,c=n(598),u=n(597),s=.1,f=.001;function l(e,t){var n=e.fragment;switch(t.alphaDiscardMode){case 0:n.code.add(Object(u.a)(r||(r=Object(c.a)(["\n        #define discardOrAdjustAlpha(color) { if (color.a < ",") { discard; } }\n      "])),u.a.float(f)));break;case 1:n.code.add(Object(u.a)(i||(i=Object(c.a)(["void discardOrAdjustAlpha(inout vec4 color) {\ncolor.a = 1.0;\n}"]))));break;case 2:n.uniforms.add("textureAlphaCutoff","float"),n.code.add(Object(u.a)(a||(a=Object(c.a)(["#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } else { color.a = 1.0; } }"]))));break;case 3:e.fragment.uniforms.add("textureAlphaCutoff","float"),e.fragment.code.add(Object(u.a)(o||(o=Object(c.a)(["#define discardOrAdjustAlpha(color) { if (color.a < textureAlphaCutoff) { discard; } }"]))))}}},672:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),i=n.n(r),a=n(14),o=n(4),c=n(5),u=function(){function e(t,n){Object(o.a)(this,e),this._module=t,this._loadModule=n}return Object(c.a)(e,[{key:"get",value:function(){return this._module}},{key:"reload",value:function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loadModule();case 2:return this._module=e.sent,e.abrupt("return",this._module);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),i=n(5),a=n(6),o=n(7),c=n(10),u=n(195),s=n(708),f=n(338),l=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i,a){var o;return Object(r.a)(this,n),(o=t.call(this,e,i.generateSource("vertex"),i.generateSource("fragment"),a))._textures=new Map,o._freeTextureUnits=new u.a({deallocator:null}),o._fragmentUniforms=Object(f.b)()?i.fragmentUniforms.entries:null,o}return Object(i.a)(n,[{key:"stop",value:function(){this._textures.clear(),this._freeTextureUnits.clear()}},{key:"bindTexture",value:function(e,t){if(Object(c.j)(e)||null==e.glName){var n=this._textures.get(t);return n&&(this._context.bindTexture(null,n.unit),this._freeTextureUnit(n),this._textures.delete(t)),null}var r=this._textures.get(t);return null==r?(r=this._allocTextureUnit(e),this._textures.set(t,r)):r.texture=e,this._context.useProgram(this),this.setUniform1i(t,r.unit),this._context.bindTexture(e,r.unit),r.unit}},{key:"rebindTextures",value:function(){var e=this;this._context.useProgram(this),this._textures.forEach((function(t,n){e._context.bindTexture(t.texture,t.unit),e.setUniform1i(n,t.unit)})),Object(c.k)(this._fragmentUniforms)&&this._fragmentUniforms.forEach((function(t){if(("sampler2D"===t.type||"samplerCube"===t.type)&&!e._textures.has(t.name))throw new Error("Texture sampler ".concat(t.name," has no bound texture"))}))}},{key:"_allocTextureUnit",value:function(e){return{texture:e,unit:0===this._freeTextureUnits.length?this._textures.size:this._freeTextureUnits.pop()}}},{key:"_freeTextureUnit",value:function(e){this._freeTextureUnits.push(e.unit)}}]),n}(s.a)},674:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return f}));var r,i=n(598),a=n(463),o=n(597),c=Object(a.g)(1,1,0,1),u=Object(a.g)(1,0,1,1);function s(e){e.fragment.uniforms.add("depthTex","sampler2D"),e.fragment.uniforms.add("highlightViewportPixelSz","vec4"),e.fragment.constants.add("occludedHighlightFlag","vec4",c).add("unoccludedHighlightFlag","vec4",u),e.fragment.code.add(Object(o.a)(r||(r=Object(i.a)(["void outputHighlight() {\nvec4 fragCoord = gl_FragCoord;\nfloat sceneDepth = texture2D(depthTex, (fragCoord.xy - highlightViewportPixelSz.xy) * highlightViewportPixelSz.zw).r;\nif (fragCoord.z > sceneDepth + 5e-7) {\ngl_FragColor = occludedHighlightFlag;\n}\nelse {\ngl_FragColor = unoccludedHighlightFlag;\n}\n}"]))))}function f(e,t){e.bindTexture(t.highlightDepthTexture,"depthTex"),e.setUniform4f("highlightViewportPixelSz",0,0,t.inverseViewport[0],t.inverseViewport[1])}},675:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(598),a=n(597);function o(e){e.code.add(Object(a.a)(r||(r=Object(i.a)(["vec4 premultiplyAlpha(vec4 v) {\nreturn vec4(v.rgb * v.a, v.a);\n}\nvec3 rgb2hsv(vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\nvec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n}\nvec3 hsv2rgb(vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nfloat rgb2v(vec3 c) {\nreturn max(c.x, max(c.y, c.z));\n}"]))))}},680:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n(5),a=n(10),o=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return i.dispose()};Object(r.a)(this,e),this.release=a,n&&(this._config=n.snapshot()),this._program=this.initializeProgram(t),this._pipeline=this.initializePipeline(t)}return Object(i.a)(e,[{key:"dispose",value:function(){this._program=Object(a.f)(this._program),this._pipeline=this._config=null}},{key:"reload",value:function(e){Object(a.f)(this._program),this._program=this.initializeProgram(e)}},{key:"program",get:function(){return this._program}},{key:"pipeline",get:function(){return this._pipeline}},{key:"key",get:function(){return this._config.key}},{key:"configuration",get:function(){return this._config}},{key:"bindPass",value:function(e,t){}},{key:"bindMaterial",value:function(e,t){}},{key:"bindDraw",value:function(e,t,n){}},{key:"bindPipelineState",value:function(e){e.setPipelineState(this.pipeline)}},{key:"ensureAttributeLocations",value:function(e){this.program.assertCompatibleVertexAttributeLocations(e)}},{key:"primitiveType",get:function(){return 4}}]),e}()},681:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(15),i=n(4),a=n(5),o=n(66),c=function(){function e(){Object(i.a)(this,e),this._key="",this._keyDirty=!1,this._parameterBits=this._parameterBits.map((function(){return 0}))}return Object(a.a)(e,[{key:"key",get:function(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}},{key:"snapshot",value:function(){var e,t=this._parameterNames,n={key:this.key},i=Object(r.a)(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;n[a]=this[a]}}catch(o){i.e(o)}finally{i.f()}return n}}]),e}();function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var r,i;t._parameterNames=null!=(r=t._parameterNames)?r:[],t._parameterNames.push(n);for(var a=t._parameterNames.length-1,c=e.count||2,u=Math.ceil(Object(o.n)(c)),s=null!=(i=t._parameterBits)?i:[0],f=0;s[f]+u>16;)++f>=s.length&&s.push(0);t._parameterBits=s;var l=s[f],d=(1<<u)-1<<l;s[f]+=u,Object.defineProperty(t,n,{get:function(){return this[a]},set:function(e){if(this[a]!==e&&(this[a]=e,this._keyDirty=!0,this._parameterBits[f]=this._parameterBits[f]&~d|+e<<l&d,"number"!=typeof e&&"boolean"!=typeof e))throw"Configuration value for "+n+" must be boolean or number, got "+typeof e}})}}},686:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return F})),n.d(t,"h",(function(){return s}));var r=n(616),i=n(656),a=n(85),o=n(48),c=n(54),u=n(443);function s(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function f(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>o.a?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function l(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],c=n[0],u=n[1],s=n[2],f=n[3];return e[0]=r*f+o*c+i*s-a*u,e[1]=i*f+o*u+a*c-r*s,e[2]=a*f+o*s+r*u-i*c,e[3]=o*f-r*c-i*u-a*s,e}function d(e,t,n,r){var i,a,c,u,s,f=t[0],l=t[1],d=t[2],v=t[3],h=n[0],b=n[1],m=n[2],g=n[3];return(a=f*h+l*b+d*m+v*g)<0&&(a=-a,h=-h,b=-b,m=-m,g=-g),1-a>o.a?(i=Math.acos(a),c=Math.sin(i),u=Math.sin((1-r)*i)/c,s=Math.sin(r*i)/c):(u=1-r,s=r),e[0]=u*f+s*h,e[1]=u*l+s*b,e[2]=u*d+s*m,e[3]=u*v+s*g,e}function v(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,c=o?1/o:0;return e[0]=-n*c,e[1]=-r*c,e[2]=-i*c,e[3]=a*c,e}function h(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function b(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;n=Math.sqrt(t[3*i+i]-t[3*a+a]-t[3*o+o]+1),e[i]=.5*n,n=.5/n,e[3]=(t[3*a+o]-t[3*o+a])*n,e[a]=(t[3*a+i]+t[3*i+a])*n,e[o]=(t[3*o+i]+t[3*i+o])*n}return e}function m(e,t,n,r){var i=.5*Math.PI/180;t*=i,n*=i,r*=i;var a=Math.sin(t),o=Math.cos(t),c=Math.sin(n),u=Math.cos(n),s=Math.sin(r),f=Math.cos(r);return e[0]=a*u*f-o*c*s,e[1]=o*c*f+a*u*s,e[2]=o*u*s-a*c*f,e[3]=o*u*f+a*c*s,e}var g=u.c,p=u.l,O=u.a,y=l,j=u.b,_=u.d,x=u.j,k=u.e,S=k,w=u.f,P=w,A=u.k,M=u.g,T=u.h;function F(e,t,n){var r=Object(c.e)(t,n);return r<-.999999?(Object(c.d)(U,I,t),Object(c.v)(U)<1e-6&&Object(c.d)(U,D,t),Object(c.o)(U,U),s(e,U,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(Object(c.d)(U,t,n),e[0]=U[0],e[1]=U[1],e[2]=U[2],e[3]=1+r,A(e,e))}var U=Object(a.e)(),I=Object(a.g)(1,0,0),D=Object(a.g)(0,1,0);var z=Object(i.b)(),L=Object(i.b)();var C=Object(r.b)();Object.freeze({__proto__:null,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},setAxisAngle:s,getAxisAngle:f,multiply:l,rotateX:function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],c=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*c,e[1]=i*u+a*c,e[2]=a*u-i*c,e[3]=o*u-r*c,e},rotateY:function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],c=Math.sin(n),u=Math.cos(n);return e[0]=r*u-a*c,e[1]=i*u+o*c,e[2]=a*u+r*c,e[3]=o*u-i*c,e},rotateZ:function(e,t,n){n*=.5;var r=t[0],i=t[1],a=t[2],o=t[3],c=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*c,e[1]=i*u-r*c,e[2]=a*u+o*c,e[3]=o*u-a*c,e},calculateW:function(e,t){var n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e},slerp:d,random:function(e){var t=Object(o.b)(),n=Object(o.b)(),r=Object(o.b)(),i=Math.sqrt(1-t),a=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=a*Math.sin(2*Math.PI*r),e[3]=a*Math.cos(2*Math.PI*r),e},invert:v,conjugate:h,fromMat3:b,fromEuler:m,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},copy:g,set:p,add:O,mul:y,scale:j,dot:_,lerp:x,length:k,len:S,squaredLength:w,sqrLen:P,normalize:A,exactEquals:M,equals:T,rotationTo:F,sqlerp:function(e,t,n,r,i,a){return d(z,t,i,a),d(L,n,r,a),d(e,z,L,2*a*(1-a)),e},setAxes:function(e,t,n,r){var i=C;return i[0]=n[0],i[3]=n[1],i[6]=n[2],i[1]=r[0],i[4]=r[1],i[7]=r[2],i[2]=-t[0],i[5]=-t[1],i[8]=-t[2],A(e,b(e,i))}})},688:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new Map([["position",0],["normal",1],["uv0",2],["color",3],["size",4],["tangent",4],["auxpos1",5],["symbolColor",5],["auxpos2",6],["featureAttribute",6],["instanceFeatureAttribute",6],["instanceColor",7],["model",8],["modelNormal",12],["modelOriginHi",11],["modelOriginLo",15]])},693:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return h}));var r=n(66),i=n(728),a=n(54),o=n(85),c=n(618);function u(e){return e?{origin:Object(o.c)(e.origin),vector:Object(o.c)(e.vector)}:{origin:Object(o.e)(),vector:Object(o.e)()}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return f(e.origin,e.vector,t)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u();return Object(a.h)(n.origin,e),Object(a.h)(n.vector,t),n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u();return Object(a.h)(n.origin,e),Object(a.g)(n.vector,t,e),n}function d(e,t){var n=Object(a.g)(c.c.get(),t,e.origin),i=Object(a.e)(e.vector,n),o=Object(a.e)(e.vector,e.vector),u=Object(r.e)(i/o,0,1),s=Object(a.g)(c.c.get(),Object(a.b)(c.c.get(),e.vector,u),n);return Object(a.e)(s,s)}function v(e,t,n){return Object(a.c)(n,e.origin,Object(a.b)(n,e.vector,t))}function h(e,t,n,i,o){var u=e.vector,s=e.origin,f=Object(a.g)(c.c.get(),t,s),l=Object(a.e)(u,f)/Object(a.q)(u);return Object(a.b)(o,u,Object(r.e)(l,n,i)),Object(a.c)(o,o,e.origin)}function b(e,t){if(g(e,function(e,t){var n=O.get();return n.origin=e,n.vector=t,n}(t.origin,t.direction),!1,p)){var n=p.tA,r=p.pB,i=p.distance2;if(n>=0&&n<=1)return i;if(n<0)return Object(a.i)(e.origin,r);if(n>1)return Object(a.i)(Object(a.c)(c.c.get(),e.origin,e.vector),r)}return null}function m(e,t,n){return!!g(e,t,!0,p)&&(Object(a.h)(n,p.pA),!0)}function g(e,t,n,i){var o=1e-6,u=e.origin,s=Object(a.c)(c.c.get(),u,e.vector),f=t.origin,l=Object(a.c)(c.c.get(),f,t.vector),d=c.c.get(),v=c.c.get();if(d[0]=u[0]-f[0],d[1]=u[1]-f[1],d[2]=u[2]-f[2],v[0]=l[0]-f[0],v[1]=l[1]-f[1],v[2]=l[2]-f[2],Math.abs(v[0])<o&&Math.abs(v[1])<o&&Math.abs(v[2])<o)return!1;var h=c.c.get();if(h[0]=s[0]-u[0],h[1]=s[1]-u[1],h[2]=s[2]-u[2],Math.abs(h[0])<o&&Math.abs(h[1])<o&&Math.abs(h[2])<o)return!1;var b=d[0]*v[0]+d[1]*v[1]+d[2]*v[2],m=v[0]*h[0]+v[1]*h[1]+v[2]*h[2],g=d[0]*h[0]+d[1]*h[1]+d[2]*h[2],p=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],O=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*p-m*m;if(Math.abs(O)<o)return!1;var y=(b*m-g*p)/O,j=(b+m*y)/p;n&&(y=Object(r.e)(y,0,1),j=Object(r.e)(j,0,1));var _=c.c.get(),x=c.c.get();return _[0]=u[0]+y*h[0],_[1]=u[1]+y*h[1],_[2]=u[2]+y*h[2],x[0]=f[0]+j*v[0],x[1]=f[1]+j*v[1],x[2]=f[2]+j*v[2],i.tA=y,i.tB=j,i.pA=_,i.pB=x,i.distance2=Object(a.i)(_,x),!0}var p={tA:0,tB:0,pA:Object(o.e)(),pB:Object(o.e)(),distance2:0},O=new i.a((function(){return{origin:null,vector:null}}))},694:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return j}));var r=n(27),i=n(66),a=n(10),o=n(54),c=n(85),u=n(625),s=n(914),f=n(365),l=n(737),d=Object(u.c)();function v(e,t,n,r,i,a,o){if(!Object(l.d)(t))if(e.boundingInfo){Object(f.a)(0===e.primitiveType);var c=n.tolerance;b(e.boundingInfo,r,i,c,a,o)}else{var u=e.indices.get("position"),s=e.vertexAttributes.get("position");g(r,i,0,u.length/3,u,s,void 0,a,o)}}var h=Object(c.e)();function b(e,t,n,r,i,c){if(!Object(a.j)(e)){var s=function(e,t,n){return Object(o.t)(n,1/(t[0]-e[0]),1/(t[1]-e[1]),1/(t[2]-e[2]))}(t,n,h);if(Object(u.q)(d,e.getBBMin()),Object(u.p)(d,e.getBBMax()),Object(a.k)(i)&&i.applyToAabb(d),function(e,t,n,r){return function(e,t,n,r,i){var a=(e[0]-r-t[0])*n[0],o=(e[3]+r-t[0])*n[0],c=Math.min(a,o),u=Math.max(a,o),s=(e[1]-r-t[1])*n[1],f=(e[4]+r-t[1])*n[1];if((u=Math.min(u,Math.max(s,f)))<0)return!1;if((c=Math.max(c,Math.min(s,f)))>u)return!1;var l=(e[2]-r-t[2])*n[2],d=(e[5]+r-t[2])*n[2];return!((u=Math.min(u,Math.max(l,d)))<0)&&!((c=Math.max(c,Math.min(l,d)))>u)&&c<i}(e,t,n,r,1/0)}(d,t,s,r)){var f=e.primitiveIndices,l=e.indices,v=e.position,m=f?f.length:l.length/3;if(m>P){var p=e.getChildren();if(void 0!==p){for(var O=0;O<8;++O)void 0!==p[O]&&b(p[O],t,n,r,i,c);return}}g(t,n,0,m,l,v,f,i,c)}}}var m=Object(c.e)();function g(e,t,n,i,o,c,u,s,f){if(u)return function(e,t,n,i,o,c,u,s,f){for(var l=c.data,d=c.stride||c.size,v=e[0],h=e[1],b=e[2],g=t[0]-v,p=t[1]-h,O=t[2]-b,j=n;j<i;++j){var _,x,k,S,w,P,A=u[j],M=3*A,T=d*o[M++],F=l[T++],U=l[T++],I=l[T];T=d*o[M++];var D=l[T++],z=l[T++],L=l[T];T=d*o[M];var C=l[T++],B=l[T++],E=l[T];Object(a.k)(s)&&(_=s.applyToVertex(F,U,I,j),F=(x=Object(r.a)(_,3))[0],U=x[1],I=x[2],k=s.applyToVertex(D,z,L,j),D=(S=Object(r.a)(k,3))[0],z=S[1],L=S[2],w=s.applyToVertex(C,B,E,j),C=(P=Object(r.a)(w,3))[0],B=P[1],E=P[2]);var V=D-F,N=z-U,H=L-I,R=C-F,G=B-U,q=E-I,W=p*q-G*O,X=O*R-q*g,K=g*G-R*p,Y=V*W+N*X+H*K;if(!(Math.abs(Y)<=Number.EPSILON)){var Z=v-F,J=h-U,Q=b-I,$=Z*W+J*X+Q*K;if(Y>0){if($<0||$>Y)continue}else if($>0||$<Y)continue;var ee=J*H-N*Q,te=Q*V-H*Z,ne=Z*N-V*J,re=g*ee+p*te+O*ne;if(Y>0){if(re<0||$+re>Y)continue}else if(re>0||$+re<Y)continue;var ie=(R*ee+G*te+q*ne)/Y;ie>=0&&f(ie,y(V,N,H,R,G,q,m),A)}}}(e,t,n,i,o,c,u,s,f);for(var l=c.data,d=c.stride||c.size,v=e[0],h=e[1],b=e[2],g=t[0]-v,p=t[1]-h,O=t[2]-b,j=n,_=3*n;j<i;++j){var x,k,S,w,P,A,M=d*o[_++],T=l[M++],F=l[M++],U=l[M];M=d*o[_++];var I=l[M++],D=l[M++],z=l[M];M=d*o[_++];var L=l[M++],C=l[M++],B=l[M];Object(a.k)(s)&&(x=s.applyToVertex(T,F,U,j),T=(k=Object(r.a)(x,3))[0],F=k[1],U=k[2],S=s.applyToVertex(I,D,z,j),I=(w=Object(r.a)(S,3))[0],D=w[1],z=w[2],P=s.applyToVertex(L,C,B,j),L=(A=Object(r.a)(P,3))[0],C=A[1],B=A[2]);var E=I-T,V=D-F,N=z-U,H=L-T,R=C-F,G=B-U,q=p*G-R*O,W=O*H-G*g,X=g*R-H*p,K=E*q+V*W+N*X;if(!(Math.abs(K)<=Number.EPSILON)){var Y=v-T,Z=h-F,J=b-U,Q=Y*q+Z*W+J*X;if(K>0){if(Q<0||Q>K)continue}else if(Q>0||Q<K)continue;var $=Z*N-V*J,ee=J*E-N*Y,te=Y*V-E*Z,ne=g*$+p*ee+O*te;if(K>0){if(ne<0||Q+ne>K)continue}else if(ne>0||Q+ne<K)continue;var re=(H*$+R*ee+G*te)/K;re>=0&&f(re,y(E,V,N,H,R,G,m),j)}}}var p=Object(c.e)(),O=Object(c.e)();function y(e,t,n,r,i,a,c){return Object(o.t)(p,e,t,n),Object(o.t)(O,r,i,a),Object(o.d)(c,p,O),Object(o.o)(c,c),c}function j(e,t,n,r,a){var o=(n.screenLength||0)*e.pixelRatio;a&&(o=Object(s.d)(o,r,t,a));var c=o*Math.tan(.5*e.fovY)/(.5*e.fullHeight);return Object(i.e)(c*t,n.minWorldLength||0,null!=n.maxWorldLength?n.maxWorldLength:1/0)}function _(e,t,n){if(e){var r=e.parameters,i=e.paddingPixelsOverride;t.setUniform4f(n,r.divisor,r.offset,r.minPixelSize,i)}}function x(e,t){var n=t?x(t):{};for(var r in e){var i=e[r];i&&i.forEach&&(i=S(i)),null==i&&r in n||(n[r]=i)}return n}function k(e,t){var n=!1;for(var r in t){var i=t[r];void 0!==i&&(n=!0,Array.isArray(i)?e[r]=i.slice():e[r]=i)}return n}function S(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}var w={multiply:1,ignore:2,replace:3,tint:4},P=1e3},695:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,a=n(598),o=n(597);function c(e,t){t.linearDepth?e.vertex.code.add(Object(o.a)(r||(r=Object(a.a)(["vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {\nvec4 eye = view * vec4(pos, 1.0);\ndepth = (-eye.z - nearFar[0]) / (nearFar[1] - nearFar[0]) ;\nreturn proj * eye;\n}"])))):e.vertex.code.add(Object(o.a)(i||(i=Object(a.a)(["vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {\nreturn proj * (view * vec4(pos, 1.0));\n}"]))))}},700:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(15),i=n(4),a=n(5),o=n(682),c=n(772),u=function(){function e(t,n){Object(i.a)(this,e),this.layout=t,this.buffer="number"==typeof n?new ArrayBuffer(n*t.stride):n;var a,o=Object(r.a)(t.fieldNames);try{for(o.s();!(a=o.n()).done;){var c=a.value,u=t.fields.get(c);this[c]=new u.constructor(this.buffer,u.offset,this.stride)}}catch(s){o.e(s)}finally{o.f()}}return Object(a.a)(e,[{key:"stride",get:function(){return this.layout.stride}},{key:"count",get:function(){return this.buffer.byteLength/this.stride}},{key:"byteLength",get:function(){return this.buffer.byteLength}},{key:"getField",value:function(e,t){var n=this[e];return n&&n.elementCount===t.ElementCount&&n.elementType===t.ElementType?n:null}},{key:"slice",value:function(t,n){return new e(this.layout,this.buffer.slice(t*this.stride,n*this.stride))}},{key:"copyFrom",value:function(e,t,n,r){var i=this.stride;if(i%4==0){var a=new Uint32Array(e.buffer,t*i,r*i/4);new Uint32Array(this.buffer,n*i,r*i/4).set(a)}else{var o=new Uint8Array(e.buffer,t*i,r*i);new Uint8Array(this.buffer,n*i,r*i).set(o)}}}]),e}(),s=function(){function e(){Object(i.a)(this,e),this.stride=0,this.fields=new Map,this.fieldNames=[]}return Object(a.a)(e,[{key:"vec2f",value:function(e,t){return this.appendField(e,o.m,t),this}},{key:"vec2f64",value:function(e,t){return this.appendField(e,o.n,t),this}},{key:"vec3f",value:function(e,t){return this.appendField(e,o.u,t),this}},{key:"vec3f64",value:function(e,t){return this.appendField(e,o.v,t),this}},{key:"vec4f",value:function(e,t){return this.appendField(e,o.C,t),this}},{key:"vec4f64",value:function(e,t){return this.appendField(e,o.D,t),this}},{key:"mat3f",value:function(e,t){return this.appendField(e,o.f,t),this}},{key:"mat3f64",value:function(e,t){return this.appendField(e,o.g,t),this}},{key:"mat4f",value:function(e,t){return this.appendField(e,o.h,t),this}},{key:"mat4f64",value:function(e,t){return this.appendField(e,o.i,t),this}},{key:"vec4u8",value:function(e,t){return this.appendField(e,o.J,t),this}},{key:"f32",value:function(e,t){return this.appendField(e,o.a,t),this}},{key:"f64",value:function(e,t){return this.appendField(e,o.b,t),this}},{key:"u8",value:function(e,t){return this.appendField(e,o.l,t),this}},{key:"u16",value:function(e,t){return this.appendField(e,o.j,t),this}},{key:"i8",value:function(e,t){return this.appendField(e,o.e,t),this}},{key:"vec2i8",value:function(e,t){return this.appendField(e,o.q,t),this}},{key:"vec2i16",value:function(e,t){return this.appendField(e,o.o,t),this}},{key:"vec2u8",value:function(e,t){return this.appendField(e,o.t,t),this}},{key:"vec4u16",value:function(e,t){return this.appendField(e,o.H,t),this}},{key:"u32",value:function(e,t){return this.appendField(e,o.k,t),this}},{key:"appendField",value:function(e,t,n){var r=t.ElementCount*Object(c.a)(t.ElementType),i=this.stride;this.fields.set(e,{size:r,constructor:t,offset:i,optional:n}),this.stride+=r,this.fieldNames.push(e)}},{key:"alignTo",value:function(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this}},{key:"hasField",value:function(e){return this.fieldNames.indexOf(e)>=0}},{key:"createBuffer",value:function(e){return new u(this,e)}},{key:"createView",value:function(e){return new u(this,e)}},{key:"clone",value:function(){var t=new e;return t.stride=this.stride,t.fields=new Map,this.fields.forEach((function(e,n){return t.fields.set(n,e)})),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t}}]),e}();function f(){return new s}},705:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return h}));var r,i,a,o,c,u,s,f=n(598),l=n(597);function d(e,t){t.vvInstancingEnabled&&(t.vvSize||t.vvColor)&&e.attributes.add("instanceFeatureAttribute","vec4"),t.vvSize?(e.vertex.uniforms.add("vvSizeMinSize","vec3"),e.vertex.uniforms.add("vvSizeMaxSize","vec3"),e.vertex.uniforms.add("vvSizeOffset","vec3"),e.vertex.uniforms.add("vvSizeFactor","vec3"),e.vertex.uniforms.add("vvSymbolRotationMatrix","mat3"),e.vertex.uniforms.add("vvSymbolAnchor","vec3"),e.vertex.code.add(Object(l.a)(r||(r=Object(f.a)(["vec3 vvScale(vec4 _featureAttribute) {\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n}\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n}"])))),e.vertex.code.add(Object(l.a)(i||(i=Object(f.a)(["\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ","\n    "])),t.vvInstancingEnabled?Object(l.a)(a||(a=Object(f.a)(["\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }"]))):""))):e.vertex.code.add(Object(l.a)(o||(o=Object(f.a)(["vec4 localPosition() { return vec4(position, 1.0); }\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }"])))),t.vvColor?(e.vertex.constants.add("vvColorNumber","int",8),e.vertex.code.add(Object(l.a)(c||(c=Object(f.a)(["\n      uniform float vvColorValues[vvColorNumber];\n      uniform vec4 vvColorColors[vvColorNumber];\n\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ","\n    "])),t.vvInstancingEnabled?Object(l.a)(u||(u=Object(f.a)(["\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }"]))):""))):e.vertex.code.add(Object(l.a)(s||(s=Object(f.a)(["vec4 vvColor() { return vec4(1.0); }"]))))}function v(e,t){t.vvSizeEnabled&&(e.setUniform3fv("vvSizeMinSize",t.vvSizeMinSize),e.setUniform3fv("vvSizeMaxSize",t.vvSizeMaxSize),e.setUniform3fv("vvSizeOffset",t.vvSizeOffset),e.setUniform3fv("vvSizeFactor",t.vvSizeFactor)),t.vvColorEnabled&&(e.setUniform1fv("vvColorValues",t.vvColorValues),e.setUniform4fv("vvColorColors",t.vvColorColors))}function h(e,t){v(e,t),t.vvOpacityEnabled&&(e.setUniform1fv("vvOpacityValues",t.vvOpacityValues),e.setUniform1fv("vvOpacityOpacities",t.vvOpacityOpacities))}function b(e,t){v(e,t),t.vvSizeEnabled&&(e.setUniform3fv("vvSymbolAnchor",t.vvSymbolAnchor),e.setUniformMatrix3fv("vvSymbolRotationMatrix",t.vvSymbolRotationMatrix))}},706:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return l}));var r=n(467),i=Object(r.f)(770,1,771,771),a=Object(r.g)(1,1),o=Object(r.g)(0,771);function c(e){return 2===e?null:1===e?o:a}function u(e){return 2===e?r.d:null}var s=5e5,f={factor:-1,units:-2};function l(e){return e?f:null}function d(e){return 3===e||2===e?513:515}},708:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(4),i=n(5),a=(n(13),n(10)),o=n(102),c=n(338),u=n(15),s=["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"],f=n(539),l=999,d=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function v(){var e,t,n,r=0,i=0,a=l,o=[],c=[],u=1,s=0,v=0,h=!1,b=!1,m="";return function(e){return c=[],null!==e?p(e.replace?e.replace(/\r\n/g,"\n"):e):(o.length&&g(o.join("")),a=10,g("(eof)"),c)};function g(e){e.length&&c.push({type:d[a],data:e,position:v,line:u,column:s})}function p(f){var d;for(r=0,n=(m+=f).length;e=m[r],r<n;){switch(d=r,a){case 0:r="/"===e&&"*"===t?(o.push(e),g(o.join("")),a=l,r+1):(o.push(e),t=e,r+1);break;case 1:case 2:r=O();break;case 3:r=y();break;case 4:r="."===e||/[eE]/.test(e)?(o.push(e),a=5,t=e,r+1):"x"===e&&1===o.length&&"0"===o[0]?(a=11,o.push(e),t=e,r+1):/[^\d]/.test(e)?(g(o.join("")),a=l,r):(o.push(e),t=e,r+1);break;case 11:r=/[^a-fA-F0-9]/.test(e)?(g(o.join("")),a=l,r):(o.push(e),t=e,r+1);break;case 5:"f"===e&&(o.push(e),t=e,r+=1),r=/[eE]/.test(e)||"-"===e&&/[eE]/.test(t)?(o.push(e),t=e,r+1):/[^\d]/.test(e)?(g(o.join("")),a=l,r):(o.push(e),t=e,r+1);break;case 9999:r=_();break;case 9:r=/[^\s]/g.test(e)?(g(o.join("")),a=l,r):(o.push(e),t=e,r+1);break;case l:o=o.length?[]:o,r="/"===t&&"*"===e?(v=i+r-1,a=0,t=e,r+1):"/"===t&&"/"===e?(v=i+r-1,a=1,t=e,r+1):"#"===e?(a=2,v=i+r,r):/\s/.test(e)?(a=9,v=i+r,r):(h=/\d/.test(e),b=/[^\w_]/.test(e),v=i+r,a=h?4:b?3:9999,r)}if(d!==r)switch(m[d]){case"\n":s=0,++u;break;default:++s}}return i+=r,m=m.slice(r),c}function O(){return"\r"!==e&&"\n"!==e||"\\"===t?(o.push(e),t=e,r+1):(g(o.join("")),a=l,r)}function y(){if("."===t&&/\d/.test(e))return a=5,r;if("/"===t&&"*"===e)return a=0,r;if("/"===t&&"/"===e)return a=1,r;if("."===e&&o.length){for(;j(o););return a=5,r}if(";"===e||")"===e||"("===e){if(o.length)for(;j(o););return g(e),a=l,r+1}var n=2===o.length&&"="!==e;if(/[\w_\d\s]/.test(e)||n){for(;j(o););return a=l,r}return o.push(e),t=e,r+1}function j(e){for(var t,n,r=0;;){if(t=f.c.indexOf(e.slice(0,e.length+r).join("")),n=f.c[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return g(n),v+=n.length,(o=o.slice(n.length)).length}}function _(){if(/[^\d\w_]/.test(e)){var n=o.join("");return a=f.b.indexOf(n)>-1?8:f.a.indexOf(n)>-1?7:6,g(o.join("")),a=l,r}return o.push(e),t=e,r+1}}function h(e){return function(e){var t=v(),n=[];return(n=n.concat(t(e))).concat(t(null))}(e)}var b=["GL_OES_standard_derivatives","GL_EXT_frag_depth","GL_EXT_draw_buffers","GL_EXT_shader_texture_lod"];function m(e,t){for(var n=t-1;n>=0;n--){var r=e[n];if("whitespace"!==r.type&&"block-comment"!==r.type){if("keyword"!==r.type)break;if("attribute"===r.data||"in"===r.data)return!0}}return!1}function g(e,t,n,r){r=r||n;var i,a=Object(u.a)(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;if("ident"===o.type&&o.data===n)return r in t?t[r]++:t[r]=0,g(e,t,r+"_"+t[r],r)}}catch(c){a.e(c)}finally{a.f()}return n}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"afterVersion";function r(e,t){for(var n=t;n<e.length;n++){var r=e[n];if("operator"===r.type&&";"===r.data)return n}return null}function i(e){for(var t=-1,i=0,a=-1,o=0;o<e.length;o++){var c=e[o];if("preprocessor"===c.type&&(c.data.match(/\#(if|ifdef|ifndef)\s+.+/)?++i:c.data.match(/\#endif\s*.*/)&&--i),"afterVersion"!==n&&"afterPrecision"!==n||"preprocessor"===c.type&&/^#version/.test(c.data)&&(a=Math.max(a,o)),"afterPrecision"===n&&"keyword"===c.type&&"precision"===c.data){var u=r(e,o);if(null===u)throw new Error("precision statement not followed by any semicolons!");a=Math.max(a,u)}t<a&&0===i&&(t=o)}return t+1}var a={data:"\n",type:"whitespace"},o=function(t){return t<e.length&&/[^\r\n]$/.test(e[t].data)},c=i(e);o(c-1)&&e.splice(c++,0,a);var s,f=Object(u.a)(t);try{for(f.s();!(s=f.n()).done;){var l=s.value;e.splice(c++,0,l)}}catch(d){f.e(d)}finally{f.f()}o(c-1)&&o(c)&&e.splice(c,0,a)}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"lowp";p(e,[{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:r},{type:"whitespace",data:" "},{type:"keyword",data:n},{type:"whitespace",data:" "},{type:"ident",data:t},{type:"operator",data:";"}],"afterPrecision")}function y(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"lowp";p(e,[{type:"keyword",data:"layout"},{type:"operator",data:"("},{type:"keyword",data:"location"},{type:"whitespace",data:" "},{type:"operator",data:"="},{type:"whitespace",data:" "},{type:"integer",data:r.toString()},{type:"operator",data:")"},{type:"whitespace",data:" "},{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:i},{type:"whitespace",data:" "},{type:"keyword",data:n},{type:"whitespace",data:" "},{type:"ident",data:t},{type:"operator",data:";"}],"afterPrecision")}function j(e,t){for(var n,r,i=-1,a=t;a<e.length;a++){var o=e[a];if("operator"===o.type&&("["===o.data&&(n=a),"]"===o.data)){r=a;break}"integer"===o.type&&(i=parseInt(o.data,10))}return n&&r&&e.splice(n,r-n+1),i}function _(e,t){var n=h(e);if("300 es"===function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"100",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"300 es",i=/^\s*\#version\s+([0-9]+(\s+[a-zA-Z]+)?)\s*/,a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if("preprocessor"===o.type){var c=i.exec(o.data);if(c){var s=c[1].replace(/\s\s+/g," ");if(s===r)return s;if(s===n)return o.data="#version "+r,n;throw new Error("unknown glsl version: "+s)}}}}catch(f){a.e(f)}finally{a.f()}return e.splice(0,0,{type:"preprocessor",data:"#version "+r},{type:"whitespace",data:"\n"}),null}(n,"100","300 es"))throw new Error("shader is already glsl 300 es");for(var r=null,i=null,a={},o={},c=0;c<n.length;++c){var f=n[c];switch(f.type){case"keyword":35633===t&&"attribute"===f.data?f.data="in":"varying"===f.data&&(f.data=35633===t?"out":"in");break;case"builtin":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(f.data.trim())&&(f.data=f.data.replace(/(2D|Cube|EXT)/g,"")),35632===t&&"gl_FragColor"===f.data&&(r||O(n,r=g(n,a,"fragColor"),"vec4"),f.data=r),35632===t&&"gl_FragData"===f.data){var l=j(n,c+1),d=g(n,a,"fragData");y(n,d,"vec4",l,"mediump"),f.data=d}else 35632===t&&"gl_FragDepthEXT"===f.data&&(i||(i=g(n,a,"gl_FragDepth")),f.data=i);break;case"ident":if(s.indexOf(f.data)>=0){if(35633===t&&m(n,c))throw new Error("attribute in vertex shader uses a name that is a reserved word in glsl 300 es");f.data in o||(o[f.data]=g(n,a,f.data)),f.data=o[f.data]}}}for(var v=n.length-1;v>=0;--v){var p=n[v];if("preprocessor"===p.type){var _=p.data.match(/\#extension\s+(.*)\:/);if(_&&_[1]&&b.indexOf(_[1].trim())>=0){var x=n[v+1];n.splice(v,x&&"whitespace"===x.type?2:1)}var k=p.data.match(/\#ifdef\s+(.*)/);k&&k[1]&&b.indexOf(k[1].trim())>=0&&(p.data="#if 1");var S=p.data.match(/\#ifndef\s+(.*)/);S&&S[1]&&b.indexOf(S[1].trim())>=0&&(p.data="#if 0")}}return n.map((function(e){return"eof"!==e.type?e.data:""})).join("")}var x=function(){function e(t,n,i,a){Object(r.a)(this,e),this._context=t,this._locations=a,this._vShader=null,this._fShader=null,this._nameToUniformLocation={},this._nameToUniform1={},this._nameToUniform1v={},this._nameToUniform2={},this._nameToUniform3={},this._nameToUniform4={},this._nameToUniformMatrix3={},this._nameToUniformMatrix4={},t||console.error("RenderingContext isn't initialized!"),0===n.length&&console.error("Shaders source should not be empty!"),this._vShader=S(this._context,35633,n),this._fShader=S(this._context,35632,i),this._vShader&&this._fShader||console.error("Error loading shaders!");var u=this._context.gl,s=u.createProgram();u.attachShader(s,this._vShader),u.attachShader(s,this._fShader),a.forEach((function(e,t){return u.bindAttribLocation(s,e,t)})),u.linkProgram(s),Object(c.c)()&&!u.getProgramParameter(s,u.LINK_STATUS)&&console.error("Could not initialize shader\nVALIDATE_STATUS: "+u.getProgramParameter(s,u.VALIDATE_STATUS)+", gl error ["+u.getError()+"]infoLog: "+u.getProgramInfoLog(s)),this._glName=s,this._context.instanceCounter.increment(o.b.Program,this)}return Object(i.a)(e,[{key:"glName",get:function(){return this._glName}},{key:"dispose",value:function(){var e=this._context.gl;if(this._vShader){var t=this._vShader;e.deleteShader(t),this._vShader=null}if(this._fShader){var n=this._fShader;e.deleteShader(n),this._fShader=null}this._glName&&(e.deleteProgram(this._glName),this._glName=null,this._context.instanceCounter.decrement(o.b.Program,this))}},{key:"_getUniformLocation",value:function(e){return void 0===this._nameToUniformLocation[e]&&(this._nameToUniformLocation[e]=this._context.gl.getUniformLocation(this._glName,e)),this._nameToUniformLocation[e]}},{key:"hasUniform",value:function(e){return null!==this._getUniformLocation(e)}},{key:"setUniform1i",value:function(e,t){var n=this._nameToUniform1[e];void 0!==n&&t===n||(this._context.useProgram(this),this._context.gl.uniform1i(this._getUniformLocation(e),t),this._nameToUniform1[e]=t)}},{key:"setUniform1iv",value:function(e,t){var n=this._nameToUniform1v[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform1iv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform1v[e]=Array.from(t):w(t,n))}},{key:"setUniform2iv",value:function(e,t){var n=this._nameToUniform2[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform2iv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform2[e]=Array.from(t):w(t,n))}},{key:"setUniform3iv",value:function(e,t){var n=this._nameToUniform3[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform3iv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform3[e]=Array.from(t):w(t,n))}},{key:"setUniform4iv",value:function(e,t){var n=this._nameToUniform4[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform4iv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform4[e]=Array.from(t):w(t,n))}},{key:"setUniform1f",value:function(e,t){var n=this._nameToUniform1[e];void 0!==n&&t===n||(this._context.useProgram(this),this._context.gl.uniform1f(this._getUniformLocation(e),t),this._nameToUniform1[e]=t)}},{key:"setUniform1fv",value:function(e,t){var n=this._nameToUniform1v[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform1fv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform1v[e]=Array.from(t):w(t,n))}},{key:"setUniform2f",value:function(e,t,n){var r=this._nameToUniform2[e];void 0!==r&&t===r[0]&&n===r[1]||(this._context.useProgram(this),this._context.gl.uniform2f(this._getUniformLocation(e),t,n),void 0===r?this._nameToUniform2[e]=[t,n]:(r[0]=t,r[1]=n))}},{key:"setUniform2fv",value:function(e,t){var n=this._nameToUniform2[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform2fv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform2[e]=Array.from(t):w(t,n))}},{key:"setUniform3f",value:function(e,t,n,r){var i=this._nameToUniform3[e];void 0!==i&&t===i[0]&&n===i[1]&&r===i[2]||(this._context.useProgram(this),this._context.gl.uniform3f(this._getUniformLocation(e),t,n,r),void 0===i?this._nameToUniform3[e]=[t,n,r]:(i[0]=t,i[1]=n,i[2]=r))}},{key:"setUniform3fv",value:function(e,t){var n=this._nameToUniform3[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform3fv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform3[e]=Array.from(t):w(t,n))}},{key:"setUniform4f",value:function(e,t,n,r,i){var a=this._nameToUniform4[e];void 0!==a&&t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]||(this._context.useProgram(this),this._context.gl.uniform4f(this._getUniformLocation(e),t,n,r,i),void 0===a?this._nameToUniform4[e]=[t,n,r,i]:(a[0]=t,a[1]=n,a[2]=r,a[3]=i))}},{key:"setUniform4fv",value:function(e,t){var n=this._nameToUniform4[e];k(n,t)&&(this._context.useProgram(this),this._context.gl.uniform4fv(this._getUniformLocation(e),t),void 0===n?this._nameToUniform4[e]=Array.from(t):w(t,n))}},{key:"setUniformMatrix3fv",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._nameToUniformMatrix3[e];P(r,t)&&(this._context.useProgram(this),this._context.gl.uniformMatrix3fv(this._getUniformLocation(e),n,t),void 0===r?this._nameToUniformMatrix3[e]=Array.from(t):w(t,r))}},{key:"setUniformMatrix4fv",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._nameToUniformMatrix4[e];A(r,t)&&(this._context.useProgram(this),this._context.gl.uniformMatrix4fv(this._getUniformLocation(e),n,t),void 0===r?this._nameToUniformMatrix4[e]=Array.from(t):w(t,r))}},{key:"assertCompatibleVertexAttributeLocations",value:function(e){e.locations!==this._locations&&console.error("VertexAttributeLocations are incompatible")}},{key:"stop",value:function(){}}]),e}();function k(e,t){if(Object(a.j)(e)||e.length!==t.length)return!0;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!0;return!1}function S(e,t,n){var r="webgl2"===e.webglVersion?_(n,t):n,i=e.gl,a=i.createShader(t);return i.shaderSource(a,r),i.compileShader(a),Object(c.c)()&&!i.getShaderParameter(a,i.COMPILE_STATUS)&&(console.error("Compile error in ".concat(35633===t?"vertex":"fragment"," shader")),console.error(i.getShaderInfoLog(a)),console.error(function(e){var t=2;return e.replace(/\n/g,(function(){return"\n"+function(e){return e>=1e3?e.toString():("  "+e).slice(-3)}(t++)+":"}))}(r)),"webgl2"===e.webglVersion&&(console.log("Shader source before transpilation:"),console.log(n))),a}function w(e,t){for(var n=0;n<e.length;++n)t[n]=e[n]}function P(e,t){return!!Object(a.j)(e)||(9!==e.length?k(e,t):9!==e.length||e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]||e[6]!==t[6]||e[7]!==t[7]||e[8]!==t[8])}function A(e,t){return!!Object(a.j)(e)||(16!==e.length?k(e,t):16!==e.length||e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]||e[6]!==t[6]||e[7]!==t[7]||e[8]!==t[8]||e[9]!==t[9]||e[10]!==t[10]||e[11]!==t[11]||e[12]!==t[12]||e[13]!==t[13]||e[14]!==t[14]||e[15]!==t[15])}},715:function(e,t,n){"use strict";var r=n(4),i=n(5),a=n(6),o=n(7),c=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this))._material=e.material,i._techniqueRep=e.techniqueRep,i._output=e.output,i}return Object(i.a)(n,[{key:"technique",get:function(){return this._technique}},{key:"getPipelineState",value:function(e,t){return this.technique.pipeline}},{key:"ensureResources",value:function(e){return 2}},{key:"ensureParameters",value:function(e){}}]),n}(n(916).a);t.a=c},716:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return d}));var r=n(4),i=n(5),a=n(6),o=n(7),c=n(10),u=n(765),s=n(688),f=n(694),l=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this)).type=3,a.supportsEdges=!1,a._visible=!0,a._renderPriority=0,a._insertOrder=0,a._vertexAttributeLocations=s.a,a._params=Object(f.c)(e,i),a.validateParameterValues(a._params),a}return Object(i.a)(n,[{key:"dispose",value:function(){}},{key:"params",get:function(){return this._params}},{key:"update",value:function(e){return!1}},{key:"setParameterValues",value:function(e){Object(f.e)(this._params,e)&&(this.validateParameterValues(this._params),this.parametersChanged())}},{key:"validateParameterValues",value:function(e){}},{key:"visible",get:function(){return this._visible},set:function(e){e!==this._visible&&(this._visible=e,this.parametersChanged())}},{key:"isVisibleInPass",value:function(e){return!0}},{key:"renderOccluded",get:function(){return this.params.renderOccluded}},{key:"renderPriority",get:function(){return this._renderPriority},set:function(e){e!==this._renderPriority&&(this._renderPriority=e,this.parametersChanged())}},{key:"insertOrder",get:function(){return this._insertOrder},set:function(e){e!==this._insertOrder&&(this._insertOrder=e,this.parametersChanged())}},{key:"vertexAttributeLocations",get:function(){return this._vertexAttributeLocations}},{key:"isVisible",value:function(){return this._visible}},{key:"parametersChanged",value:function(){Object(c.k)(this.materialRepository)&&this.materialRepository.materialChanged(this)}}]),n}(u.a);function d(e,t){return e.isVisible()&&e.isVisibleInPass(t.pass)&&0!=(e.renderOccluded&t.renderOccludedMask)}var v={renderOccluded:1}},717:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s}));var r=n(236),i=n(887);function a(e,t,n){e.setUniform3f("camPos",n[3]-t[0],n[7]-t[1],n[11]-t[2])}function o(e,t){e.setUniformMatrix4fv("proj",t)}function c(e,t,n){Object(r.s)(f,n,t),e.setUniform3fv("localOrigin",t),e.setUniformMatrix4fv("view",f)}function u(e,t){c(e,t.origin,t.camera.viewMatrix)}function s(e,t){e.setUniform4fv("viewport",t.camera.fullViewport)}var f=Object(i.a)()},720:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(11),i=n(27),a=n(15),o=n(4),c=n(5),u=n(6),s=n(7),f=n(10),l=n(195),d=n(54),v=n(85),h=n(365),b=function(){function e(t,n,r,i){Object(o.a)(this,e),this.primitiveIndices=t,this._numIndexPerPrimitive=n,this.indices=r,this.position=i,this.center=Object(v.e)(),Object(h.a)(t.length>=1),Object(h.a)(r.length%this._numIndexPerPrimitive==0),Object(h.a)(r.length>=t.length*this._numIndexPerPrimitive),Object(h.a)(3===i.size||4===i.size);var a=i.data,c=i.size,u=t.length,s=c*r[this._numIndexPerPrimitive*t[0]];m.clear(),m.push(s),this.bbMin=Object(v.g)(a[s],a[s+1],a[s+2]),this.bbMax=Object(v.c)(this.bbMin);for(var f=0;f<u;++f)for(var l=this._numIndexPerPrimitive*t[f],b=0;b<this._numIndexPerPrimitive;++b){s=c*r[l+b],m.push(s);var g=a[s];this.bbMin[0]=Math.min(g,this.bbMin[0]),this.bbMax[0]=Math.max(g,this.bbMax[0]),g=a[s+1],this.bbMin[1]=Math.min(g,this.bbMin[1]),this.bbMax[1]=Math.max(g,this.bbMax[1]),g=a[s+2],this.bbMin[2]=Math.min(g,this.bbMin[2]),this.bbMax[2]=Math.max(g,this.bbMax[2])}Object(d.f)(this.center,this.bbMin,this.bbMax,.5),this.radius=.5*Math.max(Math.max(this.bbMax[0]-this.bbMin[0],this.bbMax[1]-this.bbMin[1]),this.bbMax[2]-this.bbMin[2]);for(var p=this.radius*this.radius,O=0;O<m.length;++O){var y=a[s=m.getItemAt(O)]-this.center[0],j=a[s+1]-this.center[1],_=a[s+2]-this.center[2],x=y*y+j*j+_*_;if(!(x<=p)){var k=Math.sqrt(x),S=.5*(k-this.radius);this.radius=this.radius+S,p=this.radius*this.radius;var w=S/k;this.center[0]+=y*w,this.center[1]+=j*w,this.center[2]+=_*w}}m.clear()}return Object(c.a)(e,[{key:"getCenter",value:function(){return this.center}},{key:"getBSRadius",value:function(){return this.radius}},{key:"getBBMin",value:function(){return this.bbMin}},{key:"getBBMax",value:function(){return this.bbMax}},{key:"getChildren",value:function(){if(this._children)return this._children;if(Object(d.i)(this.bbMin,this.bbMax)>1){for(var t=Object(d.f)(Object(v.e)(),this.bbMin,this.bbMax,.5),n=this.primitiveIndices.length,r=new Uint8Array(n),i=new Array(8),a=0;a<8;++a)i[a]=0;for(var o=this.position,c=o.data,u=o.size,s=0;s<n;++s){for(var f=0,l=this._numIndexPerPrimitive*this.primitiveIndices[s],h=u*this.indices[l],b=c[h],m=c[h+1],g=c[h+2],p=1;p<this._numIndexPerPrimitive;++p){var O=c[h=u*this.indices[l+p]],y=c[h+1],j=c[h+2];O<b&&(b=O),y<m&&(m=y),j<g&&(g=j)}b<t[0]&&(f|=1),m<t[1]&&(f|=2),g<t[2]&&(f|=4),r[s]=f,++i[f]}for(var _=0,x=0;x<8;++x)i[x]>0&&++_;if(_<2)return;for(var k=new Array(8),S=0;S<8;++S)k[S]=i[S]>0?new Uint32Array(i[S]):void 0;for(var w=0;w<8;++w)i[w]=0;for(var P=0;P<n;++P){var A=r[P];k[A][i[A]++]=this.primitiveIndices[P]}this._children=new Array(8);for(var M=0;M<8;++M)void 0!==k[M]&&(this._children[M]=new e(k[M],this._numIndexPerPrimitive,this.indices,this.position))}return this._children}}],[{key:"prune",value:function(){m.prune()}}]),e}(),m=new l.a({deallocator:null}),g=n(765),p=n(759),O=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var c,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;Object(o.a)(this,n),(c=t.call(this))._primitiveType=s,c.edgeIndicesLength=f,c.type=2,c._vertexAttributes=new Map,c._indices=new Map,c._boundingInfo=null;var l,d=Object(a.a)(e);try{for(d.s();!(l=d.n()).done;){var v=Object(i.a)(l.value,2),h=v[0],b=v[1];b&&c._vertexAttributes.set(h,Object(r.a)({},b))}}catch(M){d.e(M)}finally{d.f()}if(null==u||0===u.length){var m=y(c._vertexAttributes),g=Object(p.d)(m);c.edgeIndicesLength=c.edgeIndicesLength<0?m:c.edgeIndicesLength;var O,_=Object(a.a)(c._vertexAttributes.keys());try{for(_.s();!(O=_.n()).done;){var x=O.value;c._indices.set(x,g)}}catch(M){_.e(M)}finally{_.f()}}else{var k,S=Object(a.a)(u);try{for(S.s();!(k=S.n()).done;){var w=Object(i.a)(k.value,2),P=w[0],A=w[1];A&&(c._indices.set(P,j(A)),"position"===P&&(c.edgeIndicesLength=c.edgeIndicesLength<0?c._indices.get(P).length:c.edgeIndicesLength))}}catch(M){S.e(M)}finally{S.f()}}return c}return Object(c.a)(n,[{key:"vertexAttributes",get:function(){return this._vertexAttributes}},{key:"getMutableAttribute",value:function(e){var t=this._vertexAttributes.get(e);return t&&!t.exclusive&&(t.data=Array.from(t.data),t.exclusive=!0),t}},{key:"indices",get:function(){return this._indices}},{key:"indexCount",get:function(){var e=this._indices.values().next().value;return e?e.length:0}},{key:"primitiveType",get:function(){return this._primitiveType}},{key:"faceCount",get:function(){return this.indexCount/3}},{key:"boundingInfo",get:function(){return Object(f.j)(this._boundingInfo)&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}},{key:"computeAttachmentOrigin",value:function(e){return 0===this.primitiveType?this.computeAttachmentOriginTriangles(e):this.computeAttachmentOriginPoints(e)}},{key:"computeAttachmentOriginTriangles",value:function(e){var t=this.indices.get("position"),n=this.vertexAttributes.get("position");return Object(p.c)(n,t,e)}},{key:"computeAttachmentOriginPoints",value:function(e){var t=this.indices.get("position"),n=this.vertexAttributes.get("position");return Object(p.b)(n,t,e)}},{key:"invalidateBoundingInfo",value:function(){this._boundingInfo=null}},{key:"_calculateBoundingInfo",value:function(){var e=this.indices.get("position");if(0===e.length)return null;var t=0===this.primitiveType?3:1;Object(h.a)(e.length%t==0,"Indexing error: "+e.length+" not divisible by "+t);var n=Object(p.d)(e.length/t),r=this.vertexAttributes.get("position");return new b(n,t,e,r)}}]),n}(g.a);function y(e){var t=e.values().next().value;return null==t?0:t.data.length/t.size}function j(e){if(e.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT)return e;var t,n=Object(a.a)(e);try{for(n.s();!(t=n.n()).done;){if(t.value>=65536)return e}}catch(r){n.e(r)}finally{n.f()}return new Uint16Array(e)}},728:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),i=n(5),a=n(10),o=n(446),c=function(){function e(t){var n=this;Object(r.a)(this,e),this.allocator=t,this.items=[],this.itemsPtr=0,this.tickHandle=o.a.before((function(){return n.reset()})),this.grow()}return Object(i.a)(e,[{key:"destroy",value:function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=Object(a.o)(this.tickHandle)),this.items=Object(a.o)(this.items)}},{key:"get",value:function(){return 0===this.itemsPtr&&Object(o.a)((function(){})),this.itemsPtr===this.items.length&&this.grow(),this.items[this.itemsPtr++]}},{key:"reset",value:function(){var e=Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*u);this.items.length=Math.min(e,this.items.length),this.itemsPtr=0}},{key:"grow",value:function(){for(var e=0;e<Math.max(8,Math.min(this.items.length,u));e++)this.items.push(this.allocator())}}]),e}(),u=1024},729:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(598),a=n(597);function o(e){e.code.add(Object(a.a)(r||(r=Object(i.a)(["const float MAX_RGBA_FLOAT =\n255.0 / 256.0 +\n255.0 / 256.0 / 256.0 +\n255.0 / 256.0 / 256.0 / 256.0 +\n255.0 / 256.0 / 256.0 / 256.0 / 256.0;\nconst vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\nvec4 float2rgba(const float value) {\nfloat valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\nvec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\nconst float toU8AsFloat = 1.0 / 255.0;\nreturn fixedPointU8 * toU8AsFloat;\n}\nconst vec4 RGBA_2_FLOAT_FACTORS = vec4(\n255.0 / (256.0),\n255.0 / (256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0 * 256.0)\n);\nfloat rgba2float(vec4 rgba) {\nreturn dot(rgba, RGBA_2_FLOAT_FACTORS);\n}"]))))}},736:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var r=n(66),i=n(54),a=n(85);function o(e,t,n){var r=Object(i.e)(e,t)/Object(i.e)(e,e);return Object(i.b)(n,e,r)}function c(e,t){return Object(i.e)(e,t)/Object(i.m)(e)}function u(e,t){var n=Object(i.e)(e,t)/(Object(i.m)(e)*Object(i.m)(t));return-Object(r.b)(n)}Object(a.e)(),Object(a.e)()},737:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u}));var r=n(10),i=n(236),a=n(603),o=(n(915),n(365));function c(e,t){return Object(r.j)(e)&&(e=[]),e.push(t),e}function u(e,t){if(Object(r.j)(e))return e;var n=e.filter((function(e){return e!==t}));return 0===n.length?null:n}function s(e){return!!Object(r.k)(e)&&!e.visible}function f(e,t){var n=new Map;return n.set(0,t.acquire(e,0)),n.set(1,t.acquire(e,7)),n.set(4,t.acquire(e,3)),n.set(3,t.acquire(e,2)),n.set(2,t.acquire(e,1)),n.set(5,t.acquire(e,4)),n.set(7,t.acquire(e,3)),n.set(6,t.acquire(e,3)),n}function l(e,t){t.release(e,0),t.release(e,7),t.release(e,3),t.release(e,2),t.release(e,1),t.release(e,4)}function d(e,t,n){var a=e.origin.vec3;Object(o.j)(v,-a[0],-a[1],-a[2]),Object(r.k)(e.transformation)?Object(i.m)(t,v,e.transformation):Object(i.d)(t,v),n&&(Object(i.a)(n,t),Object(i.e)(n,n))}new Float64Array(3),new Float32Array(6);var v=Object(a.d)()},752:function(e,t,n){"use strict";function r(){return new Float32Array(3)}function i(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}function o(){return r()}function c(){return a(1,1,1)}function u(){return a(1,0,0)}function s(){return a(0,1,0)}function f(){return a(0,0,1)}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var l=o(),d=c(),v=u(),h=s(),b=f();Object.freeze({__proto__:null,create:r,clone:i,fromValues:a,createView:function(e,t){return new Float32Array(e,t,3)},zeros:o,ones:c,unitX:u,unitY:s,unitZ:f,ZEROS:l,ONES:d,UNIT_X:v,UNIT_Y:h,UNIT_Z:b})},759:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return v}));var r=n(54),i=n(85),a=n(728),o=(n(50),n(693));n(618);new a.a(o.d),new a.a((function(){return{p0:null,p1:null,p2:null}}));var c=Object(i.e)(),u=Object(i.e)(),s=function(){for(var e=new Uint32Array(131072),t=0;t<e.length;++t)e[t]=t;return e}(),f=new Uint16Array([0]),l=function(){for(var e=new Uint16Array(65536),t=0;t<e.length;++t)e[t]=t;return e}();function d(e){if(1===e)return f;if(e<l.length)return new Uint16Array(l.buffer,0,e);if(e>s.length){var t=Math.max(2*s.length,e);s=new Uint32Array(t);for(var n=0;n<s.length;n++)s[n]=n}return new Uint32Array(s.buffer,0,e)}function v(e){if(1===e)return new Uint16Array(f);if(e<l.length)return new Uint16Array(l.slice(0,e));if(e>s.length){for(var t=new Uint32Array(e),n=0;n<t.length;n++)t[n]=n;return t}return new Uint32Array(s.slice(0,e))}function h(e,t,n){if(!e)return!1;var i=e.size,a=e.data;Object(r.t)(n,0,0,0),Object(r.t)(y,0,0,0);for(var o,s,f,l=0,d=0,v=0;v<t.length-2;v+=3){var h=t[v+0]*i,b=t[v+1]*i,m=t[v+2]*i;Object(r.t)(g,a[h+0],a[h+1],a[h+2]),Object(r.t)(p,a[b+0],a[b+1],a[b+2]),Object(r.t)(O,a[m+0],a[m+1],a[m+2]);var j=(o=g,s=p,f=O,Object(r.g)(c,s,o),Object(r.g)(u,f,o),Object(r.m)(Object(r.d)(c,c,u))/2);j?(Object(r.c)(g,g,p),Object(r.c)(g,g,O),Object(r.b)(g,g,1/3*j),Object(r.c)(n,n,g),l+=j):(Object(r.c)(y,y,g),Object(r.c)(y,y,p),Object(r.c)(y,y,O),d+=3)}return(0!==d||0!==l)&&(0!==l?(Object(r.b)(n,n,1/l),!0):0!==d&&(Object(r.b)(n,y,1/d),!0))}function b(e,t,n){if(!e||!t)return!1;var i=e.size,a=e.data;Object(r.t)(n,0,0,0);for(var o=-1,c=0,u=0;u<t.length;u++){var s=t[u]*i;o!==s&&(n[0]+=a[s+0],n[1]+=a[s+1],n[2]+=a[s+2],c++),o=s}return c>1&&Object(r.b)(n,n,1/c),c>0}function m(e,t,n,i){if(!e)return!1;var a=e.size,o=e.data;Object(r.t)(i,0,0,0),Object(r.t)(y,0,0,0);for(var c=0,u=0,s=t?t.length-1:o.length/a-1,f=s+(n?2:0),l=0;l<f;l+=2){var d=l<s?l:s,v=l<s?l+1:0,h=(t?t[d]:d)*a,b=(t?t[v]:v)*a;g[0]=o[h+0],g[1]=o[h+1],g[2]=o[h+2],p[0]=o[b+0],p[1]=o[b+1],p[2]=o[b+2],Object(r.b)(g,Object(r.c)(g,g,p),.5);var m=Object(r.k)(g,p);m>0?(Object(r.c)(i,i,Object(r.b)(g,g,m)),c+=m):(Object(r.c)(y,y,g),u++)}return 0!==c?(Object(r.b)(i,i,1/c),!0):0!==u&&(Object(r.b)(i,y,1/u),!0)}var g=Object(i.e)(),p=Object(i.e)(),O=Object(i.e)(),y=Object(i.e)()},764:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return j}));n(13);var r=n(12),i=n(66),a=n(10),o=n(236),c=n(54),u=n(85),s=n(443),f=n(463),l=n(647),d=n(736),v=n(618),h=r.a.getLogger("esri.geometry.support.sphere");function b(){return Object(f.e)()}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b();return Object(s.c)(t,e)}function g(e){e[0]=e[1]=e[2]=e[3]=0}function p(e){return Array.isArray(e)?e[3]:e}function O(e){return Array.isArray(e)?e:A}function y(e,t,n){if(Object(a.j)(t))return!1;var r=Object(c.g)(v.c.get(),t.origin,O(e)),i=Object(c.e)(t.direction,t.direction),o=2*Object(c.e)(t.direction,r),u=o*o-4*i*(Object(c.e)(r,r)-e[3]*e[3]);if(u<0)return!1;var s=Math.sqrt(u),f=(-o-s)/(2*i),l=(-o+s)/(2*i);return(f<0||l<f&&l>0)&&(f=l),!(f<0)&&(n&&Object(c.c)(n,t.origin,Object(c.b)(v.c.get(),t.direction,f)),!0)}function j(e,t){return y(e,t,null)}function _(e,t,n){var r=v.c.get(),i=v.a.get();Object(c.d)(r,t.origin,t.direction);var a=p(e);Object(c.d)(n,r,t.origin),Object(c.b)(n,n,1/Object(c.m)(n)*a);var u=k(e,t.origin),s=Object(d.a)(t.origin,n);return Object(o.i)(i),Object(o.c)(i,i,s+u,r),Object(c.n)(n,n,i),n}function x(e,t,n){var r=Object(c.g)(v.c.get(),t,O(e)),i=Object(c.b)(v.c.get(),r,e[3]/Object(c.m)(r));return Object(c.c)(n,i,O(e))}function k(e,t){var n=Object(c.g)(v.c.get(),t,O(e)),r=Object(c.m)(n),a=p(e),o=a+Math.abs(a-r);return Object(i.b)(a/o)}var S=Object(u.e)();function w(e,t,n,r){var a=Object(c.g)(S,t,O(e));switch(n){case 0:var o=Object(i.d)(a,S)[2];return Object(c.t)(r,-Math.sin(o),Math.cos(o),0);case 1:var u=Object(i.d)(a,S),s=u[1],f=u[2],l=Math.sin(s);return Object(c.t)(r,-l*Math.cos(f),-l*Math.sin(f),Math.cos(s));case 2:return Object(c.o)(r,a);default:return}}function P(e,t){var n=Object(c.g)(M,t,O(e));return Object(c.m)(n)-e[3]}var A=Object(u.e)(),M=Object(u.e)();Object.freeze({__proto__:null,create:b,copy:m,fromCenterAndRadius:function(e,t){return Object(f.g)(e[0],e[1],e[2],t)},wrap:function(e){return e},clear:g,fromRadius:function(e){return e},getRadius:p,getCenter:O,fromValues:function(e,t,n,r){return Object(f.g)(e,t,n,r)},elevate:function(e,t,n){return e!==n&&Object(c.h)(n,e),n[3]=e[3]+t,n},setExtent:function(e,t,n){return h.error("sphere.setExtent is not yet supported"),e===n?n:m(e,n)},intersectRay:y,intersectsRay:j,intersectRayClosestSilhouette:function(e,t,n){if(y(e,t,n))return n;var r=_(e,t,v.c.get());return Object(c.c)(n,t.origin,Object(c.b)(v.c.get(),t.direction,Object(c.j)(t.origin,r)/Object(c.m)(t.direction))),n},closestPointOnSilhouette:_,closestPoint:function(e,t,n){return y(e,t,n)?n:(Object(l.a)(t,O(e),n),x(e,n,n))},projectPoint:x,distanceToSilhouette:function(e,t){var n=Object(c.g)(v.c.get(),t,O(e)),r=Object(c.q)(n),i=e[3]*e[3];return Math.sqrt(Math.abs(r-i))},angleToSilhouette:k,axisAt:w,altitudeAt:P,setAltitudeAt:function(e,t,n,r){var i=P(e,t),a=w(e,t,2,M),o=Object(c.b)(M,a,n-i);return Object(c.c)(r,t,o)}})},765:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n(5),a=n(444),o=function(){function e(){Object(r.a)(this,e),this.id=Object(a.a)()}return Object(i.a)(e,[{key:"unload",value:function(){}}]),e}()},772:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o}));n(13);function r(e){switch(e){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return}}function i(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function a(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function o(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}},782:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r,i,a=n(598),o=n(597);function c(e){e.vertex.code.add(Object(o.a)(r||(r=Object(a.a)(["const float PI = 3.141592653589793;"])))),e.fragment.code.add(Object(o.a)(i||(i=Object(a.a)(["const float PI = 3.141592653589793;\nconst float LIGHT_NORMALIZATION = 1.0 / PI;\nconst float INV_PI = 0.3183098861837907;\nconst float HALF_PI = 1.570796326794897;"]))))}},783:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f}));var r=n(15),i=n(236),a=n(682),o=n(365);function c(e,t,n,r){var i=n.typedBuffer,a=n.typedBufferStride,o=e.length;r*=a;for(var c=0;c<o;++c){var u=2*e[c];i[r]=t[u],i[r+1]=t[u+1],r+=a}}function u(e,t,n,r,i){var a=n.typedBuffer,o=n.typedBufferStride,c=e.length;if(r*=o,null==i||1===i)for(var u=0;u<c;++u){var s=3*e[u];a[r]=t[s],a[r+1]=t[s+1],a[r+2]=t[s+2],r+=o}else for(var f=0;f<c;++f)for(var l=3*e[f],d=0;d<i;++d)a[r]=t[l],a[r+1]=t[l+1],a[r+2]=t[l+2],r+=o}function s(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=n.typedBuffer,o=n.typedBufferStride,c=e.length;if(r*=o,1===i)for(var u=0;u<c;++u){var s=4*e[u];a[r]=t[s],a[r+1]=t[s+1],a[r+2]=t[s+2],a[r+3]=t[s+3],r+=o}else for(var f=0;f<c;++f)for(var l=4*e[f],d=0;d<i;++d)a[r]=t[l],a[r+1]=t[l+1],a[r+2]=t[l+2],a[r+3]=t[l+3],r+=o}function f(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(n){var o=r.typedBuffer,c=r.typedBufferStride,s=e.length,f=n[0],l=n[1],d=n[2],v=n[4],h=n[5],b=n[6],m=n[8],g=n[9],p=n[10],O=n[12],y=n[13],j=n[14];if(i*=c,1===a)for(var _=0;_<s;++_){var x=3*e[_],k=t[x],S=t[x+1],w=t[x+2];o[i]=f*k+v*S+m*w+O,o[i+1]=l*k+h*S+g*w+y,o[i+2]=d*k+b*S+p*w+j,i+=c}else for(var P=0;P<s;++P)for(var A=3*e[P],M=t[A],T=t[A+1],F=t[A+2],U=f*M+v*T+m*F+O,I=l*M+h*T+g*F+y,D=d*M+b*T+p*F+j,z=0;z<a;++z)o[i]=U,o[i+1]=I,o[i+2]=D,i+=c}else u(e,t,r,i,a)}function l(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(n){var c=n,s=r.typedBuffer,f=r.typedBufferStride,l=e.length,d=c[0],v=c[1],h=c[2],b=c[4],m=c[5],g=c[6],p=c[8],O=c[9],y=c[10],j=!Object(i.p)(c),_=1e-6,x=1-_;if(a*=f,1===o)for(var k=0;k<l;++k){var S=3*e[k],w=t[S],P=t[S+1],A=t[S+2],M=d*w+b*P+p*A,T=v*w+m*P+O*A,F=h*w+g*P+y*A;if(j){var U=M*M+T*T+F*F;if(U<x&&U>_){var I=1/Math.sqrt(U);M*=I,T*=I,F*=I}}s[a+0]=M,s[a+1]=T,s[a+2]=F,a+=f}else for(var D=0;D<l;++D){var z=3*e[D],L=t[z],C=t[z+1],B=t[z+2],E=d*L+b*C+p*B,V=v*L+m*C+O*B,N=h*L+g*C+y*B;if(j){var H=E*E+V*V+N*N;if(H<x&&H>_){var R=1/Math.sqrt(H);E*=R,V*=R,N*=R}}for(var G=0;G<o;++G)s[a+0]=E,s[a+1]=V,s[a+2]=N,a+=f}}else u(e,t,r,a,o)}function d(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(n){var c=n,u=r.typedBuffer,f=r.typedBufferStride,l=e.length,d=c[0],v=c[1],h=c[2],b=c[4],m=c[5],g=c[6],p=c[8],O=c[9],y=c[10],j=!Object(i.p)(c),_=1e-6,x=1-_;if(a*=f,1===o)for(var k=0;k<l;++k){var S=4*e[k],w=t[S],P=t[S+1],A=t[S+2],M=t[S+3],T=d*w+b*P+p*A,F=v*w+m*P+O*A,U=h*w+g*P+y*A;if(j){var I=T*T+F*F+U*U;if(I<x&&I>_){var D=1/Math.sqrt(I);T*=D,F*=D,U*=D}}u[a+0]=T,u[a+1]=F,u[a+2]=U,u[a+3]=M,a+=f}else for(var z=0;z<l;++z){var L=4*e[z],C=t[L],B=t[L+1],E=t[L+2],V=t[L+3],N=d*C+b*B+p*E,H=v*C+m*B+O*E,R=h*C+g*B+y*E;if(j){var G=N*N+H*H+R*R;if(G<x&&G>_){var q=1/Math.sqrt(G);N*=q,H*=q,R*=q}}for(var W=0;W<o;++W)u[a+0]=N,u[a+1]=H,u[a+2]=R,u[a+3]=V,a+=f}}else s(e,t,r,a,o)}function v(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=r.typedBuffer,c=r.typedBufferStride,u=e.length;if(i*=c,1===a){if(4===n)for(var s=0;s<u;++s){var f=4*e[s];o[i]=t[f],o[i+1]=t[f+1],o[i+2]=t[f+2],o[i+3]=t[f+3],i+=c}else if(3===n)for(var l=0;l<u;++l){var d=3*e[l];o[i]=t[d],o[i+1]=t[d+1],o[i+2]=t[d+2],o[i+3]=255,i+=c}}else if(4===n)for(var v=0;v<u;++v)for(var h=4*e[v],b=0;b<a;++b)o[i]=t[h],o[i+1]=t[h+1],o[i+2]=t[h+2],o[i+3]=t[h+3],i+=c;else if(3===n)for(var m=0;m<u;++m)for(var g=3*e[m],p=0;p<a;++p)o[i]=t[g],o[i+1]=t[g+1],o[i+2]=t[g+2],o[i+3]=255,i+=c}function h(e,t,n,i,u,s){var h,b=Object(r.a)(t.fieldNames);try{for(b.s();!(h=b.n()).done;){var m=h.value,g=e.vertexAttributes.get(m),p=e.indices.get(m);if(g&&p)switch(m){case"position":Object(o.a)(3===g.size);var O=u.getField(m,a.u);O&&f(p,g.data,n,O,s);break;case"normal":Object(o.a)(3===g.size);var y=u.getField(m,a.u);y&&l(p,g.data,i,y,s);break;case"uv0":Object(o.a)(2===g.size);var j=u.getField(m,a.m);j&&c(p,g.data,j,s);break;case"color":Object(o.a)(3===g.size||4===g.size);var _=u.getField(m,a.J);_&&v(p,g.data,g.size,_,s);break;case"symbolColor":Object(o.a)(3===g.size||4===g.size);var x=u.getField(m,a.J);x&&v(p,g.data,g.size,x,s);break;case"tangent":Object(o.a)(4===g.size);var k=u.getField(m,a.C);k&&d(p,g.data,i,k,s)}}}catch(S){b.e(S)}finally{b.f()}}},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i,a,o=n(598),c=n(597);function u(e,t){t.attributeColor?(e.attributes.add("color","vec4"),e.varyings.add("vColor","vec4"),e.vertex.code.add(Object(c.a)(r||(r=Object(o.a)(["void forwardVertexColor() { vColor = color; }"])))),e.vertex.code.add(Object(c.a)(i||(i=Object(o.a)(["void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }"]))))):e.vertex.code.add(Object(c.a)(a||(a=Object(o.a)(["void forwardVertexColor() {}\nvoid forwardNormalizedVertexColor() {}"]))))}},794:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return s}));var r=n(688),i=[{name:"position",count:2,type:5126,offset:0,stride:8,normalized:!1}],a=[{name:"position",count:2,type:5126,offset:0,stride:16,normalized:!1},{name:"uv0",count:2,type:5126,offset:8,stride:16,normalized:!1}],o=n(144),c=n(143),u=n(266);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,f=null;switch(t){case a:f=new Float32Array([c,c,0,0,s,c,1,0,c,s,0,1,s,s,1,1]);break;case i:default:f=new Float32Array([c,c,s,c,c,s,s,s])}return new u.a(e,n,{geometry:t},{geometry:o.a.createVertex(e,35044,f)})}function f(e){return new c.a(e,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:1,height:1},new Uint8Array([255,255,255,255]))}},816:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r,i,a=n(598),o=n(729),c=n(597);function u(e,t){e.fragment.include(o.a),3===t.output?(e.extensions.add("GL_OES_standard_derivatives"),e.fragment.code.add(Object(c.a)(r||(r=Object(a.a)(["float _calculateFragDepth(const in float depth) {\nconst float SLOPE_SCALE = 2.0;\nconst float BIAS = 2.0 * .000015259;\nfloat m = max(abs(dFdx(depth)), abs(dFdy(depth)));\nfloat result = depth + SLOPE_SCALE * m + BIAS;\nreturn clamp(result, .0, .999999);\n}\nvoid outputDepth(float _linearDepth) {\ngl_FragColor = float2rgba(_calculateFragDepth(_linearDepth));\n}"]))))):1===t.output&&e.fragment.code.add(Object(c.a)(i||(i=Object(a.a)(["void outputDepth(float _linearDepth) {\ngl_FragColor = float2rgba(_linearDepth);\n}"]))))}},887:function(e,t,n){"use strict";function r(){var e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}n.d(t,"a",(function(){return r}));var i=r();Object.freeze({__proto__:null,create:r,clone:function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(e,t,n,r,i,a,o,c,u,s,f,l,d,v,h,b){var m=new Float32Array(16);return m[0]=e,m[1]=t,m[2]=n,m[3]=r,m[4]=i,m[5]=a,m[6]=o,m[7]=c,m[8]=u,m[9]=s,m[10]=f,m[11]=l,m[12]=d,m[13]=v,m[14]=h,m[15]=b,m},createView:function(e,t){return new Float32Array(e,t,16)},IDENTITY:i})},914:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s}));n(4),n(5);var r=n(66);function i(e,t,n){var r=n.parameters,i=n.paddingPixelsOverride;return f.scale=Math.min(r.divisor/(t-r.offset),1),f.factor=function(e){return Math.abs(e*e*e)}(e),f.minPixelSize=r.minPixelSize,f.paddingPixels=i,f}function a(e,t){return 0===e?t.minPixelSize:t.minPixelSize*(1+2*t.paddingPixels/e)}function o(e,t){return Math.max(Object(r.m)(e*t.scale,e,t.factor),a(e,t))}function c(e,t,n,r){r.scale=function(e,t,n){var r=i(e,t,n);return r.minPixelSize=0,r.paddingPixels=0,o(1,r)}(e,t,n),r.factor=0,r.minPixelSize=n.parameters.minPixelSize,r.paddingPixels=n.paddingPixelsOverride}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],r=Math.min(Math.max(t.scale,a(e[1],t)/e[1]),1);return n[0]=e[0]*r,n[1]=e[1]*r,n}function s(e,t,n,r){return o(e,i(t,n,r))}Object(r.g)(10),Object(r.g)(12),Object(r.g)(70),Object(r.g)(40);var f={scale:0,factor:0,minPixelSize:0,paddingPixels:0}},915:function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n;++r)t[2*r]=e[r],t[2*r+1]=e[r]-t[2*r]}function i(e,t,n,i){for(var c=0;c<i;++c)a[0]=e[c],r(a,o,1),t[c]=o[0],n[c]=o[1]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var a=new Float64Array(1),o=new Float32Array(2)},916:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f}));var r=n(15),i=n(4),a=n(5),o=n(6),c=n(7),u=function(e){return function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.apply(this,arguments))._isDisposed=!1,e}return Object(a.a)(n,[{key:"dispose",value:function(){var e,t=Object(r.a)(null!=(n=this._managedDisposables)?n:[]);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,a=this[i];this[i]=null,a&&"function"==typeof a.dispose&&a.dispose()}}catch(o){t.e(o)}finally{t.f()}this._isDisposed=!0}},{key:"isDisposed",get:function(){return this._isDisposed}}]),n}(e)},s=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return n}(u(function(){return function e(){Object(i.a)(this,e)}}()));function f(){return function(e,t){var n,r;e.hasOwnProperty("_managedDisposables")||(e._managedDisposables=null!=(n=null==(r=e._managedDisposables)?void 0:r.slice())?n:[]),e._managedDisposables.unshift(t)}}},917:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a}));var r={func:513},i={func:519},a={mask:255},o={mask:0},c={function:{func:519,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:0}},u={function:{func:519,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:7681}},s={function:{func:514,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:7680}},f={function:{func:517,ref:2,mask:2},operation:{fail:7680,zFail:7680,zPass:7680}}}}]);
//# sourceMappingURL=8.a14b5174.chunk.js.map