(this["webpackJsonptesting-ant-cra"]=this["webpackJsonptesting-ant-cra"]||[]).push([[35],{646:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i(4),n=i(5),r=function(){function e(t,i){Object(s.a)(this,e),this.x=t,this.y=i}return Object(n.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"equals",value:function(e,t){return e===this.x&&t===this.y}},{key:"isEqual",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"setCoords",value:function(e,t){this.x=e,this.y=t}},{key:"normalize",value:function(){var e=this.x,t=this.y,i=Math.sqrt(e*e+t*t);this.x/=i,this.y/=i}},{key:"rightPerpendicular",value:function(){var e=this.x;this.x=this.y,this.y=-e}},{key:"move",value:function(e,t){this.x+=e,this.y+=t}},{key:"assign",value:function(e){this.x=e.x,this.y=e.y}},{key:"assignAdd",value:function(e,t){this.x=e.x+t.x,this.y=e.y+t.y}},{key:"assignSub",value:function(e,t){this.x=e.x-t.x,this.y=e.y-t.y}},{key:"rotate",value:function(e,t){var i=this.x,s=this.y;this.x=i*e-s*t,this.y=i*t+s*e}},{key:"scale",value:function(e){this.x*=e,this.y*=e}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}}],[{key:"distance",value:function(e,t){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}},{key:"add",value:function(t,i){return new e(t.x+i.x,t.y+i.y)}},{key:"sub",value:function(t,i){return new e(t.x-i.x,t.y-i.y)}}]),e}()},660:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return h}));var s=i(5),n=i(4),r=i(592),o=i(646),a=i(610),l=function e(t,i,s){Object(n.a)(this,e),this.ratio=t,this.x=i,this.y=s},h=function(){function e(t,i,s){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:8;Object(n.a)(this,e),this.lines=[],this.starts=[],this.validateTessellation=!0,this.pixelRatio=o,this.pixelMargin=a,this.tileSize=r.E*o,this.dz=t,this.yPos=i,this.xPos=s}return Object(s.a)(e,[{key:"setPixelMargin",value:function(e){e!==this.pixelMargin&&(this.pixelMargin=e,this.setExtent(this._extent))}},{key:"setExtent",value:function(e){this._extent=e,this.finalRatio=this.tileSize/e*(1<<this.dz);var t=this.pixelRatio*this.pixelMargin;t/=this.finalRatio;var i=e>>this.dz;t>i&&(t=i),this.margin=t,this.xmin=i*this.xPos-t,this.ymin=i*this.yPos-t,this.xmax=this.xmin+i+2*t,this.ymax=this.ymin+i+2*t}},{key:"reset",value:function(e){this.type=e,this.lines=[],this.starts=[],this.line=null,this.start=0}},{key:"moveTo",value:function(e,t){this._pushLine(),this._prevIsIn=this._isIn(e,t),this._moveTo(e,t,this._prevIsIn),this._prevPt=new o.a(e,t),this._firstPt=new o.a(e,t),this._dist=0}},{key:"lineTo",value:function(e,t){var i,s,n,r,a,h,u,_,g=this._isIn(e,t),d=new o.a(e,t),c=o.a.distance(this._prevPt,d);if(g)this._prevIsIn?this._lineTo(e,t,!0):(i=this._prevPt,s=d,n=this._intersect(s,i),this.start=this._dist+c*(1-this._r),this._lineTo(n.x,n.y,!0),this._lineTo(s.x,s.y,!0));else if(this._prevIsIn)s=this._prevPt,i=d,n=this._intersect(s,i),this._lineTo(n.x,n.y,!0),this._lineTo(i.x,i.y,!1);else{var x=this._prevPt,y=d;if(x.x<=this.xmin&&y.x<=this.xmin||x.x>=this.xmax&&y.x>=this.xmax||x.y<=this.ymin&&y.y<=this.ymin||x.y>=this.ymax&&y.y>=this.ymax)this._lineTo(y.x,y.y,!1);else{var m=[];if((x.x<this.xmin&&y.x>this.xmin||x.x>this.xmin&&y.x<this.xmin)&&(r=(this.xmin-x.x)/(y.x-x.x),(_=x.y+r*(y.y-x.y))<=this.ymin?h=!1:_>=this.ymax?h=!0:m.push(new l(r,this.xmin,_))),(x.x<this.xmax&&y.x>this.xmax||x.x>this.xmax&&y.x<this.xmax)&&(r=(this.xmax-x.x)/(y.x-x.x),(_=x.y+r*(y.y-x.y))<=this.ymin?h=!1:_>=this.ymax?h=!0:m.push(new l(r,this.xmax,_))),(x.y<this.ymin&&y.y>this.ymin||x.y>this.ymin&&y.y<this.ymin)&&(r=(this.ymin-x.y)/(y.y-x.y),(u=x.x+r*(y.x-x.x))<=this.xmin?a=!1:u>=this.xmax?a=!0:m.push(new l(r,u,this.ymin))),(x.y<this.ymax&&y.y>this.ymax||x.y>this.ymax&&y.y<this.ymax)&&(r=(this.ymax-x.y)/(y.y-x.y),(u=x.x+r*(y.x-x.x))<=this.xmin?a=!1:u>=this.xmax?a=!0:m.push(new l(r,u,this.ymax))),0===m.length)a?h?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):h?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(m.length>1&&m[0].ratio>m[1].ratio)this.start=this._dist+c*m[1].ratio,this._lineTo(m[1].x,m[1].y,!0),this._lineTo(m[0].x,m[0].y,!0);else{this.start=this._dist+c*m[0].ratio;for(var p=0;p<m.length;p++)this._lineTo(m[p].x,m[p].y,!0)}this._lineTo(y.x,y.y,!1)}}this._dist+=c,this._prevIsIn=g,this._prevPt=d}},{key:"close",value:function(){if(this.line.length>2){var e=this._firstPt,t=this._prevPt;e.x===t.x&&e.y===t.y||this.lineTo(e.x,e.y);for(var i=this.line,s=i.length;s>=4&&(i[0].x===i[1].x&&i[0].x===i[s-2].x||i[0].y===i[1].y&&i[0].y===i[s-2].y);)i.pop(),i[0].x=i[s-2].x,i[0].y=i[s-2].y,--s}}},{key:"result",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._pushLine(),0===this.lines.length?null:(3===this.type&&e&&_.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)}},{key:"resultWithStarts",value:function(){if(2!==this.type)throw new Error("Only valid for lines");this._pushLine();var e=this.lines,t=e.length;if(0===t)return null;for(var i=[],s=0;s<t;s++)i.push({line:e[s],start:this.starts[s]||0});return i}},{key:"_isIn",value:function(e,t){return e>=this.xmin&&e<=this.xmax&&t>=this.ymin&&t<=this.ymax}},{key:"_intersect",value:function(e,t){var i,s,n;if(t.x>=this.xmin&&t.x<=this.xmax)n=((s=t.y<=this.ymin?this.ymin:this.ymax)-e.y)/(t.y-e.y),i=e.x+n*(t.x-e.x);else if(t.y>=this.ymin&&t.y<=this.ymax)n=((i=t.x<=this.xmin?this.xmin:this.xmax)-e.x)/(t.x-e.x),s=e.y+n*(t.y-e.y);else{s=t.y<=this.ymin?this.ymin:this.ymax;var r=((i=t.x<=this.xmin?this.xmin:this.xmax)-e.x)/(t.x-e.x),a=(s-e.y)/(t.y-e.y);r<a?(n=r,s=e.y+r*(t.y-e.y)):(n=a,i=e.x+a*(t.x-e.x))}return this._r=n,new o.a(i,s)}},{key:"_pushLine",value:function(){this.line&&(1===this.type?this.line.length>0&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?this.line.length>1&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&this.line.length>3&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0}},{key:"_moveTo",value:function(e,t,i){3!==this.type?i&&(e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new o.a(e,t))):(i||(e<this.xmin&&(e=this.xmin),e>this.xmax&&(e=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.push(new o.a(e,t)),this._is_h=!1,this._is_v=!1)}},{key:"_lineTo",value:function(e,t,i){var s,n;if(3!==this.type)if(i){if(e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line.length>0&&(s=this.line[this.line.length-1]).equals(e,t))return;this.line.push(new o.a(e,t))}else this.line&&this.line.length>0&&this._pushLine();else if(i||(e<this.xmin&&(e=this.xmin),e>this.xmax&&(e=this.xmax),t<this.ymin&&(t=this.ymin),t>this.ymax&&(t=this.ymax)),e=Math.round((e-(this.xmin+this.margin))*this.finalRatio),t=Math.round((t-(this.ymin+this.margin))*this.finalRatio),this.line&&this.line.length>0){var r=(s=this.line[this.line.length-1]).x===e,a=s.y===t;if(r&&a)return;this._is_h&&r||this._is_v&&a?(s.x=e,s.y=t,(n=this.line[this.line.length-2]).x===e&&n.y===t?(this.line.pop(),this.line.length<=1?(this._is_h=!1,this._is_v=!1):(n=this.line[this.line.length-2],this._is_h=n.x===e,this._is_v=n.y===t)):(this._is_h=n.x===e,this._is_v=n.y===t)):(this.line.push(new o.a(e,t)),this._is_h=r,this._is_v=a)}else this.line.push(new o.a(e,t))}}]),e}(),u=function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,[{key:"setExtent",value:function(e){this._ratio=4096===e?1:4096/e}},{key:"validateTessellation",get:function(){return this._ratio<1}},{key:"reset",value:function(e){this.lines=[],this.line=null}},{key:"moveTo",value:function(e,t){this.line&&this.lines.push(this.line),this.line=[];var i=this._ratio;this.line.push(new o.a(e*i,t*i))}},{key:"lineTo",value:function(e,t){var i=this._ratio;this.line.push(new o.a(e*i,t*i))}},{key:"close",value:function(){var e=this.line;e&&!e[0].isEqual(e[e.length-1])&&e.push(e[0])}},{key:"result",value:function(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:this.lines}}]),e}(),_=function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,null,[{key:"simplify",value:function(t,i,s){if(s){for(var n=-i,r=t+i,o=-i,a=t+i,l=[],h=[],u=s.length,_=0;_<u;++_){var g=s[_];if(g&&!(g.length<2))for(var d=void 0,c=g[0],x=g.length,y=1;y<x;++y)d=g[y],c.x===d.x&&(c.x<=n&&(c.y>d.y?(l.push(_),l.push(y),l.push(0),l.push(-1)):(h.push(_),h.push(y),h.push(0),h.push(-1))),c.x>=r&&(c.y<d.y?(l.push(_),l.push(y),l.push(1),l.push(-1)):(h.push(_),h.push(y),h.push(1),h.push(-1)))),c.y===d.y&&(c.y<=o&&(c.x<d.x?(l.push(_),l.push(y),l.push(2),l.push(-1)):(h.push(_),h.push(y),h.push(2),h.push(-1))),c.y>=a&&(c.x>d.x?(l.push(_),l.push(y),l.push(3),l.push(-1)):(h.push(_),h.push(y),h.push(3),h.push(-1)))),c=d}if(0!==l.length&&0!==h.length){e.fillParent(s,h,l),e.fillParent(s,l,h);var m=[];e.calcDeltas(m,h,l),e.calcDeltas(m,l,h),e.addDeltas(m,s)}}}},{key:"fillParent",value:function(e,t,i){for(var s=i.length,n=t.length,r=0;r<n;r+=4){for(var o=t[r],l=t[r+1],h=t[r+2],u=e[o][l-1],_=e[o][l],g=8092,d=-1,c=0;c<s;c+=4)if(i[c+2]===h){var x=i[c],y=i[c+1],m=e[x][y-1],p=e[x][y];switch(h){case 0:case 1:if(Object(a.a)(u.y,m.y,p.y)&&Object(a.a)(_.y,m.y,p.y)){var v=Math.abs(p.y-m.y);v<g&&(g=v,d=c)}break;case 2:case 3:if(Object(a.a)(u.x,m.x,p.x)&&Object(a.a)(_.x,m.x,p.x)){var f=Math.abs(p.x-m.x);f<g&&(g=f,d=c)}}}t[r+3]=d}}},{key:"calcDeltas",value:function(t,i,s){for(var n=i.length,r=0;r<n;r+=4){var o=e.calcDelta(r,i,s,[]);t.push(i[r]),t.push(i[r+1]),t.push(i[r+2]),t.push(o)}}},{key:"calcDelta",value:function(t,i,s,n){var r=i[t+3];if(-1===r)return 0;var o=n.length;return o>1&&n[o-2]===r?0:(n.push(r),e.calcDelta(r,s,i,n)+1)}},{key:"addDeltas",value:function(e,t){for(var i=e.length,s=0,n=0;n<i;n+=4){var r=e[n+3];r>s&&(s=r)}for(var o=0;o<i;o+=4){var a=t[e[o]],l=e[o+1],h=s-e[o+3];switch(e[o+2]){case 0:a[l-1].x-=h,a[l].x-=h,1===l&&(a[a.length-1].x-=h),l===a.length-1&&(a[0].x-=h);break;case 1:a[l-1].x+=h,a[l].x+=h,1===l&&(a[a.length-1].x+=h),l===a.length-1&&(a[0].x+=h);break;case 2:a[l-1].y-=h,a[l].y-=h,1===l&&(a[a.length-1].y-=h),l===a.length-1&&(a[0].y-=h);break;case 3:a[l-1].y+=h,a[l].y+=h,1===l&&(a[a.length-1].y+=h),l===a.length-1&&(a[0].y+=h)}}}}]),e}()},661:function(e,t,i){"use strict";var s,n,r,o=i(4),a=i(5),l=i(12),h={exports:{}};s=h,n=function(){var e={DEBUG:!1,assert:function(t,i){if(e.DEBUG&&!t)throw new Error("Assertion failed"+(i?": "+i:""))},GLU_TESS_MAX_COORD:1e150,TRUE_PROJECT:!1,GLU_TESS_DEFAULT_TOLERANCE:0,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111,GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901},geom:{}};return e.geom.vertEq=function(e,t){return e.s===t.s&&e.t===t.t},e.geom.vertLeq=function(e,t){return e.s<t.s||e.s===t.s&&e.t<=t.t},e.geom.edgeEval=function(t,i,s){e.assert(e.geom.vertLeq(t,i)&&e.geom.vertLeq(i,s));var n=i.s-t.s,r=s.s-i.s;return n+r>0?n<r?i.t-t.t+(t.t-s.t)*(n/(n+r)):i.t-s.t+(s.t-t.t)*(r/(n+r)):0},e.geom.edgeSign=function(t,i,s){e.assert(e.geom.vertLeq(t,i)&&e.geom.vertLeq(i,s));var n=i.s-t.s,r=s.s-i.s;return n+r>0?(i.t-s.t)*n+(i.t-t.t)*r:0},e.geom.transLeq=function(e,t){return e.t<t.t||e.t===t.t&&e.s<=t.s},e.geom.transEval=function(t,i,s){e.assert(e.geom.transLeq(t,i)&&e.geom.transLeq(i,s));var n=i.t-t.t,r=s.t-i.t;return n+r>0?n<r?i.s-t.s+(t.s-s.s)*(n/(n+r)):i.s-s.s+(s.s-t.s)*(r/(n+r)):0},e.geom.transSign=function(t,i,s){e.assert(e.geom.transLeq(t,i)&&e.geom.transLeq(i,s));var n=i.t-t.t,r=s.t-i.t;return n+r>0?(i.s-s.s)*n+(i.s-t.s)*r:0},e.geom.edgeGoesLeft=function(t){return e.geom.vertLeq(t.dst(),t.org)},e.geom.edgeGoesRight=function(t){return e.geom.vertLeq(t.org,t.dst())},e.geom.vertL1dist=function(e,t){return Math.abs(e.s-t.s)+Math.abs(e.t-t.t)},e.geom.vertCCW=function(e,t,i){return e.s*(t.t-i.t)+t.s*(i.t-e.t)+i.s*(e.t-t.t)>=0},e.geom.interpolate_=function(e,t,i,s){return(e=e<0?0:e)<=(i=i<0?0:i)?0===i?(t+s)/2:t+e/(e+i)*(s-t):s+i/(e+i)*(t-s)},e.geom.edgeIntersect=function(t,i,s,n,r){var o,a,l;e.geom.vertLeq(t,i)||(l=t,t=i,i=l),e.geom.vertLeq(s,n)||(l=s,s=n,n=l),e.geom.vertLeq(t,s)||(l=t,t=s,s=l,l=i,i=n,n=l),e.geom.vertLeq(s,i)?e.geom.vertLeq(i,n)?((o=e.geom.edgeEval(t,s,i))+(a=e.geom.edgeEval(s,i,n))<0&&(o=-o,a=-a),r.s=e.geom.interpolate_(o,s.s,a,i.s)):((o=e.geom.edgeSign(t,s,i))+(a=-e.geom.edgeSign(t,n,i))<0&&(o=-o,a=-a),r.s=e.geom.interpolate_(o,s.s,a,n.s)):r.s=(s.s+i.s)/2,e.geom.transLeq(t,i)||(l=t,t=i,i=l),e.geom.transLeq(s,n)||(l=s,s=n,n=l),e.geom.transLeq(t,s)||(l=t,t=s,s=l,l=i,i=n,n=l),e.geom.transLeq(s,i)?e.geom.transLeq(i,n)?((o=e.geom.transEval(t,s,i))+(a=e.geom.transEval(s,i,n))<0&&(o=-o,a=-a),r.t=e.geom.interpolate_(o,s.t,a,i.t)):((o=e.geom.transSign(t,s,i))+(a=-e.geom.transSign(t,n,i))<0&&(o=-o,a=-a),r.t=e.geom.interpolate_(o,s.t,a,n.t)):r.t=(s.t+i.t)/2},e.mesh={},e.mesh.makeEdge=function(t){var i=e.mesh.makeEdgePair_(t.eHead);return e.mesh.makeVertex_(i,t.vHead),e.mesh.makeVertex_(i.sym,t.vHead),e.mesh.makeFace_(i,t.fHead),i},e.mesh.meshSplice=function(t,i){var s=!1,n=!1;t!==i&&(i.org!==t.org&&(n=!0,e.mesh.killVertex_(i.org,t.org)),i.lFace!==t.lFace&&(s=!0,e.mesh.killFace_(i.lFace,t.lFace)),e.mesh.splice_(i,t),n||(e.mesh.makeVertex_(i,t.org),t.org.anEdge=t),s||(e.mesh.makeFace_(i,t.lFace),t.lFace.anEdge=t))},e.mesh.deleteEdge=function(t){var i=t.sym,s=!1;t.lFace!==t.rFace()&&(s=!0,e.mesh.killFace_(t.lFace,t.rFace())),t.oNext===t?e.mesh.killVertex_(t.org,null):(t.rFace().anEdge=t.oPrev(),t.org.anEdge=t.oNext,e.mesh.splice_(t,t.oPrev()),s||e.mesh.makeFace_(t,t.lFace)),i.oNext===i?(e.mesh.killVertex_(i.org,null),e.mesh.killFace_(i.lFace,null)):(t.lFace.anEdge=i.oPrev(),i.org.anEdge=i.oNext,e.mesh.splice_(i,i.oPrev())),e.mesh.killEdge_(t)},e.mesh.addEdgeVertex=function(t){var i=e.mesh.makeEdgePair_(t),s=i.sym;return e.mesh.splice_(i,t.lNext),i.org=t.dst(),e.mesh.makeVertex_(s,i.org),i.lFace=s.lFace=t.lFace,i},e.mesh.splitEdge=function(t){var i=e.mesh.addEdgeVertex(t).sym;return e.mesh.splice_(t.sym,t.sym.oPrev()),e.mesh.splice_(t.sym,i),t.sym.org=i.org,i.dst().anEdge=i.sym,i.sym.lFace=t.rFace(),i.winding=t.winding,i.sym.winding=t.sym.winding,i},e.mesh.connect=function(t,i){var s=!1,n=e.mesh.makeEdgePair_(t),r=n.sym;return i.lFace!==t.lFace&&(s=!0,e.mesh.killFace_(i.lFace,t.lFace)),e.mesh.splice_(n,t.lNext),e.mesh.splice_(r,i),n.org=t.dst(),r.org=i.org,n.lFace=r.lFace=t.lFace,t.lFace.anEdge=r,s||e.mesh.makeFace_(n,t.lFace),n},e.mesh.zapFace=function(t){var i,s=t.anEdge,n=s.lNext;do{if(n=(i=n).lNext,i.lFace=null,null===i.rFace()){i.oNext===i?e.mesh.killVertex_(i.org,null):(i.org.anEdge=i.oNext,e.mesh.splice_(i,i.oPrev()));var r=i.sym;r.oNext===r?e.mesh.killVertex_(r.org,null):(r.org.anEdge=r.oNext,e.mesh.splice_(r,r.oPrev())),e.mesh.killEdge_(i)}}while(i!==s);var o=t.prev,a=t.next;a.prev=o,o.next=a},e.mesh.meshUnion=function(e,t){var i=e.fHead,s=e.vHead,n=e.eHead,r=t.fHead,o=t.vHead,a=t.eHead;return r.next!==r&&(i.prev.next=r.next,r.next.prev=i.prev,r.prev.next=i,i.prev=r.prev),o.next!==o&&(s.prev.next=o.next,o.next.prev=s.prev,o.prev.next=s,s.prev=o.prev),a.next!==a&&(n.sym.next.sym.next=a.next,a.next.sym.next=n.sym.next,a.sym.next.sym.next=n,n.sym.next=a.sym.next),e},e.mesh.deleteMesh=function(e){},e.mesh.makeEdgePair_=function(t){var i=new e.GluHalfEdge,s=new e.GluHalfEdge,n=t.sym.next;return s.next=n,n.sym.next=i,i.next=t,t.sym.next=s,i.sym=s,i.oNext=i,i.lNext=s,s.sym=i,s.oNext=s,s.lNext=i,i},e.mesh.splice_=function(e,t){var i=e.oNext,s=t.oNext;i.sym.lNext=t,s.sym.lNext=e,e.oNext=s,t.oNext=i},e.mesh.makeVertex_=function(t,i){var s=i.prev,n=new e.GluVertex(i,s);s.next=n,i.prev=n,n.anEdge=t;var r=t;do{r.org=n,r=r.oNext}while(r!==t)},e.mesh.makeFace_=function(t,i){var s=i.prev,n=new e.GluFace(i,s);s.next=n,i.prev=n,n.anEdge=t,n.inside=i.inside;var r=t;do{r.lFace=n,r=r.lNext}while(r!==t)},e.mesh.killEdge_=function(e){var t=e.next,i=e.sym.next;t.sym.next=i,i.sym.next=t},e.mesh.killVertex_=function(e,t){var i=e.anEdge,s=i;do{s.org=t,s=s.oNext}while(s!==i);var n=e.prev,r=e.next;r.prev=n,n.next=r},e.mesh.killFace_=function(e,t){var i=e.anEdge,s=i;do{s.lFace=t,s=s.lNext}while(s!==i);var n=e.prev,r=e.next;r.prev=n,n.next=r},e.normal={},e.normal.S_UNIT_X_=1,e.normal.S_UNIT_Y_=0,e.normal.projectPolygon=function(t,i,s,n){var r=!1,o=[i,s,n];0===i&&0===s&&0===n&&(e.normal.computeNormal_(t,o),r=!0);var a,l=e.normal.longAxis_(o),h=t.mesh.vHead;if(e.TRUE_PROJECT){e.normal.normalize_(o);var u=[0,0,0],_=[0,0,0];u[l]=0,u[(l+1)%3]=e.normal.S_UNIT_X_,u[(l+2)%3]=e.normal.S_UNIT_Y_;var g=e.normal.dot_(u,o);for(u[0]-=g*o[0],u[1]-=g*o[1],u[2]-=g*o[2],e.normal.normalize_(u),_[0]=o[1]*u[2]-o[2]*u[1],_[1]=o[2]*u[0]-o[0]*u[2],_[2]=o[0]*u[1]-o[1]*u[0],e.normal.normalize_(_),a=h.next;a!==h;a=a.next)a.s=e.normal.dot_(a.coords,u),a.t=e.normal.dot_(a.coords,_)}else{var d=(l+1)%3,c=(l+2)%3,x=o[l]>0?1:-1;for(a=h.next;a!==h;a=a.next)a.s=a.coords[d],a.t=x*a.coords[c]}r&&e.normal.checkOrientation_(t)},e.normal.dot_=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.normal.normalize_=function(t){var i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];e.assert(i>0),i=Math.sqrt(i),t[0]/=i,t[1]/=i,t[2]/=i},e.normal.longAxis_=function(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])&&(t=2),t},e.normal.computeNormal_=function(t,i){var s,n=[-2*e.GLU_TESS_MAX_COORD,-2*e.GLU_TESS_MAX_COORD,-2*e.GLU_TESS_MAX_COORD],r=[2*e.GLU_TESS_MAX_COORD,2*e.GLU_TESS_MAX_COORD,2*e.GLU_TESS_MAX_COORD],o=[],a=[],l=t.mesh.vHead;for(s=l.next;s!==l;s=s.next)for(var h=0;h<3;++h){var u=s.coords[h];u<r[h]&&(r[h]=u,a[h]=s),u>n[h]&&(n[h]=u,o[h]=s)}var _=0;if(n[1]-r[1]>n[0]-r[0]&&(_=1),n[2]-r[2]>n[_]-r[_]&&(_=2),r[_]>=n[_])return i[0]=0,i[1]=0,void(i[2]=1);var g=0,d=a[_],c=o[_],x=[0,0,0],y=[d.coords[0]-c.coords[0],d.coords[1]-c.coords[1],d.coords[2]-c.coords[2]],m=[0,0,0];for(s=l.next;s!==l;s=s.next){m[0]=s.coords[0]-c.coords[0],m[1]=s.coords[1]-c.coords[1],m[2]=s.coords[2]-c.coords[2],x[0]=y[1]*m[2]-y[2]*m[1],x[1]=y[2]*m[0]-y[0]*m[2],x[2]=y[0]*m[1]-y[1]*m[0];var p=x[0]*x[0]+x[1]*x[1]+x[2]*x[2];p>g&&(g=p,i[0]=x[0],i[1]=x[1],i[2]=x[2])}g<=0&&(i[0]=i[1]=i[2]=0,i[e.normal.longAxis_(y)]=1)},e.normal.checkOrientation_=function(e){for(var t=0,i=e.mesh.fHead,s=i.next;s!==i;s=s.next){var n=s.anEdge;if(!(n.winding<=0))do{t+=(n.org.s-n.dst().s)*(n.org.t+n.dst().t),n=n.lNext}while(n!==s.anEdge)}if(t<0)for(var r=e.mesh.vHead,o=r.next;o!==r;o=o.next)o.t=-o.t},e.render={},e.render.renderMesh=function(t,i,s){for(var n=!1,r=-1,o=i.fHead.prev;o!==i.fHead;o=o.prev)if(o.inside){n||(t.callBeginCallback(e.primitiveType.GL_TRIANGLES),n=!0);var a=o.anEdge;e.assert(a.lNext.lNext.lNext===a,"renderMesh called with non-triangulated mesh");do{if(s){var l=a.rFace().inside?0:1;r!==l&&(r=l,t.callEdgeFlagCallback(!!r))}t.callVertexCallback(a.org.data),a=a.lNext}while(a!==o.anEdge)}n&&t.callEndCallback()},e.render.renderBoundary=function(t,i){for(var s=i.fHead.next;s!==i.fHead;s=s.next)if(s.inside){t.callBeginCallback(e.primitiveType.GL_LINE_LOOP);var n=s.anEdge;do{t.callVertexCallback(n.org.data),n=n.lNext}while(n!==s.anEdge);t.callEndCallback()}},e.sweep={},e.sweep.SENTINEL_COORD_=4*e.GLU_TESS_MAX_COORD,e.sweep.TOLERANCE_NONZERO_=!1,e.sweep.computeInterior=function(t){var i;for(t.fatalError=!1,e.sweep.removeDegenerateEdges_(t),e.sweep.initPriorityQ_(t),e.sweep.initEdgeDict_(t);null!==(i=t.pq.extractMin());){for(;;){var s=t.pq.minimum();if(null===s||!e.geom.vertEq(s,i))break;s=t.pq.extractMin(),e.sweep.spliceMergeVertices_(t,i.anEdge,s.anEdge)}e.sweep.sweepEvent_(t,i)}var n=t.dict.getMin().getKey();t.event=n.eUp.org,e.sweep.doneEdgeDict_(t),e.sweep.donePriorityQ_(t),e.sweep.removeDegenerateFaces_(t.mesh),t.mesh.checkMesh()},e.sweep.addWinding_=function(e,t){e.winding+=t.winding,e.sym.winding+=t.sym.winding},e.sweep.edgeLeq_=function(t,i,s){var n=t.event,r=i.eUp,o=s.eUp;return r.dst()===n?o.dst()===n?e.geom.vertLeq(r.org,o.org)?e.geom.edgeSign(o.dst(),r.org,o.org)<=0:e.geom.edgeSign(r.dst(),o.org,r.org)>=0:e.geom.edgeSign(o.dst(),n,o.org)<=0:o.dst()===n?e.geom.edgeSign(r.dst(),n,r.org)>=0:e.geom.edgeEval(r.dst(),n,r.org)>=e.geom.edgeEval(o.dst(),n,o.org)},e.sweep.deleteRegion_=function(t,i){i.fixUpperEdge&&e.assert(0===i.eUp.winding),i.eUp.activeRegion=null,t.dict.deleteNode(i.nodeUp),i.nodeUp=null},e.sweep.fixUpperEdge_=function(t,i){e.assert(t.fixUpperEdge),e.mesh.deleteEdge(t.eUp),t.fixUpperEdge=!1,t.eUp=i,i.activeRegion=t},e.sweep.topLeftRegion_=function(t){var i=t.eUp.org;do{t=t.regionAbove()}while(t.eUp.org===i);if(t.fixUpperEdge){var s=e.mesh.connect(t.regionBelow().eUp.sym,t.eUp.lNext);e.sweep.fixUpperEdge_(t,s),t=t.regionAbove()}return t},e.sweep.topRightRegion_=function(e){var t=e.eUp.dst();do{e=e.regionAbove()}while(e.eUp.dst()===t);return e},e.sweep.addRegionBelow_=function(t,i,s){var n=new e.ActiveRegion;return n.eUp=s,n.nodeUp=t.dict.insertBefore(i.nodeUp,n),s.activeRegion=n,n},e.sweep.isWindingInside_=function(t,i){switch(t.windingRule){case e.windingRule.GLU_TESS_WINDING_ODD:return 0!=(1&i);case e.windingRule.GLU_TESS_WINDING_NONZERO:return 0!==i;case e.windingRule.GLU_TESS_WINDING_POSITIVE:return i>0;case e.windingRule.GLU_TESS_WINDING_NEGATIVE:return i<0;case e.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return i>=2||i<=-2}return e.assert(!1),!1},e.sweep.computeWinding_=function(t,i){i.windingNumber=i.regionAbove().windingNumber+i.eUp.winding,i.inside=e.sweep.isWindingInside_(t,i.windingNumber)},e.sweep.finishRegion_=function(t,i){var s=i.eUp,n=s.lFace;n.inside=i.inside,n.anEdge=s,e.sweep.deleteRegion_(t,i)},e.sweep.finishLeftRegions_=function(t,i,s){for(var n=i,r=i.eUp;n!==s;){n.fixUpperEdge=!1;var o=n.regionBelow(),a=o.eUp;if(a.org!==r.org){if(!o.fixUpperEdge){e.sweep.finishRegion_(t,n);break}a=e.mesh.connect(r.lPrev(),a.sym),e.sweep.fixUpperEdge_(o,a)}r.oNext!==a&&(e.mesh.meshSplice(a.oPrev(),a),e.mesh.meshSplice(r,a)),e.sweep.finishRegion_(t,n),r=o.eUp,n=o}return r},e.sweep.addRightEdges_=function(t,i,s,n,r,o){var a=!0,l=s;do{e.assert(e.geom.vertLeq(l.org,l.dst())),e.sweep.addRegionBelow_(t,i,l.sym),l=l.oNext}while(l!==n);null===r&&(r=i.regionBelow().eUp.rPrev());for(var h,u=i,_=r;(l=(h=u.regionBelow()).eUp.sym).org===_.org;)l.oNext!==_&&(e.mesh.meshSplice(l.oPrev(),l),e.mesh.meshSplice(_.oPrev(),l)),h.windingNumber=u.windingNumber-l.winding,h.inside=e.sweep.isWindingInside_(t,h.windingNumber),u.dirty=!0,!a&&e.sweep.checkForRightSplice_(t,u)&&(e.sweep.addWinding_(l,_),e.sweep.deleteRegion_(t,u),e.mesh.deleteEdge(_)),a=!1,u=h,_=l;u.dirty=!0,e.assert(u.windingNumber-l.winding===h.windingNumber),o&&e.sweep.walkDirtyRegions_(t,u)},e.sweep.callCombine_=function(t,i,s,n,r){var o=[i.coords[0],i.coords[1],i.coords[2]];i.data=null,i.data=t.callCombineCallback(o,s,n),null===i.data&&(r?t.fatalError||(t.callErrorCallback(e.errorType.GLU_TESS_NEED_COMBINE_CALLBACK),t.fatalError=!0):i.data=s[0])},e.sweep.spliceMergeVertices_=function(t,i,s){var n=[null,null,null,null];n[0]=i.org.data,n[1]=s.org.data,e.sweep.callCombine_(t,i.org,n,[.5,.5,0,0],!1),e.mesh.meshSplice(i,s)},e.sweep.vertexWeights_=function(t,i,s,n,r){var o=e.geom.vertL1dist(i,t),a=e.geom.vertL1dist(s,t),l=r,h=r+1;n[l]=.5*a/(o+a),n[h]=.5*o/(o+a),t.coords[0]+=n[l]*i.coords[0]+n[h]*s.coords[0],t.coords[1]+=n[l]*i.coords[1]+n[h]*s.coords[1],t.coords[2]+=n[l]*i.coords[2]+n[h]*s.coords[2]},e.sweep.getIntersectData_=function(t,i,s,n,r,o){var a=[0,0,0,0],l=[s.data,n.data,r.data,o.data];i.coords[0]=i.coords[1]=i.coords[2]=0,e.sweep.vertexWeights_(i,s,n,a,0),e.sweep.vertexWeights_(i,r,o,a,2),e.sweep.callCombine_(t,i,l,a,!0)},e.sweep.checkForRightSplice_=function(t,i){var s=i.regionBelow(),n=i.eUp,r=s.eUp;if(e.geom.vertLeq(n.org,r.org)){if(e.geom.edgeSign(r.dst(),n.org,r.org)>0)return!1;e.geom.vertEq(n.org,r.org)?n.org!==r.org&&(t.pq.remove(n.org.pqHandle),e.sweep.spliceMergeVertices_(t,r.oPrev(),n)):(e.mesh.splitEdge(r.sym),e.mesh.meshSplice(n,r.oPrev()),i.dirty=s.dirty=!0)}else{if(e.geom.edgeSign(n.dst(),r.org,n.org)<0)return!1;i.regionAbove().dirty=i.dirty=!0,e.mesh.splitEdge(n.sym),e.mesh.meshSplice(r.oPrev(),n)}return!0},e.sweep.checkForLeftSplice_=function(t,i){var s,n=i.regionBelow(),r=i.eUp,o=n.eUp;if(e.assert(!e.geom.vertEq(r.dst(),o.dst())),e.geom.vertLeq(r.dst(),o.dst())){if(e.geom.edgeSign(r.dst(),o.dst(),r.org)<0)return!1;i.regionAbove().dirty=i.dirty=!0,s=e.mesh.splitEdge(r),e.mesh.meshSplice(o.sym,s),s.lFace.inside=i.inside}else{if(e.geom.edgeSign(o.dst(),r.dst(),o.org)>0)return!1;i.dirty=n.dirty=!0,s=e.mesh.splitEdge(o),e.mesh.meshSplice(r.lNext,o.sym),s.rFace().inside=i.inside}return!0},e.sweep.checkForIntersect_=function(t,i){var s=i.regionBelow(),n=i.eUp,r=s.eUp,o=n.org,a=r.org,l=n.dst(),h=r.dst(),u=new e.GluVertex;if(e.assert(!e.geom.vertEq(h,l)),e.assert(e.geom.edgeSign(l,t.event,o)<=0),e.assert(e.geom.edgeSign(h,t.event,a)>=0),e.assert(o!==t.event&&a!==t.event),e.assert(!i.fixUpperEdge&&!s.fixUpperEdge),o===a)return!1;if(Math.min(o.t,l.t)>Math.max(a.t,h.t))return!1;if(e.geom.vertLeq(o,a)){if(e.geom.edgeSign(h,o,a)>0)return!1}else if(e.geom.edgeSign(l,a,o)<0)return!1;e.geom.edgeIntersect(l,o,h,a,u),e.assert(Math.min(o.t,l.t)<=u.t),e.assert(u.t<=Math.max(a.t,h.t)),e.assert(Math.min(h.s,l.s)<=u.s),e.assert(u.s<=Math.max(a.s,o.s)),e.geom.vertLeq(u,t.event)&&(u.s=t.event.s,u.t=t.event.t);var _=e.geom.vertLeq(o,a)?o:a;if(e.geom.vertLeq(_,u)&&(u.s=_.s,u.t=_.t),e.geom.vertEq(u,o)||e.geom.vertEq(u,a))return e.sweep.checkForRightSplice_(t,i),!1;if(!e.geom.vertEq(l,t.event)&&e.geom.edgeSign(l,t.event,u)>=0||!e.geom.vertEq(h,t.event)&&e.geom.edgeSign(h,t.event,u)<=0){if(h===t.event)return e.mesh.splitEdge(n.sym),e.mesh.meshSplice(r.sym,n),n=(i=e.sweep.topLeftRegion_(i)).regionBelow().eUp,e.sweep.finishLeftRegions_(t,i.regionBelow(),s),e.sweep.addRightEdges_(t,i,n.oPrev(),n,n,!0),!0;if(l===t.event){e.mesh.splitEdge(r.sym),e.mesh.meshSplice(n.lNext,r.oPrev()),s=i;var g=(i=e.sweep.topRightRegion_(i)).regionBelow().eUp.rPrev();return s.eUp=r.oPrev(),r=e.sweep.finishLeftRegions_(t,s,null),e.sweep.addRightEdges_(t,i,r.oNext,n.rPrev(),g,!0),!0}return e.geom.edgeSign(l,t.event,u)>=0&&(i.regionAbove().dirty=i.dirty=!0,e.mesh.splitEdge(n.sym),n.org.s=t.event.s,n.org.t=t.event.t),e.geom.edgeSign(h,t.event,u)<=0&&(i.dirty=s.dirty=!0,e.mesh.splitEdge(r.sym),r.org.s=t.event.s,r.org.t=t.event.t),!1}return e.mesh.splitEdge(n.sym),e.mesh.splitEdge(r.sym),e.mesh.meshSplice(r.oPrev(),n),n.org.s=u.s,n.org.t=u.t,n.org.pqHandle=t.pq.insert(n.org),e.sweep.getIntersectData_(t,n.org,o,l,a,h),i.regionAbove().dirty=i.dirty=s.dirty=!0,!1},e.sweep.walkDirtyRegions_=function(t,i){for(var s=i.regionBelow();;){for(;s.dirty;)i=s,s=s.regionBelow();if(!i.dirty&&(s=i,null===(i=i.regionAbove())||!i.dirty))return;i.dirty=!1;var n=i.eUp,r=s.eUp;if(n.dst()!==r.dst()&&e.sweep.checkForLeftSplice_(t,i)&&(s.fixUpperEdge?(e.sweep.deleteRegion_(t,s),e.mesh.deleteEdge(r),r=(s=i.regionBelow()).eUp):i.fixUpperEdge&&(e.sweep.deleteRegion_(t,i),e.mesh.deleteEdge(n),n=(i=s.regionAbove()).eUp)),n.org!==r.org)if(n.dst()===r.dst()||i.fixUpperEdge||s.fixUpperEdge||n.dst()!==t.event&&r.dst()!==t.event)e.sweep.checkForRightSplice_(t,i);else if(e.sweep.checkForIntersect_(t,i))return;n.org===r.org&&n.dst()===r.dst()&&(e.sweep.addWinding_(r,n),e.sweep.deleteRegion_(t,i),e.mesh.deleteEdge(n),i=s.regionAbove())}},e.sweep.connectRightVertex_=function(t,i,s){var n,r=s.oNext,o=i.regionBelow(),a=i.eUp,l=o.eUp,h=!1;a.dst()!==l.dst()&&e.sweep.checkForIntersect_(t,i),e.geom.vertEq(a.org,t.event)&&(e.mesh.meshSplice(r.oPrev(),a),r=(i=e.sweep.topLeftRegion_(i)).regionBelow().eUp,e.sweep.finishLeftRegions_(t,i.regionBelow(),o),h=!0),e.geom.vertEq(l.org,t.event)&&(e.mesh.meshSplice(s,l.oPrev()),s=e.sweep.finishLeftRegions_(t,o,null),h=!0),h?e.sweep.addRightEdges_(t,i,s.oNext,r,r,!0):(n=e.geom.vertLeq(l.org,a.org)?l.oPrev():a,n=e.mesh.connect(s.lPrev(),n),e.sweep.addRightEdges_(t,i,n,n.oNext,n.oNext,!1),n.sym.activeRegion.fixUpperEdge=!0,e.sweep.walkDirtyRegions_(t,i))},e.sweep.connectLeftDegenerate_=function(t,i,s){var n=i.eUp;if(e.geom.vertEq(n.org,s))return e.assert(e.sweep.TOLERANCE_NONZERO_),void(e.sweep.TOLERANCE_NONZERO_&&e.sweep.spliceMergeVertices_(t,n,s.anEdge));if(!e.geom.vertEq(n.dst(),s))return e.mesh.splitEdge(n.sym),i.fixUpperEdge&&(e.mesh.deleteEdge(n.oNext),i.fixUpperEdge=!1),e.mesh.meshSplice(s.anEdge,n),void e.sweep.sweepEvent_(t,s);if(e.assert(e.sweep.TOLERANCE_NONZERO_),e.sweep.TOLERANCE_NONZERO_){var r=(i=e.sweep.topRightRegion_(i)).regionBelow(),o=r.eUp.sym,a=o.oNext,l=a;r.fixUpperEdge&&(e.assert(a!==o),e.sweep.deleteRegion_(t,r),e.mesh.deleteEdge(o),o=a.oPrev()),e.mesh.meshSplice(s.anEdge,o),e.geom.edgeGoesLeft(a)||(a=null),e.sweep.addRightEdges_(t,i,o.oNext,l,a,!0)}},e.sweep.connectLeftVertex_=function(t,i){var s=new e.ActiveRegion;s.eUp=i.anEdge.sym;var n=t.dict.search(s).getKey(),r=n.regionBelow(),o=n.eUp,a=r.eUp;if(0!==e.geom.edgeSign(o.dst(),i,o.org)){var l,h=e.geom.vertLeq(a.dst(),o.dst())?n:r;n.inside||h.fixUpperEdge?(l=h===n?e.mesh.connect(i.anEdge.sym,o.lNext):e.mesh.connect(a.dNext(),i.anEdge).sym,h.fixUpperEdge?e.sweep.fixUpperEdge_(h,l):e.sweep.computeWinding_(t,e.sweep.addRegionBelow_(t,n,l)),e.sweep.sweepEvent_(t,i)):e.sweep.addRightEdges_(t,n,i.anEdge,i.anEdge,null,!0)}else e.sweep.connectLeftDegenerate_(t,n,i)},e.sweep.sweepEvent_=function(t,i){t.event=i;for(var s=i.anEdge;null===s.activeRegion;)if((s=s.oNext)===i.anEdge)return void e.sweep.connectLeftVertex_(t,i);var n=e.sweep.topLeftRegion_(s.activeRegion),r=n.regionBelow(),o=r.eUp,a=e.sweep.finishLeftRegions_(t,r,null);a.oNext===o?e.sweep.connectRightVertex_(t,n,a):e.sweep.addRightEdges_(t,n,a.oNext,o,o,!0)},e.sweep.addSentinel_=function(t,i){var s=new e.ActiveRegion,n=e.mesh.makeEdge(t.mesh);n.org.s=e.sweep.SENTINEL_COORD_,n.org.t=i,n.dst().s=-e.sweep.SENTINEL_COORD_,n.dst().t=i,t.event=n.dst(),s.eUp=n,s.windingNumber=0,s.inside=!1,s.fixUpperEdge=!1,s.sentinel=!0,s.dirty=!1,s.nodeUp=t.dict.insert(s)},e.sweep.initEdgeDict_=function(t){t.dict=new e.Dict(t,e.sweep.edgeLeq_),e.sweep.addSentinel_(t,-e.sweep.SENTINEL_COORD_),e.sweep.addSentinel_(t,e.sweep.SENTINEL_COORD_)},e.sweep.doneEdgeDict_=function(t){for(var i,s=0;null!==(i=t.dict.getMin().getKey());)i.sentinel||(e.assert(i.fixUpperEdge),e.assert(1==++s)),e.assert(0===i.windingNumber),e.sweep.deleteRegion_(t,i);t.dict=null},e.sweep.removeDegenerateEdges_=function(t){for(var i,s=t.mesh.eHead,n=s.next;n!==s;n=i){i=n.next;var r=n.lNext;e.geom.vertEq(n.org,n.dst())&&n.lNext.lNext!==n&&(e.sweep.spliceMergeVertices_(t,r,n),e.mesh.deleteEdge(n),r=(n=r).lNext),r.lNext===n&&(r!==n&&(r!==i&&r!==i.sym||(i=i.next),e.mesh.deleteEdge(r)),n!==i&&n!==i.sym||(i=i.next),e.mesh.deleteEdge(n))}},e.sweep.initPriorityQ_=function(t){var i=new e.PriorityQ;t.pq=i;var s,n=t.mesh.vHead;for(s=n.next;s!==n;s=s.next)s.pqHandle=i.insert(s);i.init()},e.sweep.donePriorityQ_=function(e){e.pq.deleteQ(),e.pq=null},e.sweep.removeDegenerateFaces_=function(t){for(var i,s=t.fHead.next;s!==t.fHead;s=i){i=s.next;var n=s.anEdge;e.assert(n.lNext!==n),n.lNext.lNext===n&&(e.sweep.addWinding_(n.oNext,n),e.mesh.deleteEdge(n))}},e.tessmono={},e.tessmono.tessellateMonoRegion_=function(t){var i=t.anEdge;for(e.assert(i.lNext!==i&&i.lNext.lNext!==i);e.geom.vertLeq(i.dst(),i.org);i=i.lPrev());for(;e.geom.vertLeq(i.org,i.dst());i=i.lNext);for(var s,n=i.lPrev();i.lNext!==n;)if(e.geom.vertLeq(i.dst(),n.org)){for(;n.lNext!==i&&(e.geom.edgeGoesLeft(n.lNext)||e.geom.edgeSign(n.org,n.dst(),n.lNext.dst())<=0);)n=(s=e.mesh.connect(n.lNext,n)).sym;n=n.lPrev()}else{for(;n.lNext!==i&&(e.geom.edgeGoesRight(i.lPrev())||e.geom.edgeSign(i.dst(),i.org,i.lPrev().org)>=0);)s=e.mesh.connect(i,i.lPrev()),i=s.sym;i=i.lNext}for(e.assert(n.lNext!==i);n.lNext.lNext!==i;)n=(s=e.mesh.connect(n.lNext,n)).sym},e.tessmono.tessellateInterior=function(t){for(var i,s=t.fHead.next;s!==t.fHead;s=i)i=s.next,s.inside&&e.tessmono.tessellateMonoRegion_(s)},e.tessmono.discardExterior=function(t){for(var i,s=t.fHead.next;s!==t.fHead;s=i)i=s.next,s.inside||e.mesh.zapFace(s)},e.tessmono.setWindingNumber=function(t,i,s){for(var n,r=t.eHead.next;r!==t.eHead;r=n)n=r.next,r.rFace().inside!==r.lFace.inside?r.winding=r.lFace.inside?i:-i:s?e.mesh.deleteEdge(r):r.winding=0},e.Dict=function(t,i){this.head_=new e.DictNode,this.frame_=t,this.leq_=i},e.Dict.prototype.deleteDict_=function(){},e.Dict.prototype.insertBefore=function(t,i){do{t=t.prev}while(null!==t.key&&!this.leq_(this.frame_,t.key,i));var s=new e.DictNode(i,t.next,t);return t.next.prev=s,t.next=s,s},e.Dict.prototype.insert=function(e){return this.insertBefore(this.head_,e)},e.Dict.prototype.deleteNode=function(e){e.next.prev=e.prev,e.prev.next=e.next},e.Dict.prototype.search=function(e){var t=this.head_;do{t=t.next}while(null!==t.key&&!this.leq_(this.frame_,e,t.key));return t},e.Dict.prototype.getMin=function(){return this.head_.next},e.Dict.prototype.getMax=function(){return this.head_.prev},e.DictNode=function(e,t,i){this.key=e||null,this.next=t||this,this.prev=i||this},e.DictNode.prototype.getKey=function(){return this.key},e.DictNode.prototype.getSuccessor=function(){return this.next},e.DictNode.prototype.getPredecessor=function(){return this.prev},e.GluTesselator=function(){this.state_=e.GluTesselator.tessState_.T_DORMANT,this.lastEdge_=null,this.mesh=null,this.errorCallback_=null,this.normal_=[0,0,0],this.windingRule=e.windingRule.GLU_TESS_WINDING_ODD,this.fatalError=!1,this.dict=null,this.pq=null,this.event=null,this.combineCallback_=null,this.boundaryOnly_=!1,this.beginCallback_=null,this.edgeFlagCallback_=null,this.vertexCallback_=null,this.endCallback_=null,this.meshCallback_=null,this.polygonData_=null},e.GluTesselator.tessState_={T_DORMANT:0,T_IN_POLYGON:1,T_IN_CONTOUR:2},e.GluTesselator.prototype.gluDeleteTess=function(){this.requireState_(e.GluTesselator.tessState_.T_DORMANT)},e.GluTesselator.prototype.gluTessProperty=function(t,i){switch(t){case e.gluEnum.GLU_TESS_TOLERANCE:return;case e.gluEnum.GLU_TESS_WINDING_RULE:var s=i;switch(s){case e.windingRule.GLU_TESS_WINDING_ODD:case e.windingRule.GLU_TESS_WINDING_NONZERO:case e.windingRule.GLU_TESS_WINDING_POSITIVE:case e.windingRule.GLU_TESS_WINDING_NEGATIVE:case e.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO:return void(this.windingRule=s)}break;case e.gluEnum.GLU_TESS_BOUNDARY_ONLY:return void(this.boundaryOnly_=!!i);default:return void this.callErrorCallback(e.gluEnum.GLU_INVALID_ENUM)}this.callErrorCallback(e.gluEnum.GLU_INVALID_VALUE)},e.GluTesselator.prototype.gluGetTessProperty=function(t){switch(t){case e.gluEnum.GLU_TESS_TOLERANCE:return 0;case e.gluEnum.GLU_TESS_WINDING_RULE:var i=this.windingRule;return e.assert(i===e.windingRule.GLU_TESS_WINDING_ODD||i===e.windingRule.GLU_TESS_WINDING_NONZERO||i===e.windingRule.GLU_TESS_WINDING_POSITIVE||i===e.windingRule.GLU_TESS_WINDING_NEGATIVE||i===e.windingRule.GLU_TESS_WINDING_ABS_GEQ_TWO),i;case e.gluEnum.GLU_TESS_BOUNDARY_ONLY:return e.assert(!0===this.boundaryOnly_||!1===this.boundaryOnly_),this.boundaryOnly_;default:this.callErrorCallback(e.gluEnum.GLU_INVALID_ENUM)}return!1},e.GluTesselator.prototype.gluTessNormal=function(e,t,i){this.normal_[0]=e,this.normal_[1]=t,this.normal_[2]=i},e.GluTesselator.prototype.gluTessCallback=function(t,i){var s=i||null;switch(t){case e.gluEnum.GLU_TESS_BEGIN:case e.gluEnum.GLU_TESS_BEGIN_DATA:return void(this.beginCallback_=s);case e.gluEnum.GLU_TESS_EDGE_FLAG:case e.gluEnum.GLU_TESS_EDGE_FLAG_DATA:return void(this.edgeFlagCallback_=s);case e.gluEnum.GLU_TESS_VERTEX:case e.gluEnum.GLU_TESS_VERTEX_DATA:return void(this.vertexCallback_=s);case e.gluEnum.GLU_TESS_END:case e.gluEnum.GLU_TESS_END_DATA:return void(this.endCallback_=s);case e.gluEnum.GLU_TESS_ERROR:case e.gluEnum.GLU_TESS_ERROR_DATA:return void(this.errorCallback_=s);case e.gluEnum.GLU_TESS_COMBINE:case e.gluEnum.GLU_TESS_COMBINE_DATA:return void(this.combineCallback_=s);case e.gluEnum.GLU_TESS_MESH:return void(this.meshCallback_=s);default:return void this.callErrorCallback(e.gluEnum.GLU_INVALID_ENUM)}},e.GluTesselator.prototype.gluTessVertex=function(t,i){var s=!1,n=[0,0,0];this.requireState_(e.GluTesselator.tessState_.T_IN_CONTOUR);for(var r=0;r<3;++r){var o=t[r];o<-e.GLU_TESS_MAX_COORD&&(o=-e.GLU_TESS_MAX_COORD,s=!0),o>e.GLU_TESS_MAX_COORD&&(o=e.GLU_TESS_MAX_COORD,s=!0),n[r]=o}s&&this.callErrorCallback(e.errorType.GLU_TESS_COORD_TOO_LARGE),this.addVertex_(n,i)},e.GluTesselator.prototype.gluTessBeginPolygon=function(t){this.requireState_(e.GluTesselator.tessState_.T_DORMANT),this.state_=e.GluTesselator.tessState_.T_IN_POLYGON,this.mesh=new e.GluMesh,this.polygonData_=t},e.GluTesselator.prototype.gluTessBeginContour=function(){this.requireState_(e.GluTesselator.tessState_.T_IN_POLYGON),this.state_=e.GluTesselator.tessState_.T_IN_CONTOUR,this.lastEdge_=null},e.GluTesselator.prototype.gluTessEndContour=function(){this.requireState_(e.GluTesselator.tessState_.T_IN_CONTOUR),this.state_=e.GluTesselator.tessState_.T_IN_POLYGON},e.GluTesselator.prototype.gluTessEndPolygon=function(){if(this.requireState_(e.GluTesselator.tessState_.T_IN_POLYGON),this.state_=e.GluTesselator.tessState_.T_DORMANT,e.normal.projectPolygon(this,this.normal_[0],this.normal_[1],this.normal_[2]),e.sweep.computeInterior(this),!this.fatalError){var t=this.mesh;if(this.boundaryOnly_?e.tessmono.setWindingNumber(t,1,!0):e.tessmono.tessellateInterior(t),this.mesh.checkMesh(),this.beginCallback_||this.endCallback_||this.vertexCallback_||this.edgeFlagCallback_)if(this.boundaryOnly_)e.render.renderBoundary(this,this.mesh);else{var i=!!this.edgeFlagCallback_;e.render.renderMesh(this,this.mesh,i)}if(this.meshCallback_)return e.tessmono.discardExterior(this.mesh),this.meshCallback_(this.mesh),this.mesh=null,void(this.polygonData_=null)}e.mesh.deleteMesh(this.mesh),this.polygonData_=null,this.mesh=null},e.GluTesselator.prototype.requireState_=function(e){this.state_!==e&&this.gotoState_(e)},e.GluTesselator.prototype.gotoState_=function(t){for(;this.state_!==t;)if(this.state_<t)switch(this.state_){case e.GluTesselator.tessState_.T_DORMANT:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_BEGIN_POLYGON),this.gluTessBeginPolygon(null);break;case e.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_BEGIN_CONTOUR),this.gluTessBeginContour()}else switch(this.state_){case e.GluTesselator.tessState_.T_IN_CONTOUR:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_END_CONTOUR),this.gluTessEndContour();break;case e.GluTesselator.tessState_.T_IN_POLYGON:this.callErrorCallback(e.errorType.GLU_TESS_MISSING_END_POLYGON),this.gluTessEndPolygon()}},e.GluTesselator.prototype.addVertex_=function(t,i){var s=this.lastEdge_;null===s?(s=e.mesh.makeEdge(this.mesh),e.mesh.meshSplice(s,s.sym)):(e.mesh.splitEdge(s),s=s.lNext),s.org.data=i,s.org.coords[0]=t[0],s.org.coords[1]=t[1],s.org.coords[2]=t[2],s.winding=1,s.sym.winding=-1,this.lastEdge_=s},e.GluTesselator.prototype.callBeginCallback=function(e){this.beginCallback_&&this.beginCallback_(e,this.polygonData_)},e.GluTesselator.prototype.callVertexCallback=function(e){this.vertexCallback_&&this.vertexCallback_(e,this.polygonData_)},e.GluTesselator.prototype.callEdgeFlagCallback=function(e){this.edgeFlagCallback_&&this.edgeFlagCallback_(e,this.polygonData_)},e.GluTesselator.prototype.callEndCallback=function(){this.endCallback_&&this.endCallback_(this.polygonData_)},e.GluTesselator.prototype.callCombineCallback=function(e,t,i){return this.combineCallback_&&this.combineCallback_(e,t,i,this.polygonData_)||null},e.GluTesselator.prototype.callErrorCallback=function(e){this.errorCallback_&&this.errorCallback_(e,this.polygonData_)},e.GluFace=function(e,t){this.next=e||this,this.prev=t||this,this.anEdge=null,this.inside=!1},e.GluHalfEdge=function(e){this.next=e||this,this.sym=null,this.oNext=null,this.lNext=null,this.org=null,this.lFace=null,this.activeRegion=null,this.winding=0},e.GluHalfEdge.prototype.rFace=function(){return this.sym.lFace},e.GluHalfEdge.prototype.dst=function(){return this.sym.org},e.GluHalfEdge.prototype.oPrev=function(){return this.sym.lNext},e.GluHalfEdge.prototype.lPrev=function(){return this.oNext.sym},e.GluHalfEdge.prototype.dPrev=function(){return this.lNext.sym},e.GluHalfEdge.prototype.rPrev=function(){return this.sym.oNext},e.GluHalfEdge.prototype.dNext=function(){return this.rPrev().sym},e.GluHalfEdge.prototype.rNext=function(){return this.oPrev().sym},e.GluMesh=function(){this.vHead=new e.GluVertex,this.fHead=new e.GluFace,this.eHead=new e.GluHalfEdge,this.eHeadSym=new e.GluHalfEdge,this.eHead.sym=this.eHeadSym,this.eHeadSym.sym=this.eHead},e.GluMesh.prototype.checkMesh=function(){if(e.DEBUG){var t,i,s,n=this.fHead,r=this.vHead,o=this.eHead,a=n;for(a=n;(i=a.next)!==n;a=i){e.assert(i.prev===a),t=i.anEdge;do{e.assert(t.sym!==t),e.assert(t.sym.sym===t),e.assert(t.lNext.oNext.sym===t),e.assert(t.oNext.sym.lNext===t),e.assert(t.lFace===i),t=t.lNext}while(t!==i.anEdge)}e.assert(i.prev===a&&null===i.anEdge);var l=r;for(l=r;(s=l.next)!==r;l=s){e.assert(s.prev===l),t=s.anEdge;do{e.assert(t.sym!==t),e.assert(t.sym.sym===t),e.assert(t.lNext.oNext.sym===t),e.assert(t.oNext.sym.lNext===t),e.assert(t.org===s),t=t.oNext}while(t!==s.anEdge)}e.assert(s.prev===l&&null===s.anEdge&&null===s.data);var h=o;for(h=o;(t=h.next)!==o;h=t)e.assert(t.sym.next===h.sym),e.assert(t.sym!==t),e.assert(t.sym.sym===t),e.assert(null!==t.org),e.assert(null!==t.dst()),e.assert(t.lNext.oNext.sym===t),e.assert(t.oNext.sym.lNext===t);e.assert(t.sym.next===h.sym&&t.sym===this.eHeadSym&&t.sym.sym===t&&null===t.org&&null===t.dst()&&null===t.lFace&&null===t.rFace())}},e.GluVertex=function(e,t){this.next=e||this,this.prev=t||this,this.anEdge=null,this.data=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0},e.PriorityQ=function(){this.verts_=[],this.order_=null,this.size_=0,this.initialized_=!1,this.heap_=new e.PriorityQHeap},e.PriorityQ.prototype.deleteQ=function(){this.heap_=null,this.order_=null,this.verts_=null},e.PriorityQ.prototype.init=function(){this.order_=[];for(var t=0;t<this.size_;t++)this.order_[t]=t;var i,s=(i=this.verts_,function(t,s){return e.geom.vertLeq(i[t],i[s])?1:-1});if(this.order_.sort(s),this.initialized_=!0,this.heap_.init(),e.DEBUG){var n=0+this.size_-1;for(t=0;t<n;++t)e.assert(e.geom.vertLeq(this.verts_[this.order_[t+1]],this.verts_[this.order_[t]]))}},e.PriorityQ.prototype.insert=function(e){if(this.initialized_)return this.heap_.insert(e);var t=this.size_++;return this.verts_[t]=e,-(t+1)},e.PriorityQ.prototype.extractMin=function(){if(0===this.size_)return this.heap_.extractMin();var t=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var i=this.heap_.minimum();if(e.geom.vertLeq(i,t))return this.heap_.extractMin()}do{--this.size_}while(this.size_>0&&null===this.verts_[this.order_[this.size_-1]]);return t},e.PriorityQ.prototype.minimum=function(){if(0===this.size_)return this.heap_.minimum();var t=this.verts_[this.order_[this.size_-1]];if(!this.heap_.isEmpty()){var i=this.heap_.minimum();if(e.geom.vertLeq(i,t))return i}return t},e.PriorityQ.prototype.remove=function(t){if(t>=0)this.heap_.remove(t);else for(t=-(t+1),e.assert(t<this.verts_.length&&null!==this.verts_[t]),this.verts_[t]=null;this.size_>0&&null===this.verts_[this.order_[this.size_-1]];)--this.size_},e.PriorityQHeap=function(){this.heap_=e.PriorityQHeap.reallocNumeric_([0],e.PriorityQHeap.INIT_SIZE_+1),this.verts_=[null,null],this.handles_=[0,0],this.size_=0,this.max_=e.PriorityQHeap.INIT_SIZE_,this.freeList_=0,this.initialized_=!1,this.heap_[1]=1},e.PriorityQHeap.INIT_SIZE_=32,e.PriorityQHeap.reallocNumeric_=function(e,t){for(var i=new Array(t),s=0;s<e.length;s++)i[s]=e[s];for(;s<t;s++)i[s]=0;return i},e.PriorityQHeap.prototype.init=function(){for(var e=this.size_;e>=1;--e)this.floatDown_(e);this.initialized_=!0},e.PriorityQHeap.prototype.insert=function(t){var i,s=++this.size_;return 2*s>this.max_&&(this.max_*=2,this.handles_=e.PriorityQHeap.reallocNumeric_(this.handles_,this.max_+1)),0===this.freeList_?i=s:(i=this.freeList_,this.freeList_=this.handles_[this.freeList_]),this.verts_[i]=t,this.handles_[i]=s,this.heap_[s]=i,this.initialized_&&this.floatUp_(s),i},e.PriorityQHeap.prototype.isEmpty=function(){return 0===this.size_},e.PriorityQHeap.prototype.minimum=function(){return this.verts_[this.heap_[1]]},e.PriorityQHeap.prototype.extractMin=function(){var e=this.heap_,t=this.verts_,i=this.handles_,s=e[1],n=t[s];return this.size_>0&&(e[1]=e[this.size_],i[e[1]]=1,t[s]=null,i[s]=this.freeList_,this.freeList_=s,--this.size_>0&&this.floatDown_(1)),n},e.PriorityQHeap.prototype.remove=function(t){var i=this.heap_,s=this.verts_,n=this.handles_;e.assert(t>=1&&t<=this.max_&&null!==s[t]);var r=n[t];if(i[r]=i[this.size_],n[i[r]]=r,r<=--this.size_)if(r<=1)this.floatDown_(r);else{var o=s[i[r]],a=s[i[r>>1]];e.geom.vertLeq(a,o)?this.floatDown_(r):this.floatUp_(r)}s[t]=null,n[t]=this.freeList_,this.freeList_=t},e.PriorityQHeap.prototype.floatDown_=function(t){for(var i=this.heap_,s=this.verts_,n=this.handles_,r=t,o=i[r];;){var a=r<<1;a<this.size_&&e.geom.vertLeq(s[i[a+1]],s[i[a]])&&(a+=1),e.assert(a<=this.max_);var l=i[a];if(a>this.size_||e.geom.vertLeq(s[o],s[l]))return i[r]=o,void(n[o]=r);i[r]=l,n[l]=r,r=a}},e.PriorityQHeap.prototype.floatUp_=function(t){for(var i=this.heap_,s=this.verts_,n=this.handles_,r=t,o=i[r];;){var a=r>>1,l=i[a];if(0===a||e.geom.vertLeq(s[l],s[o]))return i[r]=o,void(n[o]=r);i[r]=l,n[l]=r,r=a}},e.ActiveRegion=function(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1},e.ActiveRegion.prototype.regionBelow=function(){return this.nodeUp.getPredecessor().getKey()},e.ActiveRegion.prototype.regionAbove=function(){return this.nodeUp.getSuccessor().getKey()},e},void 0!==(r=n())&&(s.exports=r);var u=l.a.getLogger("esri.views.2d.engine.webgl.mesh.templates.Tesselator"),_=function(){function e(){Object(o.a)(this,e),this._currentVertexIndex=0,this._indexCounter=0,this._triangleIndices=[-1,-1,-1],this.glu=new h.exports.GluTesselator,this.glu.gluTessCallback(h.exports.gluEnum.GLU_TESS_BEGIN,this._begincallback.bind(this)),this.glu.gluTessCallback(h.exports.gluEnum.GLU_TESS_VERTEX_DATA,this._vertexCallback.bind(this)),this.glu.gluTessCallback(h.exports.gluEnum.GLU_TESS_END,this._endcallback.bind(this)),this.glu.gluTessCallback(h.exports.gluEnum.GLU_TESS_COMBINE,this._combinecallback.bind(this)),this.glu.gluTessCallback(h.exports.gluEnum.GLU_TESS_ERROR,this._errorcallback.bind(this)),this.glu.gluTessCallback(h.exports.gluEnum.GLU_TESS_EDGE_FLAG,this._edgeCallback.bind(this)),this.glu.gluTessProperty(h.exports.gluEnum.GLU_TESS_WINDING_RULE,h.exports.windingRule.GLU_TESS_WINDING_ODD)}return Object(a.a)(e,[{key:"beginPolygon",value:function(e,t){this._triangleIndices[0]=-1,this._triangleIndices[1]=-1,this._triangleIndices[2]=-1,this._currentVertexIndex=0,this._indexCounter=0,this.glu.gluTessBeginPolygon(e),this._indices=t}},{key:"endPolygon",value:function(){this.glu.gluTessEndPolygon()}},{key:"beginContour",value:function(){this.glu.gluTessBeginContour()}},{key:"endContour",value:function(){this.glu.gluTessEndContour()}},{key:"addVertex",value:function(e,t){this.glu.gluTessVertex(e,t)}},{key:"_vertexCallback",value:function(e,t){if(t[t.length]=e[0],t[t.length]=e[1],this._triangleIndices[this._currentVertexIndex]=-1,this._currentVertexIndex>=2){for(var i=0;i<3;i++)-1===this._triangleIndices[i]&&(this._triangleIndices[i]=this._indexCounter++),this._indices[this._indices.length]=this._triangleIndices[i];this._currentVertexIndex=0}else this._currentVertexIndex++}},{key:"_begincallback",value:function(){this._triangleIndices[0]=-1,this._triangleIndices[1]=-1,this._triangleIndices[2]=-1,this._currentVertexIndex=0}},{key:"_endcallback",value:function(){this._currentVertexIndex=0}},{key:"_errorcallback",value:function(e){u.error("Encountered error during tesselation: ".concat(e))}},{key:"_combinecallback",value:function(e){return[e[0],e[1],e[2]]}},{key:"_edgeCallback",value:function(){}}]),e}();t.a=_},662:function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var s=i(4),n=i(5),r=i(592);function o(e,t){return e.x===t.x&&e.y===t.y}function a(e){if(e){var t=e.length;if(!(t<=1)){for(var i=0,s=1;s<t;s++)o(e[s],e[i])||++i===s||(e[i]=e[s]);e.length=i+1}}}function l(e,t){return e.x=t.y,e.y=-t.x,e}function h(e,t){return e.x=-t.y,e.y=t.x,e}function u(e,t){return e.x=t.x,e.y=t.y,e}function _(e,t){return e.x=-t.x,e.y=-t.y,e}function g(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function d(e,t){return e.x*t.y-e.y*t.x}function c(e,t){return e.x*t.x+e.y*t.y}function x(e,t,i,s){return e.x=t.x*i+t.y*s,e.y=t.x*s-t.y*i,e}var y=function(){function e(t,i,n){Object(s.a)(this,e),this.writeVertex=t,this.writeTriangle=i,this.canUseThinTessellation=n,this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.textureNormalLeft={x:0,y:1},this.textureNormalRight={x:0,y:-1},this.textureNormal={x:void 0,y:void 0},this.joinNormal={x:void 0,y:void 0},this.inner={x:void 0,y:void 0},this.outer={x:void 0,y:void 0},this.roundStart={x:void 0,y:void 0},this.roundEnd={x:void 0,y:void 0},this.startBreak={x:void 0,y:void 0},this.endBreak={x:void 0,y:void 0},this.innerPrev={x:void 0,y:void 0},this.innerNext={x:void 0,y:void 0},this.bevelStart={x:void 0,y:void 0},this.bevelEnd={x:void 0,y:void 0},this.bevelMiddle={x:void 0,y:void 0}}return Object(n.a)(e,[{key:"tessellate",value:function(e,t){a(e),this.canUseThinTessellation&&t.halfWidth<r.D&&!t.offset?this.tessellateThin_(e,t):this.tessellate_(e,t)}},{key:"tessellateThin_",value:function(e,t){if(!(e.length<2))for(var i=t.wrapDistance||65535,s=t.initialDistance||0,n=!1,r=e[0].x,o=e[0].y,a=e.length,l=1;l<a;++l){n&&(n=!1,s=0);var h=e[l].x,u=e[l].y,_=h-r,g=u-o,d=Math.sqrt(_*_+g*g);if(_/=d,g/=d,s+d>i){n=!0;var c=(i-s)/d;d=i-s,h=(1-c)*r+c*h,u=(1-c)*o+c*u,--l}var x=this.writeVertex(r,o,0,0,_,g,g,-_,0,-1,s),y=this.writeVertex(r,o,0,0,_,g,-g,_,0,1,s);s+=d;var m=this.writeVertex(h,u,0,0,_,g,g,-_,0,-1,s),p=this.writeVertex(h,u,0,0,_,g,-g,_,0,1,s);this.writeTriangle(x,y,m),this.writeTriangle(y,m,p),r=h,o=u}}},{key:"tessellate_",value:function(e,t){var i=e[0],s=e[e.length-1],n=o(i,s),r=n?3:2;if(!(e.length<r)){var a,y,m,p,v=t.pixelCoordRatio,f=null!=t.capType?t.capType:0,E=null!=t.joinType?t.joinType:2,N=null!=t.miterLimit?Math.min(t.miterLimit,4):2,w=null!=t.roundLimit?Math.min(t.roundLimit,1.05):1.05,S=null!=t.halfWidth?t.halfWidth:2,T=!!t.textured,L=null,G=null,U=this.prevNormal,k=this.nextNormal,b=-1,R=-1,I=this.joinNormal,O=this.textureNormalLeft,D=this.textureNormalRight,C=this.textureNormal,P=-1,A=-1,M=t.wrapDistance||65535,q=t.initialDistance||0,V=this.writeVertex,F=this.writeTriangle,H=function(e,t,i,s,n,r){var o=V(a,y,m,p,i,s,e,t,n,r,q);return P>=0&&A>=0&&o>=0&&F(P,A,o),P=A,A=o,o};n&&(L=e[e.length-2],k.x=s.x-L.x,k.y=s.y-L.y,R=g(k),k.x/=R,k.y/=R);for(var B=!1,W=0;W<e.length;++W){if(B&&(B=!1,q=0),L&&(U.x=-k.x,U.y=-k.y,q+(b=R)>M&&(B=!0)),B){var z=(M-q)/b;b=M-q,L={x:(1-z)*L.x+z*e[W].x,y:(1-z)*L.y+z*e[W].y},--W}else L=e[W];a=L.x,y=L.y;var Q=W<=0&&!B,j=W===e.length-1;if(Q||(q+=b),(G=j?n?e[1]:null:e[W+1])?(k.x=G.x-a,k.y=G.y-y,R=g(k),k.x/=R,k.y/=R):(k.x=void 0,k.y=void 0),!n){if(Q){h(I,k),m=I.x,p=I.y,2===f&&(H(-k.y-k.x,k.x-k.y,k.x,k.y,0,-1),H(k.y-k.x,-k.x-k.y,k.x,k.y,0,1)),1===f&&(H(-k.y-k.x,k.x-k.y,k.x,k.y,-1,-1),H(k.y-k.x,-k.x-k.y,k.x,k.y,-1,1)),1!==f&&0!==f||(H(-k.y,k.x,k.x,k.y,0,-1),H(k.y,-k.x,k.x,k.y,0,1));continue}if(j){l(I,U),m=I.x,p=I.y,1!==f&&0!==f||(H(U.y,-U.x,-U.x,-U.y,0,-1),H(-U.y,U.x,-U.x,-U.y,0,1)),2===f&&(H(U.y-U.x,-U.x-U.y,-U.x,-U.y,0,-1),H(-U.y-U.x,U.x-U.y,-U.x,-U.y,0,1)),1===f&&(H(U.y-U.x,-U.x-U.y,-U.x,-U.y,1,-1),H(-U.y-U.x,U.x-U.y,-U.x,-U.y,1,1));continue}}var X=void 0,Y=void 0,Z=-d(U,k);if(Math.abs(Z)<.01)c(U,k)>0?(I.x=U.x,I.y=U.y,Z=1,X=Number.MAX_VALUE,Y=!0):(h(I,k),Z=1,X=1,Y=!1);else{I.x=(U.x+k.x)/Z,I.y=(U.y+k.y)/Z;var K=((X=g(I))-1)*S*v;Y=X>4||K>b&&K>R}m=I.x,p=I.y;var J=E;switch(E){case 0:X<1.05&&(J=2);break;case 1:X<w&&(J=2);break;case 2:X>N&&(J=0)}switch(J){case 2:if(H(I.x,I.y,-U.x,-U.y,0,-1),H(-I.x,-I.y,-U.x,-U.y,0,1),j)break;if(T){var $=B?0:q;P=this.writeVertex(a,y,m,p,k.x,k.y,I.x,I.y,0,-1,$),A=this.writeVertex(a,y,m,p,k.x,k.y,-I.x,-I.y,0,1,$)}break;case 0:var ee=Z<0,te=void 0,ie=void 0,se=void 0,ne=void 0;if(ee){var re=P;P=A,A=re,te=O,ie=D}else te=D,ie=O;if(Y)se=ee?h(this.innerPrev,U):l(this.innerPrev,U),ne=ee?l(this.innerNext,k):h(this.innerNext,k);else{var oe=ee?_(this.inner,I):u(this.inner,I);se=oe,ne=oe}var ae=ee?l(this.bevelStart,U):h(this.bevelStart,U);H(se.x,se.y,-U.x,-U.y,te.x,te.y);var le=H(ae.x,ae.y,-U.x,-U.y,ie.x,ie.y);if(j)break;var he=ee?h(this.bevelEnd,k):l(this.bevelEnd,k);if(Y){var ue=this.writeVertex(a,y,m,p,-U.x,-U.y,0,0,0,0,q);P=this.writeVertex(a,y,m,p,k.x,k.y,ne.x,ne.y,te.x,te.y,q),A=this.writeVertex(a,y,m,p,k.x,k.y,he.x,he.y,ie.x,ie.y,q),this.writeTriangle(le,ue,A)}else{if(T){var _e=this.bevelMiddle;_e.x=(ae.x+he.x)/2,_e.y=(ae.y+he.y)/2,x(C,_e,-U.x,-U.y),H(_e.x,_e.y,-U.x,-U.y,C.x,C.y),x(C,_e,k.x,k.y),P=this.writeVertex(a,y,m,p,k.x,k.y,_e.x,_e.y,C.x,C.y,q),A=this.writeVertex(a,y,m,p,k.x,k.y,ne.x,ne.y,te.x,te.y,q)}else{var ge=P;P=A,A=ge}H(he.x,he.y,k.x,k.y,ie.x,ie.y)}if(ee){var de=P;P=A,A=de}break;case 1:var ce=Z<0,xe=void 0,ye=void 0;if(ce){var me=P;P=A,A=me,xe=O,ye=D}else xe=D,ye=O;var pe=ce?_(this.inner,I):u(this.inner,I),ve=void 0,fe=void 0;Y?(ve=ce?h(this.innerPrev,U):l(this.innerPrev,U),fe=ce?l(this.innerNext,k):h(this.innerNext,k)):(ve=pe,fe=pe);var Ee=ce?l(this.roundStart,U):h(this.roundStart,U),Ne=ce?h(this.roundEnd,k):l(this.roundEnd,k),we=H(ve.x,ve.y,-U.x,-U.y,xe.x,xe.y),Se=H(Ee.x,Ee.y,-U.x,-U.y,ye.x,ye.y);if(j)break;var Te=this.writeVertex(a,y,m,p,-U.x,-U.y,0,0,0,0,q);Y||this.writeTriangle(P,A,Te);var Le=_(this.outer,pe),Ge=this.writeVertex(a,y,m,p,k.x,k.y,Ne.x,Ne.y,ye.x,ye.y,q),Ue=void 0,ke=void 0,be=X>2;if(be){var Re=void 0;X!==Number.MAX_VALUE?(Le.x/=X,Le.y/=X,Re=(X*((Re=c(U,Le))*Re-1)+1)/Re):Re=-1,(Ue=ce?l(this.startBreak,U):h(this.startBreak,U)).x+=U.x*Re,Ue.y+=U.y*Re,(ke=ce?h(this.endBreak,k):l(this.endBreak,k)).x+=k.x*Re,ke.y+=k.y*Re}x(C,Le,-U.x,-U.y);var Ie=this.writeVertex(a,y,m,p,-U.x,-U.y,Le.x,Le.y,C.x,C.y,q);x(C,Le,k.x,k.y);var Oe=T?this.writeVertex(a,y,m,p,k.x,k.y,Le.x,Le.y,C.x,C.y,q):Ie,De=Te,Ce=T?this.writeVertex(a,y,m,p,k.x,k.y,0,0,0,0,q):Te,Pe=-1,Ae=-1;if(be&&(x(C,Ue,-U.x,-U.y),Pe=this.writeVertex(a,y,m,p,-U.x,-U.y,Ue.x,Ue.y,C.x,C.y,q),x(C,ke,k.x,k.y),Ae=this.writeVertex(a,y,m,p,k.x,k.y,ke.x,ke.y,C.x,C.y,q)),T?be?(this.writeTriangle(De,Se,Pe),this.writeTriangle(De,Pe,Ie),this.writeTriangle(Ce,Oe,Ae),this.writeTriangle(Ce,Ae,Ge)):(this.writeTriangle(De,Se,Ie),this.writeTriangle(Ce,Oe,Ge)):be?(this.writeTriangle(Te,Se,Pe),this.writeTriangle(Te,Pe,Ae),this.writeTriangle(Te,Ae,Ge)):(this.writeTriangle(Te,Se,Ie),this.writeTriangle(Te,Oe,Ge)),Y?(P=this.writeVertex(a,y,m,p,k.x,k.y,fe.x,fe.y,xe.x,xe.y,q),A=Ge):(P=T?this.writeVertex(a,y,m,p,k.x,k.y,fe.x,fe.y,xe.x,xe.y,q):we,this.writeTriangle(P,Ce,Ge),A=Ge),ce){var Me=P;P=A,A=Me}}}}}}]),e}()}}]);
//# sourceMappingURL=35.f206b298.chunk.js.map