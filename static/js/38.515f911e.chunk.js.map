{"version":3,"sources":["../node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js","../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js","../node_modules/@arcgis/core/symbols/cim/SDFHelper.js"],"names":["u","t","getLogger","y","e","h","g","d","N","i","o","r","b","markerPlacement","angleToLine","k","a","n","s","type","error","symbol","l","primitiveOverrides","valueExpressionInfo","expression","spatialReference","fields","then","primitiveName","propertyName","push","value","Promise","all","O","symbolLayers","c","f","getSize","angleAlignment","m","length","enable","p","findApplicableOverrides","C","P","L","M","X","I","x","w","z","J","color","D","JSON","stringify","toString","templateHash","materialHash","cim","materialOverrides","colorLocked","F","j","height","angle","offsetX","offsetY","scaleX","effects","tintColor","url","colorSubstitutions","rotation","filter","indexOf","separation","lineSymbol","W","width","capStyle","joinStyle","miterLimit","S","v","isOutline","cap","join","referenceWidth","zOrder","A","name","isDashed","stepY","gridAngle","size","scaleSymbolsProportionally","alignment","anchorPoint","isAbsoluteAnchorPoint","anchorPointUnits","outlineColor","outlineWidth","frameHeight","rotateClockwise","referenceSize","sizeRatio","markerGraphics","frame","ymax","ymin","Y","H","geometry","underline","strikethrough","toLowerCase","style","weight","fontStyleName","font","family","fontFamilyName","decoration","xmin","xmax","getFillColor","getStrokeColor","getStrokeWidth","haloSymbol","haloSize","R","Number","$","fontName","horizontalAlignment","verticalAlignment","text","textString","textCase","outlineSize","geom","asFill","billboardMode3D","depth3D","respectFrame","clippingPath","getTextureAnchor","parseInt","substr","NaN","toRgba","Array","call","$view","geometryType","fn","buildOverrideKey","T","parse","applyOverrides","Map","transform","hasZ","hasM","has","set","get","referencesGeometry","repurposeFeature","evaluate","$feature","warn","rings","paths","Math","floor","max","round","sqrt","Uint8Array"],"mappings":"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","file":"static/js/38.515f911e.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import t from\"../../core/Logger.js\";import{pt2px as i}from\"../../core/screenUtils.js\";import{numericHash as o}from\"../../core/string.js\";import{createRendererExpression as r,ArcadeExpression as n}from\"../../support/arcadeOnDemand.js\";import{CIMSymbolHelper as a,OverrideHelper as l}from\"./CIMSymbolHelper.js\";import{getExtent as s,getSDFMetrics as c}from\"./SDFHelper.js\";import{fromCIMColor as f,_adjustTextCase as m}from\"./utils.js\";import p from\"../../views/2d/arcade/callExpressionWithFeature.js\";const u=t.getLogger(\"esri.symbols.cim.cimAnalyzer\");function y(e){switch(e){case\"Butt\":return 0;case\"Square\":return 2;case\"Round\":default:return 1}}function h(e){switch(e){case\"Bevel\":return 0;case\"Miter\":return 2;case\"Round\":default:return 1}}function g(e){switch(e){case\"Left\":default:return\"left\";case\"Right\":return\"right\";case\"Center\":return\"center\";case\"Justify\":return\"justify\"}}function d(e){switch(e){case\"Top\":default:return\"top\";case\"Center\":return\"middle\";case\"Baseline\":return\"baseline\";case\"Bottom\":return\"bottom\"}}function S(e){let t=\"normal\",i=\"normal\";if(e){const o=e.toLowerCase();-1!==o.indexOf(\"italic\")?t=\"italic\":-1!==o.indexOf(\"oblique\")&&(t=\"oblique\"),-1!==o.indexOf(\"bold\")?i=\"bold\":-1!==o.indexOf(\"light\")&&(i=\"lighter\")}return{style:t,weight:i}}function v(e){return e.underline?\"underline\":e.strikethrough?\"line-through\":\"none\"}function N(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function b(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function k(e,t,i,o){const n=null!=i?i:[];if(!e)return n;let a,l;const s={};if(\"CIMSymbolReference\"!==e.type)return u.error(\"Expect cim type to be 'CIMSymbolReference'\"),n;if(a=e.symbol,l=e.primitiveOverrides,l){const e=[];for(const i of l){const o=i.valueExpressionInfo;if(o&&t){const n=o.expression,a=r(n,t.spatialReference,t.fields).then((e=>{e&&N(s,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&N(s,i.primitiveName,i.propertyName,i.value)}await Promise.all(e)}switch(a.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":O(a,l,s,t,n,o)}return n}function O(e,t,i,o,r,n){if(!e)return;const s=e.symbolLayers;if(!s)return;let c;const f=a.getSize(e);\"CIMPointSymbol\"===e.type&&\"Map\"===e.angleAlignment&&(c=1);let m=s.length;for(;m--;){const a=s[m];if(!a||!1===a.enable)continue;const p=[];switch(l.findApplicableOverrides(a,t,p),a.type){case\"CIMSolidFill\":C(a,i,p,o,r);break;case\"CIMPictureFill\":P(a,i,p,o,r);break;case\"CIMHatchFill\":L(a,i,p,o,r);break;case\"CIMGradientFill\":M(a,i,p,o,r);break;case\"CIMSolidStroke\":X(a,i,p,o,r,\"CIMPolygonSymbol\"===e.type,f);break;case\"CIMPictureStroke\":I(a,i,p,o,r,\"CIMPolygonSymbol\"===e.type,f);break;case\"CIMGradientStroke\":x(a,i,p,o,r,\"CIMPolygonSymbol\"===e.type,f);break;case\"CIMCharacterMarker\":if(w(a,i,p,o,r))break;break;case\"CIMPictureMarker\":if(w(a,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(c=b(a)),z(a,i,p,o,r,c,f);break;case\"CIMVectorMarker\":if(w(a,i,p,o,r))break;\"CIMLineSymbol\"===e.type&&(c=b(a)),J(a,i,p,o,r,c,f,n);break;default:u.error(\"Cannot analyze CIM layer\",a.type)}}}function C(e,t,i,r,n){const a=e.primitiveName,l=f(e.color),[s,c]=D(i,a),m=o(JSON.stringify(e)+c).toString();n.push({type:\"fill\",templateHash:m,materialHash:s?()=>m:m,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:F(a,t,\"Color\",r,l,j),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:e.effects})}function P(e,t,i,r,n){const a=e.primitiveName,l=e.tintColor?f(e.tintColor):{r:255,g:255,b:255,a:1},[s,c]=D(i,a),m=o(JSON.stringify(e)+c).toString(),p=o(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString();n.push({type:\"fill\",templateHash:m,materialHash:s?()=>p:p,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:F(a,t,\"TintColor\",r,l,j),height:F(a,t,\"Height\",r,e.height),scaleX:F(a,t,\"ScaleX\",r,e.scaleX),angle:F(a,t,\"Rotation\",r,e.rotation),offsetX:F(a,t,\"OffsetX\",r,e.offsetX),offsetY:F(a,t,\"OffsetY\",r,e.offsetY)})}function L(e,t,i,r,n){const a=[\"Rotation\",\"OffsetX\",\"OffsetY\"],l=i.filter((t=>t.primitiveName!==e.primitiveName&&-1===a.indexOf(t.propertyName))),s=e.primitiveName,[c,f]=D(i,s),m=o(JSON.stringify(e)+f).toString(),p=o(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();n.push({type:\"fill\",templateHash:m,materialHash:c?W(p,t,l,r):p,cim:e,materialOverrides:l,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:F(s,t,\"Separation\",r,e.separation),scaleX:1,angle:F(s,t,\"Rotation\",r,e.rotation),offsetX:F(s,t,\"OffsetX\",r,e.offsetX),offsetY:F(s,t,\"OffsetY\",r,e.offsetY)})}function M(e,t,i,r,n){const a=e.primitiveName,[l,s]=D(i,a),c=o(JSON.stringify(e)+s).toString();n.push({type:\"fill\",templateHash:c,materialHash:l?W(c,t,i,r):c,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function X(e,t,i,r,n,a,l){const s=e.primitiveName,c=f(e.color),m=void 0!==e.width?e.width:4,p=y(e.capStyle),u=h(e.joinStyle),g=e.miterLimit,[d,S]=D(i,s),v=o(JSON.stringify(e)+S).toString();n.push({type:\"line\",templateHash:v,materialHash:d?()=>v:v,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:F(s,t,\"Color\",r,c,j),width:F(s,t,\"Width\",r,m),cap:F(s,t,\"CapStyle\",r,p),join:F(s,t,\"JoinStyle\",r,u),miterLimit:F(s,t,\"MiterLimit\",r,g),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function I(e,t,i,r,n,a,l){const s=o(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),c=e.primitiveName,m=f(e.tintColor),p=void 0!==e.width?e.width:4,u=y(e.capStyle),g=h(e.joinStyle),d=e.miterLimit,[S,v]=D(i,c),N=o(JSON.stringify(e)+v).toString();n.push({type:\"line\",templateHash:N,materialHash:S?()=>s:s,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:F(c,t,\"TintColor\",r,m,j),width:F(c,t,\"Width\",r,p),cap:F(c,t,\"CapStyle\",r,u),join:F(c,t,\"JoinStyle\",r,g),miterLimit:F(c,t,\"MiterLimit\",r,d),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function x(e,t,i,r,n,a,l){const s=e.primitiveName,c=void 0!==e.width?e.width:4,f=y(e.capStyle),m=h(e.joinStyle),p=e.miterLimit,[u,g]=D(i,s),d=o(JSON.stringify(e)+g).toString();n.push({type:\"line\",templateHash:d,materialHash:u?W(d,t,i,r):d,cim:e,materialOverrides:null,isOutline:a,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},width:F(s,t,\"Width\",r,c),cap:F(s,t,\"CapStyle\",r,f),join:F(s,t,\"JoinStyle\",r,m),miterLimit:F(s,t,\"MiterLimit\",r,p),referenceWidth:l,zOrder:A(e.name),isDashed:!1})}function w(e,t,i,r,n){const a=e.markerPlacement;if(!a||\"CIMMarkerPlacementInsidePolygon\"!==a.type)return!1;const l=a,s=[\"Rotation\",\"OffsetX\",\"OffsetY\"],c=i.filter((t=>t.primitiveName!==e.primitiveName&&-1===s.indexOf(t.propertyName))),[f,m]=D(i,l.primitiveName),p=o(JSON.stringify(e)+m).toString();return n.push({type:\"fill\",templateHash:p,materialHash:f?W(p,t,c,r):p,cim:e,materialOverrides:c,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:F(l.primitiveName,t,\"StepY\",r,l.stepY),scaleX:1,angle:F(l.primitiveName,t,\"GridAngle\",r,l.gridAngle),offsetX:F(l.primitiveName,t,\"OffsetX\",r,l.offsetX),offsetY:F(l.primitiveName,t,\"OffsetY\",r,l.offsetY)}),!0}function z(e,t,i,r,n,a,l){const s=e.primitiveName,c=e.size,m=e.scaleX,p=e.rotation,u=e.offsetX,y=e.offsetY,h=f(e.tintColor),g=o(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),[d,S]=D(i,s),v=o(JSON.stringify(e)+S).toString();n.push({type:\"marker\",templateHash:v,materialHash:d?()=>g:g,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:!1,alignment:a,size:F(s,t,\"Size\",r,c),scaleX:F(s,t,\"ScaleX\",r,m),rotation:F(s,t,\"Rotation\",r,p),offsetX:F(s,t,\"OffsetX\",r,u),offsetY:F(s,t,\"OffsetY\",r,y),color:F(s,t,\"TintColor\",r,h,j),anchorPoint:e.anchorPoint,isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:l,sizeRatio:1,markerPlacement:e.markerPlacement})}function J(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case\"CIMPointSymbol\":case\"CIMLineSymbol\":case\"CIMPolygonSymbol\":Y(e,f,i,t,o,r,n,a,c,l);break;case\"CIMTextSymbol\":H(e,f,t,i,o,r,n,a,c)}}}function H(e,t,i,r,n,s,c,p,u){const y=[];l.findApplicableOverrides(t,r,y);const h=t.geometry;if(!(\"x\"in h)||!(\"y\"in h))return;const N=t.symbol,b=v(N),k=S(N.fontStyleName);N.font={family:N.fontFamilyName,decoration:b,...k};const O=e.frame,C=h.x-.5*(O.xmin+O.xmax),P=h.y-.5*(O.ymin+O.ymax),L=e.size/u,M=e.primitiveName,X=(N.height||0)*L,I=N.angle||0,x=((N.offsetX||0)+C)*L,w=((N.offsetY||0)+P)*L,z=f(a.getFillColor(N));let J=f(a.getStrokeColor(N)),H=a.getStrokeWidth(N);H||(J=f(a.getFillColor(N.haloSymbol)),H=N.haloSize*L);let Y=\"\";for(const o of r)o.primitiveName===M&&void 0!==o.value&&(Y+=`-${o.primitiveName}-${o.propertyName}-${JSON.stringify(o.value)}`);const R=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),$=o(JSON.stringify(t)+R+Y).toString();s.push({type:\"text\",templateHash:$,materialHash:()=>o(JSON.stringify(N.font)).toString(),cim:N,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,alignment:c,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:\"Relative\"!==e.anchorPointUnits,fontName:N.fontFamilyName,decoration:\"none\",weight:\"normal\",style:\"normal\",size:F(M,i,\"Size\",n,X),angle:F(M,i,\"Rotation\",n,I),offsetX:F(M,i,\"OffsetX\",n,x),offsetY:F(M,i,\"OffsetY\",n,w),horizontalAlignment:g(N.horizontalAlignment),verticalAlignment:d(N.verticalAlignment),text:F(t.primitiveName,i,\"TextString\",n,t.textString,m,N.textCase),color:z,outlineColor:J,outlineSize:H,referenceSize:p,sizeRatio:1,markerPlacement:e.markerPlacement})}function Y(e,t,i,r,n,l,m,p,u,y){const h=t.symbol,g=t.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void R(e,t,r,i,n,l,m,p,u);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case\"CIMSolidFill\":case\"CIMSolidStroke\":{const h=s(g);if(!h)continue;const[d,S,v]=c(h,e.frame,e.size,e.anchorPoint,\"Relative\"!==e.anchorPointUnits),N=\"CIMSolidFill\"===y.type,b={type:\"sdf\",geom:g,asFill:N},k=e.primitiveName,O=e.size,C=e.rotation||0,P=e.offsetX,L=e.offsetY,M=y.primitiveName,X=f(N?a.getFillColor(y):a.getStrokeColor(y)),I=N?{r:0,g:0,b:0,a:0}:f(a.getStrokeColor(y)),x=a.getStrokeWidth(y);if(!N&&!x)break;let w=!1,z=\"\";for(const e of i)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...e,markerGraphics:null}),H=o(JSON.stringify(b)).toString(),Y={type:\"marker\",templateHash:o(JSON.stringify(t)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:b,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:m,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:F(e.primitiveName,r,\"Size\",n,O),rotation:F(e.primitiveName,r,\"Rotation\",n,C),offsetX:F(e.primitiveName,r,\"OffsetX\",n,P),offsetY:F(e.primitiveName,r,\"OffsetY\",n,L),scaleX:1,frameHeight:u,rotateClockwise:e.rotateClockwise,referenceSize:p,sizeRatio:d,color:F(M,r,\"Color\",n,X,j),outlineColor:F(M,r,\"Color\",n,I,j),outlineWidth:F(M,r,\"Width\",n,x),markerPlacement:e.markerPlacement};l.push(Y);break}default:R(e,t,r,i,n,l,m,p,u)}}}function R(e,t,r,n,l,s,c,f,m){const p=$(e,t);let u=[];const y=[\"Rotation\",\"OffsetX\",\"OffsetY\"];u=n.filter((t=>t.primitiveName!==e.primitiveName||-1===y.indexOf(t.propertyName)));let h=\"\";for(const i of n)void 0!==i.value&&(h+=`-${i.primitiveName}-${i.propertyName}-${JSON.stringify(i.value)}`);const[g,d,S]=a.getTextureAnchor(p),v=e.primitiveName,N=e.rotation||0,b=e.offsetX||0,k=e.offsetY||0,O=o(JSON.stringify(p)+h).toString(),C={type:\"marker\",templateHash:O,materialHash:0===u.length?O:W(O,r,u,l),cim:p,materialOverrides:u,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:c,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:e.size,rotation:F(v,r,\"Rotation\",l,N),offsetX:F(v,r,\"OffsetX\",l,b),offsetY:F(v,r,\"OffsetY\",l,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:e.rotateClockwise,referenceSize:f,sizeRatio:S/i(e.size),markerPlacement:e.markerPlacement};s.push(C)}function $(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}function A(e){if(e&&0===e.indexOf(\"Level_\")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function j(t){if(!t||0===t.length)return null;const i=new e(t).toRgba();return{r:i[0],g:i[1],b:i[2],a:i[3]}}function F(e,t,i,o,r,a,l){const s=t[e];if(s){const e=s[i];if(\"string\"==typeof e||\"number\"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof n)return(t,i,n)=>{let s=p(e,t,{$view:n},o.geometryType,i);return null!==s&&a&&(s=a.call(null,s,l)),null!==s?s:r}}return r}function W(e,t,i,r){for(const o of i){if(o.valueExpressionInfo){const e=t[o.primitiveName]&&t[o.primitiveName][o.propertyName];e instanceof n&&(o.fn=(t,i,o)=>p(e,t,{$view:o},r.geometryType,i))}}return(t,r,n)=>{for(const e of i)e.fn&&(e.value=e.fn(t,r,n));return o(e+l.buildOverrideKey(i)).toString()}}function T(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return l.applyOverrides(i,t),i}function D(e,t){let i=!1,o=\"\";for(const r of e)r.primitiveName===t&&(void 0!==r.value?o+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(i=!0));return[i,o]}export{T as analyzeCIMResource,k as analyzeCIMSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{unquantizeMultipoint as t,unquantizePolyline as o,unquantizePolygon as n,unquantizePoint as a}from\"../../../geometry/support/quantizationUtils.js\";function s(e,t,o,n,a){const s=e.referencesGeometry()&&a?u(t,n,a):t,i=e.repurposeFeature(s);try{return e.evaluate({...o,$feature:i})}catch(c){return r.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",c),null}}const i=new Map;function u(e,r,t){const{transform:o,hasZ:n,hasM:a}=t;i.has(r)||i.set(r,c(r));const s=i.get(r)(e.geometry,o,n,a);return{...e,geometry:s}}function c(s){const i={};switch(s){case\"esriGeometryPoint\":return(e,r,t,o)=>a(r,i,e,t,o);case\"esriGeometryPolygon\":return(e,r,t,o)=>n(r,i,e,t,o);case\"esriGeometryPolyline\":return(e,r,t,n)=>o(r,i,e,t,n);case\"esriGeometryMultipoint\":return(e,r,o,n)=>t(r,i,e,o,n);default:return r.getLogger(\"esri.views.2d.support.arcadeOnDemand\").error(new e(\"mapview-arcade\",`Unable to handle geometryType: ${s}`)),e=>e}}export default s;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isExtent as t}from\"../../geometry/support/jsonUtils.js\";import{packFloatRGBA as n}from\"./packingUtils.js\";import o from\"./Rect.js\";function r(t){if(!t)return null;switch(t.type){case\"CIMPointSymbol\":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case\"CIMVectorMarker\":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||\"CIMPolygonSymbol\"!==l.type&&\"CIMLineSymbol\"!==l.type?null:{geom:r,asFill:\"CIMPolygonSymbol\"===l.type}}case\"sdf\":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||\"CIMPolygonSymbol\"!==r.type&&\"CIMLineSymbol\"!==r.type?null:r}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let n=1/0,r=-1/0,l=1/0,e=-1/0;for(const o of t)for(const t of o)t[0]<n&&(n=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new o(n,l,r-n,e-l)}function s(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function f(n){return n?n.rings?s(n.rings):n.paths?s(n.paths):t(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function m(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=128,u=1,y=Math.floor(.5*(.5*c-u)),h=(c-2*(y+u))/Math.max(m,a),x=Math.round(m*h)+2*y,M=Math.round(a*h)+2*y;let g=1;if(n){g=M/h/(n.ymax-n.ymin)}let p=0,d=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);p=r.x/(o*t),d=r.y/o}}else p=r.x,d=r.y;p=.5*(n.xmax+n.xmin)+p*(n.xmax-n.xmin),d=.5*(n.ymax+n.ymin)+d*(n.ymax-n.ymin),p-=e,d-=i,p*=h,d*=h,p+=y,d+=y;return[g,p/x-.5,-(d/M-.5)]}function a(t){const n=e(t.geom),o=i(n),r=128,l=1,s=Math.floor(.5*(.5*r-l)),f=(r-2*(s+l))/Math.max(o.width,o.height),m=Math.round(o.width*f)+2*s,a=Math.round(o.height*f)+2*s,h=[];for(const e of n)if(e&&e.length>1){const n=[];for(const t of e){let[r,l]=t;r-=o.x,l-=o.y,r*=f,l*=f,r+=s-.5,l+=s-.5,n.push([r,l])}if(t.asFill){const t=n.length-1;n[0][0]===n[t][0]&&n[0][1]===n[t][1]||n.push(n[0])}h.push(n)}const x=c(h,m,a,s);return t.asFill&&u(h,m,a,s,x),[y(x,s),m,a]}function c(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,m,a,c;t[0]<i[0]?(f=t[0],m=i[0]):(f=i[0],m=t[0]),t[1]<i[1]?(a=t[1],c=i[1]):(a=i[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let s,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(s=t[0],f=t[1]):m>p?(s=i[0],f=i[1]):(m/=p,s=t[0]+m*M,f=t[1]+m*g);const a=(r-s)*(r-s)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function u(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}function y(t,o){const r=2*o,l=t.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const o=.5-t[i]/r;n(o,e,4*i)}return e}export{a as buildSDF,f as getExtent,r as getSDFInfo,m as getSDFMetrics,l as getSDFSymbol};\n"],"sourceRoot":""}