{"version":3,"sources":["../node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DTool.js","../node_modules/@arcgis/core/widgets/DistanceMeasurement2D/DistanceMeasurement2DViewModel.js","../node_modules/@arcgis/core/widgets/DistanceMeasurement2D.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/views/interactive/coordinateHelper.js","../node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","../node_modules/@arcgis/core/support/requestImageUtils.js","../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js","../node_modules/@arcgis/core/libs/basisu/BasisU.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassGeometryTest.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/views/interactive/snapping/Settings.js","../node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/SnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/IntersectionSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/ParallelSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/hints/RightAngleSnappingHint.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/draw/DrawAction.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryHelper.js","../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","../node_modules/@arcgis/core/views/draw/input/DrawEvents.js","../node_modules/@arcgis/core/views/interactive/keybindings.js","../node_modules/@arcgis/core/chunks/MultipointDrawAction.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingDragPipelineStep.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/sdfPrimitives.js","../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawingMode.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawOperation.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/drawSurfaces.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawTool.js","../node_modules/@arcgis/core/views/draw/PointDrawAction.js","../node_modules/@arcgis/core/views/draw/PolygonDrawAction.js","../node_modules/@arcgis/core/views/draw/PolylineDrawAction.js","../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js","../node_modules/@arcgis/core/views/draw/SegmentDrawAction.js","../node_modules/@arcgis/core/views/draw/Draw.js"],"names":["W","U","arguments","_drawActive","_handles","s","_polylineLayer","g","_manipulatorLayer","_groupLayer","j","layers","listMode","visible","_vertices","geodesicDistanceThreshold","measurement","measurementLabel","M","then","e","messages","this","add","D","a","startToolCreation","detach","_draw","destroy","_set","reset","length","_startSketch","view","b","map","focus","n","_updatePolylines","O","d","u","finishToolCreation","remove","removeAll","_updateSketch","type","_updateCursor","create","mode","on","vertices","_stopSketch","manipulators","forEach","manipulator","interactive","complete","spatialReference","t","pop","manipulatorId","i","r","o","R","style","color","handleColor","size","handleWidth","outline","width","geometry","symbol","x","layer","graphic","focusedSymbol","z","I","y","palette","S","next","L","C","coord","push","findById","id","cursor","P","paths","isGeographic","v","f","w","E","WGS84","isWebMercator","m","p","c","original","drawing","B","H","unit","pathPrimaryColor","pathSecondaryColor","l","pathWidth","addMany","k","data","symbolLayers","effects","dashTemplate","lineDashEnding","controlPointEnding","enable","capStyle","joinStyle","extent","center","T","haloColor","haloSize","font","G","family","text","A","isWGS84","prototype","value","Number","readOnly","constructOnly","N","h","getLogger","supportedViewType","tool","isDisabled","_","active","_validateUnit","defaultUnit","_override","_clearOverride","_validateUnits","createTool","removeTool","toolConstructor","constructorArguments","error","unitOptions","indexOf","filter","slice","aliasOf","String","buttonDisabled","widgetIcon","base","container","hint","hintText","panelError","measurementItem","measurementItemDisabled","measurementItemTitle","measurementItemValue","settings","units","unitsLabel","unitsSelect","unitsSelectWrapper","actionSection","newMeasurementButton","iconClass","label","messagesUnits","viewModel","isSupported","state","key","class","unsupported","classes","distance","for","onchange","_changeUnit","bind","systems","pluralCapitalized","$","disabled","onclick","_newMeasurement","title","newMeasurement","start","target","options","selectedIndex","source","overridable","left","right","index","component","_pos","unnormalizeVertexPositions","edges","coordinateHelper","unnormalize","swapVertices","undoStack","redoStack","components","lastOperation","accumulate","apply","undo","createPoint","pos","toArray","find","hasZ","hasM","isClosed","rings","fromArray","fromPoint","xoffset","Math","max","abs","yoffset","stops","maxSize","minSize","floor","renderer","event","pointerType","visualVariables","uniqueValueInfos","classBreakInfos","vertex","code","screenSizePerspective","screenSizePerspectiveAlignment","resolution","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","xmin","min","ymin","xmax","ymax","toMap","intersects","viewingMode","_unnormalizationInfo","tag","valueType","X","supported","upperBoundX","lowerBoundX","Z","valid","signedDistanceFieldEnabled","include","output","fragment","varyings","binaryHighlightOcclusionEnabled","uniforms","screenSizePerspectiveEnabled","debugDrawBorder","attributes","vvSize","occlusionTestEnabled","pixelSnappingEnabled","vvColor","float","FrontFacePass","setUniform4fv","textureIsSignedDistanceField","outlineColor","outlineSize","setUniform1f","setUniform2f","screenOffset","setUniform2fv","anchorPos","distanceFieldBoundingBox","Object","freeze","__proto__","build","bindHUDMaterialUniforms","calculateAnchorPosForRendering","verticalOffsetEnabled","verticalOffset","camera","fovY","fullViewport","pixelRatio","setUniform4f","screenLength","perDistance","minWorldLength","maxWorldLength","tan","responseType","_visibilityHandles","fullExtent","operationalLayerType","_visibilityWatcher","_enforceVisibility","visibilityMode","watch","_visibleWatcher","webmap","getLayerJSONFromResourceInfo","layerType","_get","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","_turnOffOtherLayers","uid","initialized","getItemAt","_isAnyLayerVisible","some","json","read","write","ignoreOrigin","origins","constants","isDraped","screenCenterOffsetUnitsEnabled","renderTransparentlyOccludedHUD","default","locateFile","initializeBasis","ceil","getNumImages","isUASTC","getFaces","isETC1S","BasisFile","Uint8Array","startTranscoding","getNumLevels","getHasAlpha","getImageWidth","getImageHeight","getImageTranscodedSizeInBytes","transcodeImage","close","delete","KTX2File","getLevels","getWidth","getHeight","capabilities","compressedTextureETC","compressedTextureS3TC","hasMipmap","samplingMode","internalFormat","height","levels","charCodeAt","Int32Array","fromCharCode","F","warn","textureData","glTexture","powerOfTwoStretchInfo","loadingPromise","loadingController","events","params","mipmap","noUnpackFlip","preMultiplyAlpha","wrap","powerOfTwoResizeMode","estimatedTexMemRequired","estimateTexMemRequired","startPreload","HTMLVideoElement","startPreloadVideoElement","HTMLImageElement","startPreloadImageElement","src","preload","crossOrigin","pixelFormat","dataType","wrapMode","flipped","maxAnisotropy","parameters","maxMaxAnisotropy","createDescriptor","loadFromURL","Image","loadFromImageElement","loadFromVideoElement","ImageData","HTMLCanvasElement","loadFromImage","encoding","DDS_ENCODING","loadFromDDSData","KTX2_ENCODING","loadFromKTX2","BASIS_ENCODING","loadFromBasis","loadFromPixelData","readyState","currentTime","framebuffer","vao","sourceTexture","setData","drawStretchedTexture","descriptor","updateData","generateMipmap","loadAsync","signal","loadFromVideoElementAsync","removeEventListener","addEventListener","getDataDimensions","requiresPowerOfTwo","makePowerOfTwoTexture","gl","textureCoordinateScaleFactor","stretchToPowerOfTwo","colorTarget","depthStencilTarget","requiresFrameUpdates","dispose","detachColorTexture","bindFramebuffer","getViewport","setViewport","program","useProgram","bindTexture","bindVAO","setPipelineState","pipeline","drawArrays","abort","emit","videoWidth","videoHeight","byteLength","editGeometry","addedVertex","originalEdge","getLastVertex","splice","updateVertexIndex","addedVertices","operation","removedVertices","_textureIDs","Set","_textureRepository","textureRep","_textureId","textureId","_initTransparent","initTextureTransparent","_texture","_acquire","_textureNormal","normalTextureId","_textureEmissive","emissiveTextureId","_textureOcclusion","occlusionTextureId","_textureMetallicRoughness","metallicRoughnessTextureId","release","clear","_release","acquire","multipassGeometryEnabled","geometryLinearDepthTexture","_quadMaterial","_outlineMaterial","_maxSize","_position","_up","_right","_renderOccluded","_color","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","applyProps","_updateQuadMaterial","_updateOutlineMaterial","recreateGeometry","_updateTransform","previous","quadMaterialParameters","outlineMaterialParameters","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","addGeometry","get","createPolylineGeometry","object","computeScreenPixelSizeAt","transformation","exclusive","Uint16Array","transparent","writeDepth","polygonOffset","renderOccluded","setParameterValues","multipassTerrainEnabled","selectable","grabbable","dragging","EventEmitter","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","elevationInfo","offset","_updateGraphicSymbol","action","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","_focused","originalPoint","clone","mapPoint","radiusPx","toScreen","renderSpatialReference","eye","nonNullable","main","selected","selectedOutline","hoverOutline","secondary","secondaryOutline","hoverSize","hoverColor","hoverOutlineColor","stagedColor","stagedOutlineColor","midpoint","fill","line","reshapeGraphics","transformGraphics","enabled","Boolean","lineSnapper","parallelLineSnapper","rightAngleSnapper","rightAngleTriangleSnapper","shortLineThreshold","pointThreshold","intersectionParallelLineThreshold","parallelLineThreshold","touchSensitivityMultiplier","pointOnLineThreshold","orange","lineHintWidthReference","lineHintWidthTarget","lineHintFadedExtensions","parallelLineHintWidth","parallelLineHintLength","parallelLineHintOffset","rightAngleHintSize","rightAngleHintOutlineSize","range","step","toXYZ","renderCoordsHelper","toRenderCoords","intersectionPoint","lineStart","lineEnd","fadeLeft","fadeRight","point","previousVertex","centerVertex","nextVertex","getUniqueHints","visualizeIntersectionPoint","visualizeLine","visualizeParallelSign","visualizeRightAngleQuad","visualizePoint","graphicsLayer","_visualizeSnappingIndicator","toRgb","miterLimit","anchorPoint","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","frame","markerGraphics","scaleSymbolsProportionally","respectFrame","rotation","placeOnEndPoints","undone","updatedVertices","canAccumulate","accumulateParams","helper","minNumberOfVertices","_removeVertex","removedVertex","_undoRemoveVertex","createdEdge","edge","createdVertex","lerp","createNew","unshift","dx","dy","dz","addDelta","move","planeType","_plane","_offsetPlane","_minDistance","_maxDistance","_initialize","_left","isOriginalDirection","_edgeDirection","_initializeNeighbors","_initializePlane","_initializeDistanceConstraints","_toXYZ","_computeNeighbor","end","direction","_passesBisectingAngleThreshold","_bisectVectorsPerpendicular","PI","_bisectDirection","_computeNormalDirection","requiresSplitEdgeLeft","_updateDistanceConstraint","requiresSplitEdgeRight","_updateIntersectDistanceConstraint","_pointInBasis2D","isFinite","copy","fromXYZ","getM","plane","_offset","_maybeEqualsVec3","_cloneNeighbor","origin","angle","accumulationType","rotate","axis1","factor1","factor2","axis2","scale","operations","closed","_geometry","_dirty","_listener","updateVertices","_minNumVerticesPerType","canUndo","redo","canRedo","toPoint","toPolyline","toPolygon","fromGeometry","vertexHandle","excludeFeature","visualizer","pointer","_hasZ","_cursorScreenPoint","_snappingTask","_stagedVertex","_stagedVertexUnsnapped","_lastVertexUnsnapped","_nativeEventHistory","interactiveUndoDisabled","history","redoHistory","snapToScene","defaultZ","_coordinateHelper","_snappingManager","snappingManager","_editGeometry","editGeometryType","_snappingGraphicsLayer","SNAPPING_GRAPHICS_LAYER_ID","internal","_snappingContext","_activeComponent","doneSnapping","_committedVertices","pointToArray","notifyChange","screenToMap","update","snap","sceneIntersectionHelper","intersectElevationFromScreen","getGeometryZValue","createDehydratedPoint","getCoordsFromScreenPoint","_addVertex","native","_completeDrawing","EventedAccessor","V","vertexIndex","defaultPrevented","coordinates","_popVertexOnPointerMove","_addVertexOnPointerUp","_activePointerId","_viewHandles","_undoRedoHandles","_addViewHandles","_addUndoRedoHandles","_removeViewHandles","_removeUndoRedoHandles","stopPropagation","TOOL","_shouldHandlePointerEvent","pointerId","_vertexAddHandler","_drawCompleteHandler","repeat","_isDuplicateOfLastVertex","_popCursorVertex","appendVertex","Event","getCoordsAndPointFromScreenPoint","_pushCursorVertex","promise","button","predicate","cancel","snappingContext","updatingHandles","frameTask","resourceController","scheduler","registerTask","SNAPPING","context","info","handle","originalPos","snapOrigin","mapStart","mapEnd","schedule","execute","addPromise","_ray","_externalResources","_isWorldDown","_start","_end","_width","_polygonOffset","_writeDepthEnabled","_innerWidth","_innerColor","_stippleIntegerRepeats","_stipplePattern","_stippleOffColor","_falloff","_extensionType","_laserlineStyle","_laserlineEnabled","_fadedExtensions","materialParameters","updateGeometry","attached","material","laserline","extensionType","Float32Array","worldUpAtPosition","updateMaterial","recreate","_laserlineAttached","stippleOffColor","stipplePattern","stippleIntegerRepeats","innerWidth","innerColor","falloff","geometries","updateLineSegmentFinite","updateLineSegmentInfinite","updateVertexAttributes","intersectsLine","c0","MAX_VALUE","elevationProvider","getElevation","getAltitude","ray","c1","frustum","getMutableAttribute","fadedExtensions","geometryVertexAttrsUpdated","_location","_direction","_length","projectToScreen","location","geometryRecords","unprojectFromScreen","resourceFactory","_resources","_visible","_attached","_destroyResources","external","_syncVisible","_createOrDestroyResources","_createResources","_stage","removeAllGeometries","isPickable","updatePolicy","castShadow","createResources","cameraChanged","cameraHandle","setVisible","cachedResult","_meterUnitOffset","_renderUnitOffset","_unit","_metersPerElevationInfoUnit","_featureExpressionInfoContext","centerPointInElevationSR","calculateOffsetRenderUnits","featureExpressionInfoContext","arcade","modules","arcadeUtils","executeFunction","func","unitInMeters","offsetElevationInfoUnits","createExecContext","sr","errorOncePerTick","updateExecContext","createFeature","setFromElevationInfo","sqrt","Q","SQRT2","Array","isArray","shader","configuration","transparencyPassType","sdf","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","binaryHighlightOcclusion","vvInstancingEnabled","cullAboveGround","rctx","projectionMatrix","aboveGround","setUniformMatrix4fv","viewInverseTransposeMatrix","shaderPolygonOffset","nearFar","inverseViewport","hudVisibilityTexture","rebindTextures","polygonOffsetEnabled","depthEnabled","blending","depthTest","depthWrite","colorWrite","factor","count","me","techniqueConfig","centerOffsetUnits","occlusionTest","vvSizeEnabled","vvColorEnabled","intersectDrapedHudGeometry","intersectHudGeometry","vertexAttributes","le","screenToWorldRatio","fe","pe","selectionMode","hud","re","viewMatrix","oe","ee","normalAndViewAngle","ce","applyVerticalOffsetTransformationView","Y","applyProjection","te","factorAlignment","ue","se","ae","unprojectFromRenderScreen","q","indices","ge","ne","normal","cosAngle","ie","he","minPixelSize","paddingPixels","applyVerticalGroundOffsetView","applyPolygonOffsetView","applyCenterOffsetView","applyCenterOffsetNDC","applyPolygonOffsetNDC","viewport","computeRenderPixelSizeAtDist","updateScaleInfo","fullWidth","fullHeight","J","K","updateParameters","_material","drawInSecondSlot","updateTexture","selectProgram","_technique","_techniqueRep","releaseAndAcquire","getTechniqueConfig","_output","bindTextures","bindTextureScale","bindPass","_isOcclusionSlot","_occlusionTechnique","technique","texCoordScale","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorValues","vvColorColors","de","vec3f","vec2f","vec4u8","vec4f","vertexBufferLayout","createBuffer","position","invTranspTransformation","uv0","set","auxpos1","auxpos2","_pixelSnappingEnabled","_primitive","_elevationInfo","resources","console","preferredTextureSize","updateSizeAttribute","texture","geometrySize","createRenderGeometry","createTexture","fromElevationInfo","createPointGeometry","primitive","toUnitRGBA","createLineSegmentHintFromMap","setDirectionFromPoints","outlineRenderOccluded","createLineSegmentHint","grabbableForEvent","_manipulator","snapToSceneEnabled","_snappingPipeline","_createOperationCompleted","_pointerDownStates","updating","effectiveEnabled","_frameTask","geometryType","componentIndex","added","updated","removed","drawingMode","_snappingEnabled","createManipulatorDragPipeline","_closeOnClickVertexIndex","screenPoint","discardStagedVertex","_screenToMap","hasStagedVertex","commitStagedVertex","createManipulatorDragPipelineClick","createManipulatorDragPipelineFreehand","createManipulatorDragPipelineHybrid","isCompleted","_screenToMapDragEventStep","stagedVertex","numVertices","createSnapDragEventPipelineStep","_onPointerMove","_onHold","aborted","committedVertices","has","grabbing","screenStart","screenEnd","_getDrawSurface","mapToScreen","elevationDrawSurface","getZ","sceneDrawSurface","_mapToScreen","_vertexWithinPointerDistance","EventedMixin","excludeGraphics","exclude","drawOperation","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","onInputEvent","_addDrawTool","_removeDrawTool","replacement","version","_drawTool","completeCreateOperation","toolViewManager","tools","activeTool","getVertexCoords","_panEnabled","_dragEnabled","_clickEnabled","mapToLocal","transform","transformInv","pWS","tangentFrameUpWS","tangentFrameRightWS","tangentFrameForwardWS","localFrameRightWS","localFrameUpWS","worldToLocalTransform","localToWorldTransform","referenceMapPoint","viewRight","worldBasisAtPosition","fromRenderCoords","_isDragging","viewAlignedCoordinateSystem","_getClickModeViewHandles","_getDragModeViewHandles","_resetGeometry","activeAction"],"mappings":"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","file":"static/js/59.113f8b8c.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../Graphic.js\";import\"../../intl.js\";import\"../../symbols.js\";import s from\"../../core/Handles.js\";import{formatDecimal as i,formatImperialLength as r,formatMetricLength as o}from\"../../core/unitFormatUtils.js\";import{convertUnit as a}from\"../../core/unitUtils.js\";import{init as n}from\"../../core/watchUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{geodesicLength as m,geodesicDensify as p,planarLength as c}from\"../../geometry/geometryEngine.js\";import{isLoaded as d,load as u,project as y,isSupported as _}from\"../../geometry/projection.js\";import{isSupported as v,geodesicLengths as f,geodesicDensify as w}from\"../../geometry/support/geodesicUtils.js\";import g from\"../../layers/GraphicsLayer.js\";import j from\"../../layers/GroupLayer.js\";import b from\"../../views/draw/Draw.js\";import{createManipulatorDragEventPipeline as S,screenToMap as L,dragGraphic as C}from\"../../views/interactive/dragEventPipeline.js\";import{GraphicManipulator as x}from\"../../views/interactive/GraphicManipulator.js\";import{InteractiveToolBase as A}from\"../../views/interactive/InteractiveToolBase.js\";import{fetchMessageBundle as M}from\"../../intl/messages.js\";import{onLocaleChange as D}from\"../../intl/locale.js\";import I from\"../../geometry/Point.js\";import k from\"../../symbols/CIMSymbol.js\";import T from\"../../symbols/TextSymbol.js\";import G from\"../../symbols/Font.js\";import R from\"../../symbols/SimpleMarkerSymbol.js\";import P from\"../../geometry/Polyline.js\";import E from\"../../geometry/SpatialReference.js\";const W=1e5;let U=class extends A{constructor(){super(...arguments),this._drawActive=!1,this._handles=new s,this._polylineLayer=new g,this._manipulatorLayer=new g,this._groupLayer=new j({layers:[this._polylineLayer,this._manipulatorLayer],listMode:\"hide\",visible:!1}),this._vertices=[],this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null}initialize(){M(\"esri/core/t9n/Units\").then((e=>{this.messages=e})),this._handles.add(D((async()=>{this.messages=await M(\"esri/core/t9n/Units\")}))),this.startToolCreation()}destroy(){this.detach(),this._draw&&(this._draw.destroy(),this._draw=null),this._handles&&(this._handles.destroy(),this._handles=null),this._polylineLayer&&(this._polylineLayer.destroy(),this._polylineLayer=null),this._manipulatorLayer&&(this._manipulatorLayer.destroy(),this._manipulatorLayer=null)}set editable(e){this._set(\"editable\",e),e||this._draw.reset()}activate(){this._drawActive||0!==this._vertices.length||this._startSketch()}onAttach(){const e=this.view;this._draw=new b({view:e}),e.map.add(this._groupLayer),e.focus(),this._handles.add([n(this,[\"unit\",\"geodesicDistanceThreshold\",\"palette\",\"messages\"],(()=>{this._vertices.length>0&&this._updatePolylines()})),n(this,\"view.spatialReference\",(e=>{O(e)&&!d()&&u()}))]),this.finishToolCreation()}onDetach(){const{map:e}=this.view;this._draw.view=null,this._draw.destroy(),this._draw=null,e.remove(this._groupLayer),this._handles.removeAll(),this._polylineLayer.removeAll(),this._manipulatorLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null)}onShow(){this._groupLayer.visible=!0}onHide(){this._groupLayer.visible=!1}reset(){this._vertices=[],this._polylineLayer.removeAll(),this._set(\"measurement\",null),this._set(\"measurementLabel\",null),this._draw.reset(),this._drawActive=!1,this._updateSketch([])}onInputEvent(e){\"pointer-move\"===e.type&&this._updateCursor()}_startSketch(){this._drawActive=!0;const e=this._draw.create(\"polyline\",{mode:\"click\"});e.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\",\"cursor-update\",\"undo\",\"redo\"],(e=>this._updateSketch(e.vertices))),e.on(\"draw-complete\",(()=>{this._stopSketch()}))}_stopSketch(){this.manipulators.forEach((e=>{e.manipulator.interactive=!0})),this._drawActive=!1,this.complete()}_updateSketch(e){if(O(this.view.spatialReference)&&!d())return;if(e.length<2)return this._vertices=[],this.manipulators.removeAll(),void this._polylineLayer.removeAll();this.finishToolCreation();const{spatialReference:t}=this.view;for(;this._vertices.length>e.length;){const{manipulatorId:e}=this._vertices.pop();this.manipulators.remove(e)}for(let n=this._vertices.length;n<e.length;n++){const[s,i]=e[n],r=z(new I({x:s,y:i,spatialReference:t}),this.view,this._manipulatorLayer,this.palette),o=this.manipulators.add(r);S(r,((e,t)=>{t.next(L(this.view)).next(C(e.graphic,2)).next((()=>{const t=e.graphic.geometry;this._vertices[n].coord=[t.x,t.y],this._updatePolylines()}))})),this._vertices.push({manipulatorId:o,coord:[s,i]})}const s=this._vertices.length-1,i=this._vertices[s],[r,o]=e[s];if(i.coord[0]!==r||i.coord[1]!==o){i.coord=[r,o];const e=new I({x:r,y:o,spatialReference:t});this.manipulators.findById(i.manipulatorId).graphic.geometry=e}const a=this._drawActive?this._vertices[s].manipulatorId:null;this.manipulators.forEach((e=>{e.manipulator.interactive=null==a||e.id!==a})),this._updatePolylines()}_updateCursor(){this.cursor=this._drawActive?\"crosshair\":null}_updatePolylines(){const e=this._vertices.map((e=>e.coord)),{measurement:s,drawing:i,original:r}=B(e,this.view.spatialReference,this.geodesicDistanceThreshold);this._set(\"measurement\",s);const o=H(this.messages,s,this.unit);this._set(\"measurementLabel\",o);const{pathPrimaryColor:a,pathSecondaryColor:n,pathWidth:l}=this.palette;this._polylineLayer.removeAll(),this._polylineLayer.addMany([new t({geometry:i,symbol:new k({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",effects:[{type:\"CIMGeometricEffectDashes\",dashTemplate:[14,12],lineDashEnding:\"FullGap\",controlPointEnding:\"NoConstraint\"}],enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",width:l-1.5,color:n},{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",width:l,color:a}]}}})}),new t({geometry:r.extent.center,symbol:new T({color:[255,255,255,1],haloColor:[0,0,0,.5],haloSize:2,font:new G({size:14,family:\"sans-serif\"}),text:o})})])}};function z(e,s,i,r){const o=new R({style:\"circle\",color:r.handleColor,size:r.handleWidth,outline:{type:\"simple-line\",width:0}}),a=new R({style:\"circle\",color:r.handleColor,size:1.5*r.handleWidth,outline:{type:\"simple-line\",width:0}}),n=new t({geometry:e,symbol:o});return new x({view:s,layer:i,graphic:n,focusedSymbol:a})}function B(e,t,s){const i=new P({paths:[e],spatialReference:t});let r,o;if(t.isGeographic)if(v(t))r=f([i],\"meters\")[0],o=w(i,W);else{const e=y(i,E.WGS84),s=w(e,W);r=f([e],\"meters\")[0],o=y(s,t)}else if(t.isWebMercator)r=m(i,\"meters\"),o=p(i,W,\"meters\");else{const e=c(i,\"meters\");if(e>=s){const e=y(i,E.WGS84),s=w(e,W);r=f([e],\"meters\")[0],o=y(s,t)}else r=e,o=i}return{measurement:{geometry:o,length:r},original:i,drawing:o}}function F(e){return null!=e&&(!O(e)||_())}function O(e){if(!e)return!1;const{isGeographic:t,isWebMercator:s,isWGS84:i}=e;return t&&!i&&!v(e)||!t&&!s}function H(e,t,s){if(!t||!e)return null;switch(s){case\"metric\":return o(e,t.length,\"meters\");case\"imperial\":return r(e,t.length,\"meters\");default:return i(e,a(t.length,\"meters\",s),s)}}e([l()],U.prototype,\"cursor\",void 0),e([l({value:!0})],U.prototype,\"editable\",null),e([l({type:Number})],U.prototype,\"geodesicDistanceThreshold\",void 0),e([l({readOnly:!0})],U.prototype,\"measurement\",void 0),e([l({readOnly:!0})],U.prototype,\"measurementLabel\",void 0),e([l()],U.prototype,\"messages\",void 0),e([l()],U.prototype,\"palette\",void 0),e([l()],U.prototype,\"unit\",void 0),e([l({constructOnly:!0})],U.prototype,\"view\",void 0),U=e([h(\"esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DTool\")],U);var N=U;export default N;export{B as createDistanceMeasurementInfo2D,H as createDistanceMeasurementLabel,F as isSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Handles.js\";import i from\"../../core/Logger.js\";import{measurementLengthUnits as s}from\"../../core/unitUtils.js\";import{init as r}from\"../../core/watchUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as a}from\"../../properties/defaultUnit.js\";import l,{isSupported as d}from\"./DistanceMeasurement2DTool.js\";import{InteractiveToolViewModel as p}from\"../support/InteractiveToolViewModel.js\";const u={handleWidth:8,handleColor:[255,128,0,.5],pathWidth:5,pathPrimaryColor:[255,128,0,255],pathSecondaryColor:[255,255,255,255]},h=i.getLogger(\"esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DViewModel\");let c=class extends p{constructor(t){super(t),this.supportedViewType=\"2d\",this._handles=new e,this.geodesicDistanceThreshold=1e5,this.measurement=null,this.measurementLabel=null,this.palette=u,this.tool=null}initialize(){this._handles.add([r(this,[\"unit\",\"palette\",\"geodesicDistanceThreshold\"],((t,e,i)=>{this.tool&&(this.tool[i]=t)}))])}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}get state(){var t;return this.isDisabled?\"disabled\":d(null==(t=this.view)?void 0:t.spatialReference)?this.tool&&this.measurement?this.tool.active?\"measuring\":\"measured\":\"ready\":\"disabled\"}get unit(){return this._validateUnit(this.defaultUnit)}set unit(t){void 0!==t?this._override(\"unit\",this._validateUnit(t)):this._clearOverride(\"unit\")}get unitOptions(){return s}set unitOptions(t){void 0!==t?this._override(\"unitOptions\",this._validateUnits(t)):this._clearOverride(\"unitOptions\")}start(){return this.createTool()}clear(){this.removeTool()}createToolParams(){return{toolConstructor:l,constructorArguments:()=>({geodesicDistanceThreshold:this.geodesicDistanceThreshold,palette:this.palette,unit:this.unit})}}logUnsupportedError(){h.error(\"DistanceMeasurement2D widget is not implemented for SceneView\")}logError(...t){h.error(...t)}_validateUnit(t){return-1!==this.unitOptions.indexOf(t)?t:-1!==this.unitOptions.indexOf(this.defaultUnit)?this.defaultUnit:this.unitOptions[0]}_validateUnits(t=[]){const e=t.filter((t=>-1!==s.indexOf(t)));return 0===e.length?s.slice():e}};t([o(a)],c.prototype,\"defaultUnit\",void 0),t([o({type:Number})],c.prototype,\"geodesicDistanceThreshold\",void 0),t([o({readOnly:!0,aliasOf:\"tool.measurement\"})],c.prototype,\"measurement\",void 0),t([o({readOnly:!0,aliasOf:\"tool.measurementLabel\"})],c.prototype,\"measurementLabel\",void 0),t([o()],c.prototype,\"palette\",void 0),t([o({readOnly:!0})],c.prototype,\"state\",null),t([o({constructOnly:!0,readOnly:!0})],c.prototype,\"tool\",void 0),t([o({type:String})],c.prototype,\"unit\",null),t([o({type:[String]})],c.prototype,\"unitOptions\",null),c=t([n(\"esri.widgets.DistanceMeasurement2D.DistanceMeasurement2DViewModel\")],c);var m=c;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{isMeasurementSystem as s}from\"../core/unitUtils.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"./Widget.js\";import o from\"./DistanceMeasurement2D/DistanceMeasurement2DViewModel.js\";import{accessibleHandler as l}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as u}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";const c=\"esri-distance-measurement-2d\",p={buttonDisabled:\"esri-button--disabled\",widgetIcon:\"esri-icon-measure-line\",base:`${c} esri-widget esri-widget--panel`,container:`${c}__container`,hint:`${c}__hint`,hintText:`${c}__hint-text`,panelError:`${c}__panel--error`,measurement:`${c}__measurement`,measurementItem:`${c}__measurement-item`,measurementItemDisabled:`${c}__measurement-item--disabled`,measurementItemTitle:`${c}__measurement-item-title`,measurementItemValue:`${c}__measurement-item-value`,settings:`${c}__settings`,units:`${c}__units`,unitsLabel:`${c}__units-label`,unitsSelect:`${c}__units-select esri-select`,unitsSelectWrapper:`${c}__units-select-wrapper`,actionSection:`${c}__actions`,newMeasurementButton:`${c}__clear-button esri-button esri-button--primary`};let d=class extends a{constructor(e,t){super(e,t),this.iconClass=p.widgetIcon,this.label=void 0,this.messages=null,this.messagesUnits=null,this.unit=null,this.unitOptions=null,this.view=null,this.viewModel=new o}render(){const{id:e,messages:t,messagesUnits:i,viewModel:n,visible:r}=this,{active:a,isSupported:o,measurementLabel:l,state:u,unit:c,unitOptions:d}=n,v=\"disabled\"===u,b=\"measuring\"===u||\"measured\"===u,_=a&&\"ready\"===u?m(\"section\",{key:\"hint\",class:p.hint},m(\"p\",{class:p.hintText},t.hint)):null,w=o?null:m(\"section\",{key:\"unsupported\",class:p.panelError},m(\"p\",null,t.unsupported)),h=(e,t,s)=>t?m(\"div\",{key:`${s}-enabled`,class:p.measurementItem},m(\"span\",{class:p.measurementItemTitle},e),m(\"span\",{class:p.measurementItemValue},t)):m(\"div\",{key:`${s}-disabled`,class:this.classes(p.measurementItem,p.measurementItemDisabled),\"aria-disabled\":\"true\"},m(\"span\",{class:p.measurementItemTitle},e)),g=b?m(\"section\",{key:\"measurement\",class:p.measurement},h(t.distance,l,\"distance\")):null,y=`${e}-units`,M=b?m(\"section\",{key:\"units\",class:p.units},m(\"label\",{class:p.unitsLabel,for:y},t.unit),m(\"div\",{class:p.unitsSelectWrapper},m(\"select\",{class:p.unitsSelect,id:y,onchange:this._changeUnit,bind:this,value:c},d.map((e=>{var t;return m(\"option\",{key:e,value:e},s(e)?i.systems[e]:null==(t=i.units[e])?void 0:t.pluralCapitalized)}))))):null,$=b?m(\"div\",{key:\"settings\",class:p.settings},M):null,j=!o||a&&!b?null:m(\"div\",{class:p.actionSection},m(\"button\",{disabled:v,class:this.classes(p.newMeasurementButton,v&&p.buttonDisabled),bind:this,onclick:this._newMeasurement,title:t.newMeasurement,\"aria-label\":t.newMeasurement,type:\"button\"},t.newMeasurement)),f=r?m(\"div\",{class:p.container},w,_,$,g,j):null;return m(\"div\",{class:p.base},f)}_newMeasurement(){t(this.viewModel.start())}_changeUnit(e){const t=e.target,s=t.options[t.selectedIndex];s&&(this.viewModel.unit=s.value)}};e([i(\"viewModel.active\")],d.prototype,\"active\",void 0),e([n()],d.prototype,\"iconClass\",void 0),e([n({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],d.prototype,\"label\",void 0),e([n()],d.prototype,\"localeStrings\",void 0),e([n(),u(\"esri/widgets/DistanceMeasurement2D/t9n/DistanceMeasurement2D\")],d.prototype,\"messages\",void 0),e([n(),u(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([i(\"viewModel.unit\")],d.prototype,\"unit\",void 0),e([i(\"viewModel.unitOptions\")],d.prototype,\"unitOptions\",void 0),e([i(\"viewModel.view\")],d.prototype,\"view\",void 0),e([n({type:o})],d.prototype,\"viewModel\",void 0),e([i(\"viewModel.visible\")],d.prototype,\"visible\",void 0),e([l()],d.prototype,\"_newMeasurement\",null),e([l()],d.prototype,\"_changeUnit\",null),d=e([r(\"esri.widgets.DistanceMeasurement2D\")],d);var v=d;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../core/arrayUtils.js\";import e from\"../../../core/Evented.js\";import{isSome as s,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../geometry/Polygon.js\";import n from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";class h{constructor(t){this.left=null,this.right=null,this.type=\"vertex\",this.index=null,this.component=t}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}}class c{constructor(t,e,s){this.type=\"edge\",this.component=t,this.left=e,this.right=s,e.right=this,s.left=this}}class l{constructor(t){this.vertices=[],this.edges=[],this.data=t}unnormalizeVertexPositions(){this.vertices.length<=1||this.data.coordinateHelper.unnormalize(this.vertices)}updateVertexIndex(t,e){if(0===this.vertices.length)return;const s=this.vertices[0];let r=null,i=t,n=e;do{r=i,r.index=n++,i=r.right?r.right.right:null}while(null!=i&&i!==s);r.left&&r!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(r),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].left}swapVertices(t,e){const s=this.vertices[t];this.vertices[t]=this.vertices[e],this.vertices[e]=s}iterateVertices(t){if(0===this.vertices.length)return;const e=this.vertices[0];let r=e;do{t(r,r.index),r=s(r.right)?r.right.right:null}while(r!==e&&null!=r)}}class a extends e{constructor(t){super(),this.coordinateHelper=t,this.undoStack=[],this.redoStack=[],this.components=[]}apply(t,e=1){return 0!==e&&!r(this.lastOperation)&&this.lastOperation.accumulate(t)||(t.apply(),this.undoStack.push(t),this.redoStack=[]),t}undo(){if(this.undoStack.length>0){const t=this.undoStack.pop();return t.undo(),this.redoStack.push(t),t}return null}get canUndo(){return this.undoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}redo(){if(this.redoStack.length>0){const t=this.redoStack.pop();return t.apply(),this.undoStack.push(t),t}return null}get canRedo(){return this.redoStack.length>0}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)}toPolyline(){const t=[],e=this.coordinateHelper.toArray;return this.components.forEach(((s,r)=>{const i=[];let n=s.vertices.find((t=>null==t.left));const o=n;do{i.push(e(n.pos)),n=n.right?n.right.right:null}while(n&&n!==o);t.push(i)})),new n({paths:t,spatialReference:this.coordinateHelper.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}toPolygon(){const t=[],e=this.coordinateHelper.toArray;return this.components.forEach(((r,i)=>{const n=[],o=r.vertices[0];let h=o;const c=h;do{n.push(e(h.pos)),h=s(h.right)?h.right.right:null}while(h&&h!==c);r.isClosed()&&n.push(e(o.pos)),t.push(n)})),new i({rings:t,spatialReference:this.coordinateHelper.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(e,s){const r=o(e.hasZ,e.hasM,e.spatialReference,s),i=new a(r);switch(e.type){case\"polygon\":{const s=e.rings;for(let e=0;e<s.length;++e){const n=s[e],o=new l(i),a=n.length>2&&t(n[0],n[n.length-1]),p=a?n.length-1:n.length;for(let t=0;t<p;++t){const e=r.fromArray(n[t]),s=new h(o);o.vertices.push(s),s.pos=e,s.index=t}const u=o.vertices.length-1;for(let t=0;t<u;++t){const e=o.vertices[t],s=o.vertices[t+1],r=new c(o,e,s);o.edges.push(r)}if(a){const t=new c(o,o.vertices[o.vertices.length-1],o.vertices[0]);o.edges.push(t)}i.components.push(o)}}break;case\"polyline\":for(const t of e.paths){const e=new l(i),s=t.length;for(let i=0;i<s;++i){const s=r.fromArray(t[i]),n=new h(e);e.vertices.push(n),n.pos=s,n.index=i}const n=e.vertices.length-1;for(let t=0;t<n;++t){const s=e.vertices[t],r=e.vertices[t+1],i=new c(e,s,r);e.edges.push(i)}i.components.push(e)}break;case\"point\":{const t=new l(i),s=new h(t);s.index=0,s.pos=i.coordinateHelper.fromPoint(e),t.vertices.push(s),i.components.push(t)}}return i}}export{l as Component,c as Edge,a as EditGeometry,h as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{bindScreenSizePerspective as a}from\"../../../materials/internal/MaterialUtil.js\";function r(a){a.vertex.code.add(e`float screenSizePerspectiveMinSize(float size, vec4 factor) {\nfloat nonZeroSize = 1.0 - step(size, 0.0);\nreturn (\nfactor.z * (\n1.0 +\nnonZeroSize *\n2.0 * factor.w / (\nsize + (1.0 - nonZeroSize)\n)\n)\n);\n}`),a.vertex.code.add(e`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`),a.vertex.code.add(e`vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\nreturn vec4(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z,\nparams.w\n);\n}`),a.vertex.code.add(e`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\nreturn max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n}`),a.vertex.code.add(e`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`),a.vertex.code.add(e`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\nreturn mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n}`),a.vertex.code.add(e`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`)}function c(e,r){if(r.screenSizePerspective){a(r.screenSizePerspective,e,\"screenSizePerspective\");const c=r.screenSizePerspectiveAlignment||r.screenSizePerspective;a(c,e,\"screenSizePerspectiveAlignment\")}}export{r as ScreenSizePerspective,c as bindScreenSizePerspectiveUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as e,m as t,a as r,b as a,h as n,p as s,r as i,d as o}from\"../../chunks/vec2.js\";import{a as u,f as h,d as p}from\"../../chunks/vec2f64.js\";import{i as c,g as l,e as f}from\"../../chunks/vec3.js\";import{f as y,c as m,d}from\"../../chunks/vec3f64.js\";import{c as v,l as g}from\"../../chunks/vec4.js\";import{c as R,f as z,b as x}from\"../../chunks/vec4f64.js\";import T from\"../../geometry/Point.js\";import{getInfo as Z}from\"../../geometry/support/spatialReferenceUtils.js\";const w=u();class M{constructor(e,t){this.spatialReference=e,this.viewingMode=t,this._unnormalizationInfo=B(e,t)}tag(e){return e}createNew(){return this.tag(u())}fromPoint(e){return this.tag(h(e.x,e.y))}fromArray(e){return this.tag(h(e[0],e[1]))}toArray(e){return[e[0],e[1]]}clone(e){return this.tag(p(e))}copy(t,r){return e(r,t)}toPoint(e,t){return t.x=e[0],t.y=e[1],t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,r,a,n){return t(n,e,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return[e.x,e.y]}getZ(e,t){return t}hasZ(){return!1}getM(e,t){return t}hasM(){return!1}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e){return this.tag(h(e[0],e[1]))}toXYZ(e,t=0){return y(e[0],e[1],t)}distance(e,t){return o(e,t)}}class P{constructor(e,t,r){this.valueType=e,this.spatialReference=t,this._unnormalizationInfo=B(t,r)}distance(e,t){return 0===this.valueType?c(e,t):o(e,t)}tag(e){return e}createNew(){return this.tag(m())}fromPoint(e){return this.tag(y(e.x,e.y,0===this.valueType?e.z:e.m))}fromArray(e){return this.tag(y(e[0],e[1],e[2]||0))}toArray(e){return[e[0],e[1],e[2]]}clone(e){return this.tag(d(e))}copy(e,t){return l(t,e)}toPoint(e,t){return t.x=e[0],t.y=e[1],0===this.valueType?(t.z=e[2],t.hasZ=!0,t.hasM=!1):(t.m=e[2],t.hasZ=!1,t.hasM=!0),t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){const t=0===this.valueType,r=1===this.valueType;return{x:e[0],y:e[1],z:t?e[2]:void 0,m:r?e[2]:void 0,hasZ:t,hasM:r,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return f(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,0===this.valueType&&(e[2]+=a)}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}getZ(e,t){return 0===this.valueType?e[2]:t}hasZ(){return 0===this.valueType}getM(e,t){return 1===this.valueType?e[2]:t}hasM(){return 1===this.valueType}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(y(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:r))}toXYZ(e,t=0){return this.tag(y(e[0],e[1],0===this.valueType?e[2]:t))}}class X{constructor(e,t){this.spatialReference=e,this._unnormalizationInfo=B(e,t)}distance(e,t){return c(e,t)}tag(e){return e}createNew(){return this.tag(R())}fromPoint(e){return this.tag(z(e.x,e.y,e.z,e.m))}fromArray(e){return this.tag(z(e[0],e[1],e[2]||0,e[3]||0))}toArray(e){return[e[0],e[1],e[2],e[3]]}clone(e){return this.tag(x(e))}copy(e,t){return v(t,e)}toPoint(e,t){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:e[2],m:e[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return g(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return[e.x,e.y,e.z,e.m]}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(z(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e){return y(e[0],e[1],e[2])}}function A(e,t,r,a){return e&&t?new X(r,a):t?new P(1,r,a):e?new P(0,r,a):new M(r,a)}function j(e,t){if(!t.supported)return;let r=1/0,a=-1/0;const n=t.upperBoundX-t.lowerBoundX;e.forEach((e=>{let s=e.pos[0];for(;s<t.lowerBoundX;)s+=n;for(;s>t.upperBoundX;)s-=n;r=Math.min(r,s),a=Math.max(a,s),e.pos[0]=s}));const s=a-r;n-s<s&&e.forEach((e=>{e.pos[0]<0&&(e.pos[0]+=n)}))}function B(e,t){const r=Z(e);return\"global\"===t&&r?{supported:!0,lowerBoundX:r.valid[0],upperBoundX:r.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{M as CoordinateHelper2D,P as CoordinateHelper3D,X as CoordinateHelper4D,A as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as e}from\"./vec2.js\";import{a as o}from\"./vec2f64.js\";import{Z as i}from\"./vec4f64.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{AlignPixel as l}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{HUD as t}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusionPass as a}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{OutputHighlight as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{symbolAlphaCutoff as c,defaultMaskAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as u}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{RgbaFloatEncoding as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{ScreenSizePerspective as f}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{glsl as p}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as g}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function m(e){const o=new g,i=e.signedDistanceFieldEnabled;if(o.include(l),o.include(t,e),o.include(r,e),6===e.output)return o.include(a,e),o;o.include(f),o.fragment.include(v),o.fragment.include(u),o.include(n,e),o.varyings.add(\"vcolor\",\"vec4\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vsize\",\"vec2\"),e.binaryHighlightOcclusionEnabled&&o.varyings.add(\"voccluded\",\"float\"),o.vertex.uniforms.add(\"screenOffset\",\"vec2\").add(\"anchorPos\",\"vec2\").add(\"textureCoordinateScaleFactor\",\"vec2\").add(\"materialColor\",\"vec4\"),i&&o.vertex.uniforms.add(\"outlineColor\",\"vec4\"),e.screenSizePerspectiveEnabled&&o.vertex.uniforms.add(\"screenSizePerspective\",\"vec4\"),(e.debugDrawBorder||e.binaryHighlightOcclusionEnabled)&&o.varyings.add(\"debugBorderCoords\",\"vec4\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"color\",\"vec4\"),o.attributes.add(\"size\",\"vec2\"),o.attributes.add(\"auxpos2\",\"vec4\"),o.vertex.code.add(p`\n    void main(void) {\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n\n      if (rejectBySlice(projectAux.posModel)) {\n        // Project outside of clip plane\n        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n        return;\n      }\n      vec2 inputSize;\n      ${e.screenSizePerspectiveEnabled?p`\n      inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n      vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);\n         `:p`\n      inputSize = size;\n      vec2 screenOffsetScaled = screenOffset;`}\n\n      ${e.vvSize?\"inputSize *= vvScale(auxpos2).xx;\":\"\"}\n\n      vec2 combinedSize = inputSize * pixelRatio;\n      vec4 quadOffset = vec4(0.0);\n\n      ${e.occlusionTestEnabled||e.binaryHighlightOcclusionEnabled?\"bool visible = testVisibilityHUD(posProj);\":\"\"}\n\n      ${e.binaryHighlightOcclusionEnabled?\"voccluded = visible ? 0.0 : 1.0;\":\"\"}\n    `);const m=p`vec2 uv01 = floor(uv0);\nvec2 uv = uv0 - uv01;\nquadOffset.xy = ((uv01 - anchorPos) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;`,b=e.pixelSnappingEnabled?i?p`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:p`posProj += quadOffset;\nif (inputSize.x == size.x) {\nposProj = alignToPixelOrigin(posProj, viewport.zw);\n}`:p`posProj += quadOffset;`;o.vertex.code.add(p`\n      ${e.occlusionTestEnabled?\"if (visible) {\":\"\"}\n      ${m}\n      ${e.vvColor?\"vcolor = vvGetColor(auxpos2, vvColorValues, vvColorColors) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n      bool alphaDiscard = vcolor.a < ${p.float(c)};\n      ${i?`alphaDiscard = alphaDiscard && outlineColor.a < ${p.float(c)};`:\"\"}\n      if (alphaDiscard) {\n        // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n        return;\n      } else {\n        ${b}\n        gl_Position = posProj;\n      }\n\n      vtc = uv * textureCoordinateScaleFactor;\n\n      ${e.debugDrawBorder?\"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);\":\"\"}\n      vsize = inputSize;\n      ${e.occlusionTestEnabled?p`} else { vtc = vec2(0.0);\n        ${e.debugDrawBorder?\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}\":\"}\"}`:\"\"}\n    }\n    `),o.fragment.uniforms.add(\"tex\",\"sampler2D\"),i&&(o.fragment.uniforms.add(\"outlineColor\",\"vec4\"),o.fragment.uniforms.add(\"outlineSize\",\"float\"));const x=e.debugDrawBorder?p`(isBorder > 0.0 ? 0.0 : ${p.float(d)})`:p.float(d),h=p`\n    ${e.debugDrawBorder?p`\n      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`:\"\"}\n\n    ${i?p`\n      vec4 fillPixelColor = vcolor;\n\n      // Attempt to sample texel centers to avoid that thin cross outlines\n      // disappear with large symbol sizes.\n      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041\n      const float txSize = 128.0;\n      const float texelSize = 1.0 / txSize;\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgba2float(texture2D(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${x} ||\n          fillPixelColor.a + outlinePixelColor.a < ${p.float(c)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        gl_FragColor = vec4(compositeColor, compositeAlpha);\n      } else {\n        if (fillAlphaFactor < ${x}) {\n          discard;\n        }\n\n        gl_FragColor = premultiplyAlpha(fillPixelColor);\n      }\n\n      // visualize SDF:\n      // gl_FragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:p`\n          vec4 texColor = texture2D(tex, vtc, -0.5);\n          if (texColor.a < ${x}) {\n            discard;\n          }\n          gl_FragColor = texColor * premultiplyAlpha(vcolor);\n          `}\n\n    ${e.debugDrawBorder?p`gl_FragColor = mix(gl_FragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder);`:\"\"}\n  `;return 7===e.output&&o.fragment.code.add(p`\n      void main() {\n        ${h}\n        gl_FragColor = vec4(gl_FragColor.a);\n      }\n      `),0===e.output&&o.fragment.code.add(p`\n    void main() {\n      ${h}\n      ${e.FrontFacePass?\"gl_FragColor.rgb /= gl_FragColor.a;\":\"\"}\n    }\n    `),4===e.output&&(o.include(s),o.fragment.code.add(p`\n    void main() {\n      ${h}\n      ${e.binaryHighlightOcclusionEnabled?p`\n          if (voccluded == 1.0) {\n            gl_FragColor = vec4(1.0, 1.0, 0.0, 1.0);\n          } else {\n            gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n          }`:\"outputHighlight();\"}\n    }\n    `)),o}function b(e,o,r){e.setUniform4fv(\"materialColor\",o.color),o.textureIsSignedDistanceField&&(o.outlineColor[3]<=0||o.outlineSize<=0?(e.setUniform4fv(\"outlineColor\",i),e.setUniform1f(\"outlineSize\",0)):(e.setUniform4fv(\"outlineColor\",o.outlineColor),e.setUniform1f(\"outlineSize\",o.outlineSize))),e.setUniform2f(\"screenOffset\",2*o.screenOffset[0]*r,2*o.screenOffset[1]*r),e.setUniform2fv(\"anchorPos\",x(o))}function x(o,i=C){return o.textureIsSignedDistanceField?h(o.anchorPos,o.distanceFieldBoundingBox,i):e(i,o.anchorPos),i}function h(e,o,i){i[0]=e[0]*(o[2]-o[0])+o[0],i[1]=e[1]*(o[3]-o[1])+o[1]}const C=o();var z=Object.freeze({__proto__:null,build:m,bindHUDMaterialUniforms:b,calculateAnchorPosForRendering:x});export{z as H,m as a,b,x as c};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizePerspective as e}from\"../util/ScreenSizePerspective.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function t(t,l){const c=t.vertex.code;l.verticalOffsetEnabled?(t.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),l.screenSizePerspectiveEnabled&&(t.include(e),t.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\")),c.add(r`\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ${1===l.viewingMode?r`vec3 worldNormal = normalize(worldPos + localOrigin);`:r`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n      ${l.screenSizePerspectiveEnabled?r`\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:r`\n          float verticalOffsetScreenHeight = verticalOffset.x;`}\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    `)):c.add(r`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}function l(e,r,t){if(!r.verticalOffset)return;const l=c(r.verticalOffset,t.camera.fovY,t.camera.fullViewport[3]),i=t.camera.pixelRatio||1;e.setUniform4f(\"verticalOffset\",l.screenLength*i,l.perDistance,l.minWorldLength,l.maxWorldLength)}function c(e,r,t,l=i){return l.screenLength=e.screenLength,l.perDistance=Math.tan(.5*r)/(.5*t),l.minWorldLength=e.minWorldLength,l.maxWorldLength=e.maxWorldLength,l}const i={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0};export{t as VerticalOffset,l as bindVerticalOffsetUniforms,c as calculateVerticalOffsetFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{loadAll as e}from\"../core/loadAll.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{getProperties as o}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{LayersMixin as d}from\"../support/LayersMixin.js\";import{TablesMixin as v}from\"../support/TablesMixin.js\";import{getLayerJSON as b}from\"../webdoc/support/writeUtils.js\";let m=class extends(n(c(y(h(v(d(s(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,e,s,r){const o=[];if(!i)return o;i.forEach((i=>{const e=b(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);t(e)&&e.layerType&&o.push(e)})),e.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return e(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!o(this).initialized)return;const t=this.layers;let s=t.find((i=>i.visible));switch(i){case\"exclusive\":t.length&&!s&&(s=t.getItemAt(0),s.visible=!0),this._turnOffOtherLayers(s);break;case\"inherited\":t.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([r()],m.prototype,\"fullExtent\",void 0),i([r({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,\"layers\",void 0),i([a(\"layers\")],m.prototype,\"_writeLayers\",null),i([r({type:[\"GroupLayer\"]})],m.prototype,\"operationalLayerType\",void 0),i([r({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],m.prototype,\"portalItem\",null),i([r()],m.prototype,\"spatialReference\",void 0),i([r({json:{read:!1},readOnly:!0,value:\"group\"})],m.prototype,\"type\",void 0),i([r({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],m.prototype,\"visibilityMode\",null),m=i([l(\"esri.layers.GroupLayer\")],m);var u=m;export default u;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizePerspective as e}from\"../util/ScreenSizePerspective.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o,a){const i=o;i.include(e),i.attributes.add(\"position\",\"vec3\"),i.attributes.add(\"normal\",\"vec3\"),i.attributes.add(\"auxpos1\",\"vec4\"),i.vertex.uniforms.add(\"proj\",\"mat4\"),i.vertex.uniforms.add(\"view\",\"mat4\"),i.vertex.uniforms.add(\"viewNormal\",\"mat4\"),i.vertex.uniforms.add(\"viewport\",\"vec4\"),i.vertex.uniforms.add(\"camPos\",\"vec3\"),i.vertex.uniforms.add(\"polygonOffset\",\"float\"),i.vertex.uniforms.add(\"cameraGroundRelative\",\"float\"),i.vertex.uniforms.add(\"pixelRatio\",\"float\"),i.vertex.uniforms.add(\"perDistancePixelRatio\",\"float\"),i.vertex.uniforms.add(\"uRenderTransparentlyOccludedHUD\",\"float\"),a.verticalOffsetEnabled&&i.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),a.screenSizePerspectiveEnabled&&i.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\"),i.vertex.uniforms.add(\"hudVisibilityTexture\",\"sampler2D\"),i.vertex.constants.add(\"smallOffsetAngle\",\"float\",.984807753012208),i.vertex.code.add(t`struct ProjectHUDAux {\nvec3 posModel;\nvec3 posView;\nvec3 vnormal;\nfloat distanceToCamera;\nfloat absCosAngle;\n};`),i.vertex.code.add(t`float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {\nfloat pointGroundSign = sign(pointGroundDistance);\nif (pointGroundSign == 0.0) {\npointGroundSign = cameraGroundRelative;\n}\nfloat groundRelative = cameraGroundRelative * pointGroundSign;\nif (polygonOffset > .0) {\nfloat cosAlpha = clamp(absCosAngle, 0.01, 1.0);\nfloat tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;\nfloat factor = (1.0 - tanAlpha / viewport[2]);\nif (groundRelative > 0.0) {\nposView *= factor;\n}\nelse {\nposView /= factor;\n}\n}\nreturn groundRelative;\n}`),a.isDraped||i.vertex.code.add(t`void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {\nfloat distanceToCamera = length(posView);\nfloat pixelOffset = distanceToCamera * perDistancePixelRatio * 0.5;\nvec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;\nvec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\nposModel += modelOffset;\nposView += viewOffset;\n}`),i.vertex.code.add(t`\n    vec4 projectPositionHUD(out ProjectHUDAux aux) {\n      // centerOffset is in view space and is used to implement world size offsetting\n      // of labels with respect to objects. It also pulls the label towards the viewer\n      // so that the label is visible in front of the object.\n      vec3 centerOffset = auxpos1.xyz;\n\n      // The pointGroundDistance is the distance of the geometry to the ground and is\n      // negative if the point is below the ground, or positive if the point is above\n      // ground.\n      float pointGroundDistance = auxpos1.w;\n\n      aux.posModel = position;\n      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;\n      aux.vnormal = normal;\n      ${a.isDraped?\"\":\"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);\"}\n\n      // Screen sized offset in world space, used for example for line callouts\n      // Note: keep this implementation in sync with the CPU implementation, see\n      //   - MaterialUtil.verticalOffsetAtDistance\n      //   - HUDMaterial.applyVerticalOffsetTransformation\n\n      aux.distanceToCamera = length(aux.posView);\n\n      vec3 viewDirObjSpace = normalize(camPos - aux.posModel);\n      float cosAngle = dot(aux.vnormal, viewDirObjSpace);\n\n      aux.absCosAngle = abs(cosAngle);\n\n      ${a.screenSizePerspectiveEnabled&&(a.verticalOffsetEnabled||1===a.screenCenterOffsetUnitsEnabled)?\"vec4 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);\":\"\"}\n\n      ${a.verticalOffsetEnabled?a.screenSizePerspectiveEnabled?\"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);\":\"float verticalOffsetScreenHeight = verticalOffset.x;\":\"\"}\n\n      ${a.verticalOffsetEnabled?t`\n            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);\n            vec3 modelOffset = aux.vnormal * worldOffset;\n            aux.posModel += modelOffset;\n            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;\n            aux.posView += viewOffset;\n            // Since we elevate the object, we need to take that into account\n            // in the distance to ground\n            pointGroundDistance += worldOffset;`:\"\"}\n\n      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);\n\n      ${1!==a.screenCenterOffsetUnitsEnabled?t`\n            // Apply x/y in view space, but z in screen space (i.e. along posView direction)\n            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);\n\n            // Same material all have same z != 0.0 condition so should not lead to\n            // branch fragmentation and will save a normalization if it's not needed\n            if (centerOffset.z != 0.0) {\n              aux.posView -= normalize(aux.posView) * centerOffset.z;\n            }\n          `:\"\"}\n\n      vec4 posProj = proj * vec4(aux.posView, 1.0);\n\n      ${1===a.screenCenterOffsetUnitsEnabled?a.screenSizePerspectiveEnabled?\"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);\":\"float centerOffsetY = centerOffset.y;\":\"\"}\n\n      ${1===a.screenCenterOffsetUnitsEnabled?\"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;\":\"\"}\n\n      // constant part of polygon offset emulation\n      posProj.z -= groundRelative * polygonOffset * posProj.w;\n      return posProj;\n    }\n  `),i.vertex.code.add(t`bool testVisibilityHUD(vec4 posProj) {\nvec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);\nvec4 occlusionPixel = texture2D(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);\nif (uRenderTransparentlyOccludedHUD > 0.5) {\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * uRenderTransparentlyOccludedHUD < 1.0;\n}\nreturn occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;\n}`)}function a(e,t){e.setUniform1f(\"uRenderTransparentlyOccludedHUD\",0===t.renderTransparentlyOccludedHUD?1:1===t.renderTransparentlyOccludedHUD?0:.75)}export{o as HUD,a as bindHUDUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import{isNone as t}from\"../../core/maybe.js\";function s(){if(t(i)){const t=t=>e(`esri/libs/basisu/${t}`);i=import(\"../../chunks/basis_transcoder.js\").then((function(e){return e.b})).then((({default:e})=>e({locateFile:t}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return i}let i;export{s as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{getBasisTranscoder as t}from\"../../../../libs/basisu/BasisU.js\";import n from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as r}from\"../../../webgl/Util.js\";let s=null,i=null;async function a(){return e(i)&&(i=t(),s=await i),i}function o(t,n){if(e(s))return t.byteLength;const r=new s.BasisFile(new Uint8Array(t)),i=c(r)?l(r.getNumLevels(0),r.getHasAlpha(),r.getImageWidth(0,0),r.getImageHeight(0,0),n):0;return r.close(),r.delete(),i}function g(t,n){if(e(s))return t.byteLength;const r=new s.KTX2File(new Uint8Array(t)),i=u(r)?l(r.getLevels(),r.getHasAlpha(),r.getWidth(),r.getHeight(),n):0;return r.close(),r.delete(),i}function l(e,t,n,s,i){const a=r(t?37496:37492),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(n*s*a*o)}function c(e){return e.getNumImages()>=1&&!e.isUASTC()}function u(e){return e.getFaces()>=1&&e.isETC1S()}async function m(t,n,r){e(s)&&(s=await a());const i=new s.BasisFile(new Uint8Array(r));if(!c(i))return null;i.startTranscoding();const o=d(t,n,i.getNumLevels(0),i.getHasAlpha(),i.getImageWidth(0,0),i.getImageHeight(0,0),((e,t)=>i.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>i.transcodeImage(n,0,e,t,0,0)));return i.close(),i.delete(),o}async function h(t,n,r){e(s)&&(s=await a());const i=new s.KTX2File(new Uint8Array(r));if(!u(i))return null;i.startTranscoding();const o=d(t,n,i.getLevels(),i.getHasAlpha(),i.getWidth(),i.getHeight(),((e,t)=>i.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>i.transcodeImage(n,e,0,0,t,0,-1,-1)));return i.close(),i.delete(),o}function d(e,t,r,s,i,a,o,g){const{compressedTextureETC:l,compressedTextureS3TC:c}=e.capabilities,[u,m]=l?s?[1,37496]:[0,37492]:c?s?[3,33779]:[2,33776]:[13,6408],h=t.hasMipmap?r:Math.min(1,r),d=[];for(let n=0;n<h;n++)d.push(new Uint8Array(o(n,u))),g(n,u,d[n]);const p=d.length>1,f=p?9987:9729,w={...t,samplingMode:f,hasMipmap:p,internalFormat:m,width:i,height:a};return new n(e,w,{type:\"compressed\",levels:d})}export{m as createTextureBasis,h as createTextureKTX2,o as estimateMemoryBasis,g as estimateMemoryKTX2,a as loadBasis};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import r from\"../../../webgl/Texture.js\";const n=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),o=542327876,a=131072,i=4;function s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function l(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const u=s(\"DXT1\"),c=s(\"DXT3\"),m=s(\"DXT5\"),h=31,p=0,d=1,g=2,f=3,w=4,C=7,x=20,D=21;function b(e,t,n){const{textureData:o,internalFormat:a,width:i,height:s}=A(n,t.hasMipmap);return t.samplingMode=o.levels.length>1?9987:9729,t.hasMipmap=o.levels.length>1,t.internalFormat=a,t.width=i,t.height=s,new r(e,t,o)}function A(e,r){const s=new Int32Array(e,0,h);if(s[p]!==o)return n.error(\"Invalid magic number in DDS header\"),null;if(!(s[x]&i))return n.error(\"Unsupported format, must contain a FourCC code\"),null;const b=s[D];let A,M;switch(b){case u:A=8,M=33776;break;case c:A=16,M=33778;break;case m:A=16,M=33779;break;default:return n.error(\"Unsupported FourCC code:\",l(b)),null}let v=1,F=s[w],U=s[f];0==(3&F)&&0==(3&U)||(n.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),F=F+3&-4,U=U+3&-4);const T=F,j=U;let k,y;s[g]&a&&!1!==r&&(v=Math.max(1,s[C])),1===v||t(F)&&t(U)||(n.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"),v=1);let I=s[d]+4;const S=[];for(let t=0;t<v;++t)y=(F+3>>2)*(U+3>>2)*A,k=new Uint8Array(e,I,y),S.push(k),I+=y,F=Math.max(1,F>>1),U=Math.max(1,U>>1);return{textureData:{type:\"compressed\",levels:S},internalFormat:M,width:T,height:j}}export{b as createDDSTexture,A as createDDSTextureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../../core/compilerUtils.js\";import e from\"../../../../core/Error.js\";import r from\"../../../../core/Evented.js\";import{isPowerOfTwo as i,nextHighestPowerOfTwo as s}from\"../../../../core/mathUtils.js\";import{isNone as a,isSome as o}from\"../../../../core/maybe.js\";import{createAbortController as n,onAbort as m,createAbortError as h}from\"../../../../core/promiseUtils.js\";import{isArrayBuffer as l,isUint8Array as p}from\"../../../../core/typedArrayUtil.js\";import{isBlobProtocol as d,isDataProtocol as c}from\"../../../../core/urlUtils.js\";import{requestImage as u}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as g}from\"../../../../support/requestUtils.js\";import{estimateMemoryKTX2 as f,estimateMemoryBasis as w,createTextureKTX2 as T,createTextureBasis as x}from\"./BasisUtil.js\";import{ContentObject as D}from\"./ContentObject.js\";import{createDDSTexture as F}from\"./DDSUtil.js\";import{createQuadVAO as M}from\"./glUtil3D.js\";import{assert as y}from\"./Util.js\";import I from\"../../../webgl/FramebufferObject.js\";import E from\"../../../webgl/Texture.js\";import{vertexCount as O}from\"../../../webgl/Util.js\";import b from\"../../../webgl/capabilities/isWebGL2Context.js\";class S extends D{constructor(t,e){super(),this.data=t,this.type=4,this.glTexture=null,this.powerOfTwoStretchInfo=null,this.loadingPromise=null,this.loadingController=null,this.events=new r,this.params=e||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:10497,t:10497},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||1,this.estimatedTexMemRequired=S.estimateTexMemRequired(this.data,this.params),this.startPreload()}startPreload(){const t=this.data;a(t)||(t instanceof HTMLVideoElement?this.startPreloadVideoElement(t):t instanceof HTMLImageElement&&this.startPreloadImageElement(t))}startPreloadVideoElement(t){d(t.src)||\"auto\"===t.preload&&t.crossOrigin||(t.preload=\"auto\",t.crossOrigin=\"anonymous\",t.src=t.src)}startPreloadImageElement(t){c(t.src)||d(t.src)||t.crossOrigin||(t.crossOrigin=\"anonymous\",t.src=t.src)}static getDataDimensions(t){return t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t}static estimateTexMemRequired(t,e){if(a(t))return 0;if(l(t)||p(t))return e.encoding===S.KTX2_ENCODING?f(t,e.mipmap):e.encoding===S.BASIS_ENCODING?w(t,e.mipmap):t.byteLength;const{width:r,height:i}=t instanceof Image||t instanceof ImageData||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?S.getDataDimensions(t):e;return(e.mipmap?4/3:1)*r*i*(e.components||4)||0}dispose(){this.data=void 0}get width(){return this.params.width}get height(){return this.params.height}createDescriptor(t){var e;return{target:3553,pixelFormat:6408,dataType:5121,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?9987:9729,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:null!=(e=this.params.maxAnisotropy)?e:this.params.mipmap?t.parameters.maxMaxAnisotropy:1}}load(t,e){if(o(this.glTexture))return this.glTexture;if(o(this.loadingPromise))return this.loadingPromise;const r=this.data;return a(r)?(this.glTexture=new E(t,this.createDescriptor(t),null),this.glTexture):\"string\"==typeof r?this.loadFromURL(t,e,r):r instanceof Image?this.loadFromImageElement(t,e,r):r instanceof HTMLVideoElement?this.loadFromVideoElement(t,e,r):r instanceof ImageData||r instanceof HTMLCanvasElement?this.loadFromImage(t,r,e):(l(r)||p(r))&&this.params.encoding===S.DDS_ENCODING?this.loadFromDDSData(t,r):(l(r)||p(r))&&this.params.encoding===S.KTX2_ENCODING?this.loadFromKTX2(t,r):(l(r)||p(r))&&this.params.encoding===S.BASIS_ENCODING?this.loadFromBasis(t,r):p(r)?this.loadFromPixelData(t,r):l(r)?this.loadFromPixelData(t,new Uint8Array(r)):null}get requiresFrameUpdates(){return this.data instanceof HTMLVideoElement}frameUpdate(t,e,r){if(!(this.data instanceof HTMLVideoElement)||a(this.glTexture))return r;if(this.data.readyState<2||r===this.data.currentTime)return r;if(o(this.powerOfTwoStretchInfo)){const{framebuffer:r,vao:i,sourceTexture:s}=this.powerOfTwoStretchInfo;s.setData(this.data),this.drawStretchedTexture(t,e,r,i,s,this.glTexture)}else{const{width:t,height:e}=this.data,{width:r,height:i}=this.glTexture.descriptor;t!==r||e!==i?this.glTexture.updateData(0,0,0,Math.min(t,r),Math.min(e,i),this.data):this.glTexture.setData(this.data)}return this.glTexture.descriptor.hasMipmap&&this.glTexture.generateMipmap(),this.data.currentTime}loadFromDDSData(t,e){return this.glTexture=F(t,this.createDescriptor(t),e),this.glTexture}loadFromKTX2(t,e){return this.loadAsync((()=>T(t,this.createDescriptor(t),e).then((t=>(this.glTexture=t,t)))))}loadFromBasis(t,e){return this.loadAsync((()=>x(t,this.createDescriptor(t),e).then((t=>(this.glTexture=t,t)))))}loadFromPixelData(t,e){y(this.params.width>0&&this.params.height>0);const r=this.createDescriptor(t);return r.pixelFormat=1===this.params.components?6409:3===this.params.components?6407:6408,r.width=this.params.width,r.height=this.params.height,this.glTexture=new E(t,r,e),this.glTexture}loadAsync(t){const e=n();this.loadingController=e;const r=t(e.signal);this.loadingPromise=r;const i=()=>{this.loadingController===e&&(this.loadingController=null),this.loadingPromise===r&&(this.loadingPromise=null)};return r.then(i,i),r}loadFromURL(t,e,r){return this.loadAsync((async i=>{const s=await u(r,{signal:i});return this.loadFromImage(t,s,e)}))}loadFromImageElement(t,e,r){return r.complete?this.loadFromImage(t,r,e):this.loadAsync((async i=>{const s=await g(r,r.src,!1,i);return this.loadFromImage(t,s,e)}))}loadFromVideoElement(t,e,r){return r.readyState>=2?this.loadFromImage(t,r,e):this.loadFromVideoElementAsync(t,e,r)}loadFromVideoElementAsync(t,r,i){return this.loadAsync((s=>new Promise(((a,n)=>{const l=()=>{i.removeEventListener(\"loadeddata\",p),i.removeEventListener(\"error\",d),o(c)&&c.remove()},p=()=>{i.readyState>=2&&(l(),a(this.loadFromImage(t,i,r)))},d=t=>{l(),n(t||new e(\"Failed to load video\"))};i.addEventListener(\"loadeddata\",p),i.addEventListener(\"error\",d);const c=m(s,(()=>d(h())))}))))}loadFromImage(t,e,r){const s=S.getDataDimensions(e);this.params.width=s.width,this.params.height=s.height;const a=this.createDescriptor(t);return a.pixelFormat=3===this.params.components?6407:6408,!this.requiresPowerOfTwo(t,a)||i(s.width)&&i(s.height)?(a.width=s.width,a.height=s.height,this.glTexture=new E(t,a,e),this.glTexture):(this.glTexture=this.makePowerOfTwoTexture(t,e,s,a,r),this.glTexture)}requiresPowerOfTwo(t,e){const r=33071,i=\"number\"==typeof e.wrapMode?e.wrapMode===r:e.wrapMode.s===r&&e.wrapMode.t===r;return!b(t.gl)&&(e.hasMipmap||!i)}makePowerOfTwoTexture(e,r,i,a,o){const{width:n,height:m}=i,h=s(n),l=s(m);let p;switch(a.width=h,a.height=l,this.params.powerOfTwoResizeMode){case 2:a.textureCoordinateScaleFactor=[n/h,m/l],p=new E(e,a),p.updateData(0,0,0,n,m,r);break;case 1:case null:case void 0:p=this.stretchToPowerOfTwo(e,r,a,o);break;default:t(this.params.powerOfTwoResizeMode)}return a.hasMipmap&&p.generateMipmap(),p}stretchToPowerOfTwo(t,e,r,i){const s=new E(t,r),a=new I(t,{colorTarget:0,depthStencilTarget:0},s),o=new E(t,{target:3553,pixelFormat:r.pixelFormat,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!!r.flipped,maxAnisotropy:8,preMultiplyAlpha:r.preMultiplyAlpha},e),n=M(t);return this.drawStretchedTexture(t,i,a,n,o,s),this.requiresFrameUpdates?this.powerOfTwoStretchInfo={vao:n,sourceTexture:o,framebuffer:a}:(n.dispose(!0),o.dispose(),a.detachColorTexture(),t.bindFramebuffer(null),a.dispose()),s}drawStretchedTexture(t,e,r,i,s,a){t.bindFramebuffer(r);const o=t.getViewport();t.setViewport(0,0,a.descriptor.width,a.descriptor.height);const n=e.program;t.useProgram(n),n.setUniform4f(\"color\",1,1,1,1),n.bindTexture(s,\"tex\"),t.bindVAO(i),t.setPipelineState(e.pipeline),t.drawArrays(5,0,O(i,\"geometry\")),t.bindFramebuffer(null),t.setViewport(o.x,o.y,o.width,o.height)}unload(){if(o(this.powerOfTwoStretchInfo)){const{framebuffer:t,vao:e,sourceTexture:r}=this.powerOfTwoStretchInfo;e.dispose(!0),r.dispose(),t.dispose(),this.glTexture=null,this.powerOfTwoStretchInfo=null}if(o(this.glTexture)&&(this.glTexture.dispose(),this.glTexture=null),o(this.loadingController)){const t=this.loadingController;this.loadingController=null,this.loadingPromise=null,t.abort()}this.events.emit(\"unloaded\")}}S.DDS_ENCODING=\"image/vnd-ms.dds\",S.KTX2_ENCODING=\"image/ktx2\",S.BASIS_ENCODING=\"image/x.basis\";export{S as Texture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class h{constructor(e,t,i){this.editGeometry=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let h=\"redo\";e(this.addedVertex)&&(h=\"apply\",this.addedVertex=new i(this.component));const d=this.component.getLastVertex();if(e(d))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let i=null;d.right&&(this.originalEdge=d.right,i=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new s(this.component,d,this.addedVertex)),this.component.edges.push(this.left),d.right=this.left,t(this.originalEdge)&&t(i)&&(e(this.right)&&(this.right=new s(this.component,this.addedVertex,i)),this.component.edges.push(this.right),i.left=this.right),this.component.updateVertexIndex(this.addedVertex,d.index+1)}const n={addedVertices:[this.addedVertex],operation:h};this.editGeometry.emit(\"change\",n)}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);const i={removedVertices:[this.addedVertex],operation:\"undo\"};this.editGeometry.emit(\"change\",i)}accumulate(){return!1}}export{h as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import r from\"./GLMaterial.js\";class i extends r{constructor(e){super(e),this._textureIDs=new Set,this._textureRepository=e.textureRep,this._textureId=e.textureId,this._initTransparent=!!e.initTextureTransparent,this._texture=this._acquire(this._textureId),this._textureNormal=this._acquire(e.normalTextureId),this._textureEmissive=this._acquire(e.emissiveTextureId),this._textureOcclusion=this._acquire(e.occlusionTextureId),this._textureMetallicRoughness=this._acquire(e.metallicRoughnessTextureId)}dispose(){this._textureIDs.forEach((e=>this._textureRepository.release(e))),this._textureIDs.clear()}updateTexture(e){e!==this._textureId&&(this._release(this._textureId),this._textureId=e,this._texture=this._acquire(this._textureId))}bindTextures(t){e(this._texture)&&t.bindTexture(this._texture.glTexture,\"tex\"),e(this._textureNormal)&&t.bindTexture(this._textureNormal.glTexture,\"normalTexture\"),e(this._textureEmissive)&&t.bindTexture(this._textureEmissive.glTexture,\"texEmission\"),e(this._textureOcclusion)&&t.bindTexture(this._textureOcclusion.glTexture,\"texOcclusion\"),e(this._textureMetallicRoughness)&&t.bindTexture(this._textureMetallicRoughness.glTexture,\"texMetallicRoughness\")}bindTextureScale(t){const r=e(this._texture)&&this._texture.glTexture;r&&r.descriptor.textureCoordinateScaleFactor?t.setUniform2fv(\"textureCoordinateScaleFactor\",r.descriptor.textureCoordinateScaleFactor):t.setUniform2f(\"textureCoordinateScaleFactor\",1,1)}_acquire(e){if(!t(e))return this._textureIDs.add(e),this._textureRepository.acquire(e,this._initTransparent)}_release(e){t(e)||(this._textureIDs.delete(e),this._textureRepository.release(e))}}export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../output/ReadLinearDepth.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function r(r){r.include(e),r.uniforms.add(\"geometryDepthTexture\",\"sampler2D\"),r.uniforms.add(\"cameraNearFar\",\"vec2\"),r.code.add(t`bool geometryDepthTest(vec2 pos, float elementDepth) {\nfloat geometryDepth = linearDepthFromTexture(geometryDepthTexture, pos, cameraNearFar);\nreturn (elementDepth < (geometryDepth - 1.0));\n}`)}function o(e,t){t.multipassGeometryEnabled&&t.geometryLinearDepthTexture&&e.bindTexture(t.geometryLinearDepthTexture,\"geometryDepthTexture\")}export{o as bindMultipassGeometryTexture,r as multipassGeometryTest};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{i,t as r,s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,f as n,g as u,b as h}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{c}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class y extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=d(),this._up=d(),this._right=d(),this._renderOccluded=4,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){c(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){c(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new g(this.quadMaterialParameters),this._outlineMaterial=new O(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const a=this.view.state.camera,o=this._size*a.computeScreenPixelSizeAt(this._position),l=Math.min(this._maxSize,o);i(z),r(z,z,this._position),s(z,z,[l,l,l]),t(e)&&(e.transformation=z)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}const z=a();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function c(c){const i=e`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {\nvec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`,o=e`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {\nvec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;\nvec2 pixelSz = vec2(1.0) / widthHeight;\nvec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;\nvec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;\nreturn vec4(result, clipCoord.zw);\n}`;c.vertex.code.add(i),c.vertex.code.add(o),c.fragment.code.add(i),c.fragment.code.add(o)}export{c as AlignPixel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../output/ReadLinearDepth.glsl.js\";import{multipassGeometryTest as r}from\"../shading/MultipassGeometryTest.glsl.js\";import{RgbaFloatEncoding as t}from\"../util/RgbaFloatEncoding.glsl.js\";import{glsl as o}from\"../../shaderModules/interfaces.js\";function a(a,i){i.multipassGeometryEnabled&&a.vertex.include(r),i.multipassTerrainEnabled&&a.varyings.add(\"depth\",\"float\"),a.vertex.code.add(o`\n  void main(void) {\n    vec4 posProjCenter;\n    if (dot(position, position) > 0.0) {\n      // Render single point to center of the pixel to avoid subpixel\n      // filtering to affect the marker color\n      ProjectHUDAux projectAux;\n      vec4 posProj = projectPositionHUD(projectAux);\n      posProjCenter = alignToPixelCenter(posProj, viewport.zw);\n\n      ${i.multipassGeometryEnabled?o`\n        // Don't draw vertices behind geometry\n        if(geometryDepthTest(.5 + .5 * posProjCenter.xy / posProjCenter.w, projectAux.posView.z)){\n          posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n        }`:\"\"}\n\n      ${i.multipassTerrainEnabled?\"depth = projectAux.posView.z;\":\"\"}\n      vec3 vpos = projectAux.posModel;\n      if (rejectBySlice(vpos)) {\n        // Project out of clip space\n        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n      }\n\n    } else {\n      // Project out of clip space\n      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n\n    gl_Position = posProjCenter;\n    gl_PointSize = 1.0;\n  }\n  `),i.multipassTerrainEnabled&&a.fragment.include(e),a.fragment.uniforms.add(\"terrainDepthTexture\",\"sampler2D\"),a.fragment.uniforms.add(\"cameraNearFar\",\"vec2\"),a.fragment.uniforms.add(\"inverseViewport\",\"vec2\"),a.fragment.include(t),a.fragment.code.add(o`\n  void main() {\n    gl_FragColor = vec4(1, 1, 1, 1);\n    ${i.multipassTerrainEnabled?o`\n\n          vec2 uv = gl_FragCoord.xy * inverseViewport;\n\n          //Read the rgba data from the texture linear depth\n          vec4 terrainDepthData = texture2D(terrainDepthTexture, uv);\n\n          float terrainDepth = linearDepthFromFloat(rgba2float(terrainDepthData), cameraNearFar);\n\n          //If HUD vertex is behind terrain and the terrain depth is not the initialize value (e.g. we are not looking at the sky)\n          //Mark the HUD vertex as occluded by transparent terrain\n          if(depth < terrainDepth && terrainDepthData != vec4(0,0,0,1)){\n            gl_FragColor.g = 0.5;\n          }`:\"\"}\n  }\n  `)}export{a as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{j as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import n from\"../../../Color.js\";import{JSONSupport as t}from\"../../../core/JSONSupport.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.enabled=!0}};e([i({type:Boolean})],r.prototype,\"enabled\",void 0),r=e([o(\"esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm\")],r);let l=class extends t{constructor(e){super(e),this.lineSnapper=new r,this.parallelLineSnapper=new r,this.rightAngleSnapper=new r,this.rightAngleTriangleSnapper=new r,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new n([255,127,0]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5}};e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"lineSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"parallelLineSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleSnapper\",void 0),e([i({type:r,constructOnly:!0,nonNullable:!0,json:{write:!0}})],l.prototype,\"rightAngleTriangleSnapper\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"shortLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],l.prototype,\"distance\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"intersectionParallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"parallelLineThreshold\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"touchSensitivityMultiplier\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],l.prototype,\"pointOnLineThreshold\",void 0),e([i({type:n,nonNullable:!0})],l.prototype,\"orange\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthReference\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"lineHintWidthTarget\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],l.prototype,\"lineHintFadedExtensions\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],l.prototype,\"parallelLineHintWidth\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],l.prototype,\"parallelLineHintLength\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],l.prototype,\"parallelLineHintOffset\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],l.prototype,\"rightAngleHintSize\",void 0),e([i({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],l.prototype,\"rightAngleHintOutlineSize\",void 0),l=e([o(\"esri.views.interactive.snapping.Settings.Defaults\")],l);const p=new l;export{p as defaults};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{createScreenPoint as e,createScreenPointArray as t}from\"../../../core/screenUtils.js\";import{j as r}from\"../../../chunks/vec2.js\";import{c as n}from\"../../../chunks/vec3f64.js\";import o from\"../../../geometry/Point.js\";import{getConvertedElevationFromVector as s}from\"../../../support/elevationInfoUtils.js\";function c(e,t){const r=e.x-t.x,n=e.y-t.y;return r*r+n*n}function i(e,t){const r=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return r;case 3:return r&&e[2]===t[2];case 4:return r&&e[3]===t[3]}return!1}function a(t,r,n,o){return\"2d\"===o.type?o.toScreen(r.toPoint(t,m)):(f(t,r,n,o,u),o.state.camera.projectToScreen(u,d),e(d[0],d[1]))}function f(e,t,r,o,c=n()){const i=t.toXYZ(e);return i[2]=s(o,i,t.spatialReference,r)||0,o.renderCoordsHelper.toRenderCoords(i,t.spatialReference,c),c}function l(e,t,r,n,o,c,i){const a=r.toXYZ(e),f=r.toXYZ(t),l=s(o,a,r.spatialReference,n),p=s(o,f,r.spatialReference,n),u=(null==l?p:null==p?l:Math.min(l,p))||0;a[2]=u,f[2]=u,o.renderCoordsHelper.toRenderCoords(a,r.spatialReference,c),o.renderCoordsHelper.toRenderCoords(f,r.spatialReference,i)}function p(e,t){t.sort(((t,n)=>r(t.targetPoint,e)-r(n.targetPoint,e)))}const u=n(),d=t(),m=new o;export{f as anyMapPointToRender,a as anyMapPointToScreenPoint,l as anyMapPointsToRenderWithEqualZ,i as objectEqual,p as sortCandidatesInPlace,c as squareDistance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass s{}export{s as SnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class i extends n{constructor(t){super(),this.intersectionPoint=t}equals(n){return n instanceof i&&t(this.intersectionPoint,n.intersectionPoint)}}export{i as IntersectionSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{objectEqual as i}from\"../snappingUtils.js\";import{SnappingHint as e}from\"./SnappingHint.js\";t.getLogger(\"esri.views.interactive.snapping.hints.LineSnappingHint\");class s extends e{constructor(t,i,e,s=!0,n=!0){super(),this.type=t,this.lineStart=i,this.lineEnd=e,this.fadeLeft=s,this.fadeRight=n}equals(t){return t instanceof s&&(this.type===t.type&&i(this.lineStart,t.lineStart)&&i(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight)}}export{s as LineSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";i.getLogger(\"esri.views.interactive.snapping.hints.ParallelSnappingHint\");class e extends n{constructor(i,t){super(),this.lineStart=i,this.lineEnd=t}equals(i){return i instanceof e&&(t(this.lineStart,i.lineStart)&&t(this.lineEnd,i.lineEnd))}}export{e as ParallelSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class s extends n{constructor(t){super(),this.point=t}equals(n){return n instanceof s&&t(this.point,n.point)}}export{s as PointSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Logger.js\";import{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as r}from\"./SnappingHint.js\";e.getLogger(\"esri.views.interactive.snapping.hints.RightAngleSnappingHint\");class i extends r{constructor(e,t,r){super(),this.previousVertex=e,this.centerVertex=t,this.nextVertex=r}equals(e){return e instanceof i&&(t(this.previousVertex,e.previousVertex)&&t(this.centerVertex,e.centerVertex)&&t(this.nextVertex,e.nextVertex))}}export{i as RightAngleSnappingHint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{IntersectionSnappingHint as n}from\"./hints/IntersectionSnappingHint.js\";import{LineSnappingHint as t}from\"./hints/LineSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{PointSnappingHint as o}from\"./hints/PointSnappingHint.js\";import{RightAngleSnappingHint as e}from\"./hints/RightAngleSnappingHint.js\";class r{draw(r,a){const p=this.getUniqueHints(r),h=[];for(const i of p)i instanceof n&&h.push(this.visualizeIntersectionPoint(i,a)),i instanceof t&&h.push(this.visualizeLine(i,a)),i instanceof s&&h.push(this.visualizeParallelSign(i,a)),i instanceof e&&h.push(this.visualizeRightAngleQuad(i,a)),i instanceof o&&h.push(this.visualizePoint(i,a));return i(h)}getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Graphic.js\";import\"../../../symbols.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{px2pt as i}from\"../../../core/screenUtils.js\";import{a as t,g as n}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{colors as l}from\"../../draw/support/settings.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";import m from\"../../../geometry/Point.js\";import c from\"../../../geometry/Polyline.js\";import y from\"../../../symbols/SimpleMarkerSymbol.js\";import b from\"../../../symbols/SimpleLineSymbol.js\";import S from\"../../../symbols/CIMSymbol.js\";class h extends p{constructor(e){super(),this.graphicsLayer=e}visualizeIntersectionPoint(e,r){return this._visualizeSnappingIndicator(new m({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:r.coordinateHelper.spatialReference}),u)}visualizePoint(e,r){return this._visualizeSnappingIndicator(new m({x:e.point[0],y:e.point[1],spatialReference:r.coordinateHelper.spatialReference}),M)}visualizeLine(e,r){return this._visualizeSnappingIndicator(new c({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),f)}visualizeParallelSign(e,r){return this._visualizeSnappingIndicator(new c({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),I)}visualizeRightAngleQuad(e,r){return this._visualizeSnappingIndicator(new c({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:r.coordinateHelper.spatialReference}),C(e))}_visualizeSnappingIndicator(i,t){const n=new e({geometry:i,symbol:t});return this.graphicsLayer.add(n),r((()=>{this.graphicsLayer.remove(n)}))}}const d=l.main.toArray(),g=[...l.main.toRgb(),100],u=new y({outline:new b({width:1.5,color:d}),size:15,color:[0,0,0,0]}),M=new y({outline:{width:.5,color:[0,0,0,1]},size:10,color:d}),f=new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.lineHintWidthTarget),color:d}]}}}),I=new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),P=e=>new S({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:i(s.rightAngleHintSize),rotation:e,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.rightAngleHintOutlineSize),color:d},{type:\"CIMSolidFill\",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),x=P(45),v=P(225),C=(()=>{const e=o(),r=o(),i=a();return o=>(t(e,o.centerVertex,o.previousVertex),t(r,o.nextVertex,o.previousVertex),n(i,e,r),i[2]<0?x:v)})();export{h as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,i){this.editGeometry=t,this.vertices=e,this.operation=i,this.undone=!1}apply(){this.vertices.forEach((t=>this.operation.apply(t))),this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions()));const t={updatedVertices:this.vertices,operation:this.undone?\"redo\":\"apply\"};this.editGeometry.emit(\"change\",t)}undo(){this.vertices.forEach((t=>this.operation.undo(t)));const t={updatedVertices:this.vertices,operation:\"undo\"};this.editGeometry.emit(\"change\",t),this.undone=!0}canAccumulate(t){if(this.undone||t.vertices.length!==this.vertices.length)return!1;for(let e=0;e<t.vertices.length;++e)if(t.vertices[e]!==this.vertices[e])return!1;return this.operation.canAccumulate(t.operation)}accumulate(e){if(e instanceof t&&this.canAccumulate(e)){this.vertices.forEach((t=>this.operation.accumulate(t,e.operation))),this.operation.accumulateParams(e.operation),this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions()));const t={updatedVertices:this.vertices,operation:\"apply\"};return this.editGeometry.emit(\"change\",t),!0}return!1}}class e{constructor(t){this.helper=t}}export{e as PerVertexOperation,t as UpdateVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this.editGeometry=e,this.vertices=t,this.minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((t=>{const r=this._removeVertex(t);e(r)&&this.removedVertices.push(r)})),t=\"apply\"):this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));const r={removedVertices:this.vertices,operation:t};this.editGeometry.emit(\"change\",r)}undo(){this.removedVertices.forEach((e=>{this._undoRemoveVertex(e)}));const e={addedVertices:this.vertices,operation:\"undo\"};this.editGeometry.emit(\"change\",e)}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this.minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.left,d=e.right;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.left.right=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.right.left=null),0===e.index&&d&&this.vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.right),0),s&&d&&(i.createdEdge=new t(r,s.left,d.right),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.right,d.right.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.left,s=t.right;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.left.right=i),s&&(r.edges.push(s),s.right.left=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Vertex as t,Edge as i}from\"../EditGeometry.js\";class s{constructor(e,t,i){this.editGeometry=e,this.edge=t,this.t=i,this.createdVertex=null,this.left=null,this.right=null}apply(){let s=\"redo\";const r=this.edge,h=r.component,d=r.component.data,c=r.left,n=r.right;h.edges.splice(h.edges.indexOf(r),1),e(this.createdVertex)&&(s=\"apply\",this.createdVertex=new t(r.component)),h.vertices.push(this.createdVertex),this.createdVertex.pos=d.coordinateHelper.lerp(r.left.pos,r.right.pos,this.t,d.coordinateHelper.createNew()),e(this.left)&&(this.left=new i(h,c,this.createdVertex)),this.left.left.left?h.edges.push(this.left):h.edges.unshift(this.left),c.right=this.left,e(this.right)&&(this.right=new i(h,this.createdVertex,n)),h.edges.push(this.right),n.left=this.right,h.updateVertexIndex(this.createdVertex,c.index+1);const l={addedVertices:[this.createdVertex],operation:s};this.editGeometry.emit(\"change\",l)}undo(){if(e(this.createdVertex)||e(this.left)||e(this.right))return null;const t=this.edge,i=t.component,s=this.createdVertex.left,r=this.createdVertex.right,h=s.left,d=r.right;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this.left),1),i.edges.splice(i.edges.indexOf(this.right),1),this.edge.left.left?i.edges.push(this.edge):i.edges.unshift(this.edge),h.right=t,d.left=t,i.updateVertexIndex(h,h.index);const c={removedVertices:[this.createdVertex],operation:\"undo\"};this.editGeometry.emit(\"change\",c)}accumulate(){return!1}}export{s as SplitEdge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{PerVertexOperation as t}from\"./UpdateVertices.js\";class s extends t{constructor(t,s,d,e){super(t),this.dx=s,this.dy=d,this.dz=e}move(t,s,d,e){this.helper.addDelta(t.pos,s,d,e)}apply(t){this.move(t,this.dx,this.dy,this.dz)}undo(t){this.move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(t){return t instanceof s}accumulate(t,s){this.move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}export{s as MoveVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{d as n,h as s,q as r,b as e,a as o,i as u,p as a,c,l as i}from\"../../chunks/vec2.js\";import{b as f,a as p}from\"../../chunks/vec2f64.js\";function h(t,n){return t[0]*n[1]-t[1]*n[0]}function m(t,s,r){const e=(s[0]-t[0])*(r[1]-t[1])-(s[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/n(s,r)}function y(t,n,o){const u=s(o,n)/r(o);return e(t,o,u)}function d(t,n,s,r,e=s){return o(x,r,s),o(g,n,e),y(w,g,x),u(t,e,w)}function b(t,n,e,u){o(x,u,e),o(g,n,e);const i=s(x,g)/r(x);return i>0?a(t,e,x,i):c(t,e)}function l(t,n,s,r){o(x,n,s);const e=r/i(x);return a(t,s,x,e)}function j(n,s){return d(g,s,n.start,n.end),t(g[0],s[0])&&t(g[1],s[1])?[f(s)]:[]}function M(n,s,r){return l(g,r,n,s),t(g[0],r[0])&&t(g[1],r[1])?[f(r)]:[]}function k(t,n){const s=t.start,r=t.end,e=n.start,u=n.end,c=o(x,r,s),i=o(U,u,e),f=h(c,i);if(Math.abs(f)<=v)return[];const p=o(g,s,e),m=h(i,p)/f,y=h(c,p)/f;if(m>=0){if(y>=0||1===n.type)return[a(w,s,c,m)]}else if(1===t.type&&(y>=0||1===n.type))return[a(w,s,c,m)];return[]}function q(t,n,e){const u=[],c=o(x,t.end,t.start),i=o(U,t.start,n),f=r(c),p=2*s(c,i),h=p*p-4*f*(r(i)-e*e);if(0===h){const n=-p/(2*f);(1===t.type||n>=0)&&u.push(a(w,t.start,c,n))}else if(h>0){const n=Math.sqrt(h),s=(-p+n)/(2*f);(1===t.type||s>=0)&&u.push(a(w,t.start,c,s));const r=(-p-n)/(2*f);(1===t.type||r>=0)&&u.push(a(g,t.start,c,r))}return u}const v=1e-6,x=p(),U=p(),g=p(),w=p();export{h as cross,M as intersectCircleAndPoint,j as intersectLineAndPoint,k as intersectLineAndRay,q as intersectLineLikeAndCircle,m as pointToLineDistance,y as projectPoint,l as projectPointToCircle,d as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{abortMaybe as i,isSome as s,isNone as r,unwrapOr as o}from\"../../core/maybe.js\";import{createTask as n}from\"../../core/promiseUtils.js\";import{createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import d from\"../../layers/GraphicsLayer.js\";import{makeDehydratedPoint as c}from\"../../layers/graphics/dehydratedFeatures.js\";import{SnappingVisualizer2D as l}from\"../2d/interactive/SnappingVisualizer2D.js\";import{createCoordinateHelper as m}from\"../interactive/coordinateHelper.js\";import{EditGeometry as y,Component as _}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as g}from\"../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as u}from\"../interactive/snapping/SnappingContext.js\";var v;let f=v=class extends t.EventedAccessor{constructor(e){var t;super(e),this._hasZ=null,this._cursorScreenPoint=null,this._snappingTask=null,this._stagedVertex=null,this._stagedVertexUnsnapped=null,this._lastVertexUnsnapped=null,this._nativeEventHistory={undoStack:[],redoStack:[]},this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0,this._coordinateHelper=m(e.hasZ,!1,e.view.spatialReference,\"local\"),this._snappingManager=e.snappingManager,this._editGeometry=new g(new y(this._coordinateHelper),null!=(t=e.editGeometryType)?t:\"polygon\"),this._snappingGraphicsLayer=new d({id:v.SNAPPING_GRAPHICS_LAYER_ID,listMode:\"hide\",internal:!0}),this._snappingContext=new u({geometry:this._editGeometry,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:\"mouse\",visualizer:new l(this._snappingGraphicsLayer)}),this._activeComponent=new _(this._editGeometry.editGeometry),this._editGeometry.editGeometry.components.push(this._activeComponent)}initialize(){\"2d\"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}destroy(){this._snappingTask=i(this._snappingTask),this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),s(this._snappingManager)&&this._snappingManager.doneSnapping(),this._editGeometry.destroy()}get _committedVertices(){return this._editGeometry.editGeometry.components[0].vertices.map((e=>e.pos))}get vertices(){return s(this._stagedVertex)?[...this._committedVertices,this._coordinateHelper.pointToArray(this._stagedVertex)]:this._committedVertices}get hasZ(){return s(this._hasZ)?this._hasZ:\"3d\"===this.view.type}set hasZ(e){this._hasZ=e,this.notifyChange(\"hasZ\")}canUndo(){return this._editGeometry.editGeometry.canUndo}canRedo(){return this._editGeometry.editGeometry.canRedo}undo(){this.canUndo()&&this._editGeometry.undo()}redo(){this.canRedo()&&this._editGeometry.redo()}getCoordsFromScreenPoint(e){const t=this.screenToMap(e);return s(t)?t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]:null}getCoordsAndPointFromScreenPoint(e){const t=this.screenToMap(e);return s(t)?t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}:null}_pushCursorVertex(e){const t=c(e[0],e[1],null,this.view.spatialReference);this._stagedVertexUnsnapped=t,r(this._snappingManager)?this._stagedVertex=t:(this._stagedVertex=this._snappingManager.update(t,this._snappingContext),this._snappingTask=n((async e=>{if(s(this._snappingManager)){const i=await this._snappingManager.snap(t,this._snappingContext,e);return i.valid&&(this._stagedVertex=i.apply(),this.notifyChange(\"vertices\")),i}return null})))}_popCursorVertex(){this._stagedVertex=null,this._stagedVertexUnsnapped=null,this.notifyChange(\"vertices\")}getGeometryZValue(){return this.defaultZ}screenToMap(e){let t=null;if(\"3d\"===this.view.type)if(this.hasZ){const i=o(this.elevationInfo,x);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(a(e.x,e.y),i,this.getGeometryZValue())}else{const i=o(this.elevationInfo,G);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(a(e.x,e.y),i,0),s(t)&&(t.z=void 0)}else t=this.view.toMap(e),s(t)&&(t.z=this.hasZ?this.getGeometryZValue():void 0);return t}_isDuplicateOfLastVertex(e){const t=this._editGeometry.editGeometry.components[0].getLastVertex();if(s(t)&&e[0]===t[0]&&e[1]===t[1])return!0;const{x:i,y:r}=this._coordinateHelper.createDehydratedPoint(e);return!(!s(this._lastVertexUnsnapped)||i!==this._lastVertexUnsnapped.x||r!==this._lastVertexUnsnapped.y)}_vertexAddHandler(e){const t=s(this._stagedVertex)?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);s(t)&&this._addVertex(t,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}};f.SNAPPING_GRAPHICS_LAYER_ID=\"DrawAction-snapping-graphics-layer\",e([p({readOnly:!0})],f.prototype,\"vertices\",null),e([p({type:Boolean,nonNullable:!0})],f.prototype,\"interactiveUndoDisabled\",void 0),e([p({readOnly:!0})],f.prototype,\"history\",void 0),e([p({readOnly:!0})],f.prototype,\"redoHistory\",void 0),e([p()],f.prototype,\"snapToScene\",void 0),e([p()],f.prototype,\"view\",void 0),e([p()],f.prototype,\"elevationInfo\",void 0),e([p({nonNullable:!0})],f.prototype,\"defaultZ\",void 0),e([p()],f.prototype,\"hasZ\",null),f=v=e([h(\"esri.views.draw.DrawAction\")],f);const x={mode:\"absolute-height\",offset:0},G={mode:\"on-the-ground\",offset:0};var V=f;export default V;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as i,isNone as e}from\"../../../../core/maybe.js\";import{a as s,f as n,h as r}from\"../../../../chunks/vec2.js\";import{a as h}from\"../../../../chunks/vec2f64.js\";import{r as a,d as o,o as c,c as _,n as l,b as p,a as d,z as g,g as f}from\"../../../../chunks/vec3.js\";import{c as m,f as u}from\"../../../../chunks/vec3f64.js\";import{create as D,fromPositionAndNormal as b,signedDistance as x,copy as y,intersectLine as P,normal as N}from\"../../../../geometry/support/plane.js\";import{angle as j,projectPointSignedLength as v}from\"../../../../geometry/support/vector.js\";import{PerVertexOperation as z}from\"./UpdateVertices.js\";import{intersectLineAndRay as C}from\"../../../support/geometry2dUtils.js\";class I extends z{constructor(t,i,e,s=0,n=0){super(t),this.planeType=i,this.edge=e,this.distance=s,this._plane=D(),this._offsetPlane=D(),this._minDistance=-1/0,this._maxDistance=1/0,0===n&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var t,i,e,s;const n=this._toXYZ(this.edge.left.pos),r=this._toXYZ(null==(t=this.edge.left.left)||null==(i=t.left)?void 0:i.pos),h=this._toXYZ(this.edge.right.pos),o=this._toXYZ(null==(e=this.edge.right.right)||null==(s=e.right)?void 0:s.pos);this._edgeDirection=a(m(),n,h),this._left=this._computeNeighbor(n,r,this._edgeDirection),this._right=this._computeNeighbor(h,o,this._edgeDirection)}_toXYZ(t){return i(t)?this.helper.toXYZ(t):null}_computeNeighbor(t,i,s){if(e(i))return{start:t,end:i,direction:u(-s[1],s[0],0),isOriginalDirection:!0};const n=a(m(),t,i),r=!this._passesBisectingAngleThreshold(n,s);return{start:t,end:i,direction:r?this._bisectVectorsPerpendicular(s,n):n,isOriginalDirection:!r}}_passesBisectingAngleThreshold(t,i){const e=Math.abs(j(i,t));return e>=M&&e<=Math.PI-M}_bisectVectorsPerpendicular(t,i){const e=o(t,i)<0?t:c(m(),t),s=Math.abs(o(e,i));if(!(s<.001||s>.999))return this._bisectDirection(e,i);const n=_(m(),e,[0,0,1]);return l(n,n)}_bisectDirection(t,i){const e=p(m(),t,i);return l(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);o(t,i)<0&&c(i,i),b(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=_(m(),t.direction,this._edgeDirection);l(i,i);const e=_(m(),this._edgeDirection,i);return 1===this.planeType&&(e[2]=0),l(e,e)}_initializeDistanceConstraints(){i(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(x(this._plane,this._left.end)),i(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(x(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=N(t),e=this._edgeDirection,a=p(m(),this._left.start,this._left.direction),o=p(m(),this._right.start,this._right.direction),c=this._pointInBasis2D(h(),i,e,this._left.start),_=this._pointInBasis2D(h(),i,e,a),l=this._pointInBasis2D(h(),i,e,this._right.start),g=this._pointInBasis2D(h(),i,e,o),[f]=C({start:_,end:c,type:1},{start:g,end:l,type:1});if(!f)return;const u=s(h(),c,_);n(u,u);const D=s(h(),f,_),b=r(u,D),y=p(m(),a,d(m(),this._left.direction,-b)),P=x(t,y);this._updateDistanceConstraint(P)}_pointInBasis2D(t,i,e,s){return t[0]=v(i,s),t[1]=v(e,s),t}_offset(t,e){Number.isFinite(this._minDistance)&&(e=Math.max(this._minDistance,e)),Number.isFinite(this._maxDistance)&&(e=Math.min(this._maxDistance,e)),y(this._plane,this._offsetPlane),this._offsetPlane[3]-=e;const s=(t,e,s)=>i(e)&&P(this._offsetPlane,t,p(m(),t,e),s),n=m();(t===this.edge.left?s(this._left.start,this._left.direction,n):s(this._right.start,this._right.direction,n))&&this.helper.copy(this.helper.fromXYZ(n,void 0,this.helper.getM(t.pos)),t.pos)}signedDistanceToPoint(t){return x(this.plane,this.helper.toXYZ(this.helper.fromPoint(t)))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof I&&this.edge.left.index===t.edge.left.index&&this.edge.right.index===t.edge.right.index&&this.edge.component===t.edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&g(N(this._plane),N(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new I(this.helper,this.planeType,this.edge,this.distance,1);return y(this._plane,t._plane),y(this._offsetPlane,t._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=f(m(),this._edgeDirection),t}_maybeEqualsVec3(t,s){return e(t)&&e(s)||i(t)&&i(s)&&g(t,s)}_cloneNeighbor({start:t,end:e,direction:s,isOriginalDirection:n}){return{start:f(m(),t),end:i(e)?f(m(),e):null,direction:f(m(),s),isOriginalDirection:n}}}const M=t(15);export{I as OffsetEdgeVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{PerVertexOperation as a}from\"./UpdateVertices.js\";class e extends a{constructor(t,a,e,i=0){super(t),this.origin=a,this.angle=e,this.accumulationType=i}rotate(t,a){this.helper.rotate(t.pos,this.origin,a)}apply(t){this.rotate(t,this.angle)}undo(t){this.rotate(t,-this.angle)}canAccumulate(a){return a instanceof e&&t(this.origin,a.origin)}accumulate(t,a){const e=1===a.accumulationType;this.rotate(t,e?a.angle-this.angle:a.angle)}accumulateParams(t){const a=1===t.accumulationType;this.angle=a?t.angle:this.angle+t.angle}}export{e as RotateVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{s}from\"../../../../chunks/vec2.js\";import{a}from\"../../../../chunks/vec2f64.js\";import{PerVertexOperation as i}from\"./UpdateVertices.js\";class c extends i{constructor(t,i,c,r,o,h=0){super(t),this.origin=i,this.axis1=c,this.factor1=r,this.factor2=o,this.accumulationType=h,this.axis2=s(a(),c[1],-c[0])}scale(t,s,a){this.helper.scale(t.pos,this.origin,this.axis1,s),this.helper.scale(t.pos,this.origin,this.axis2,a)}apply(t){this.scale(t,this.factor1,this.factor2)}undo(t){this.scale(t,1/this.factor1,1/this.factor2)}canAccumulate(s){return s instanceof c&&t(this.origin,s.origin)&&t(this.axis1,s.axis1)}accumulate(t,s){1===s.accumulationType?this.scale(t,s.factor1/this.factor1,s.factor2/this.factor2):this.scale(t,s.factor1,s.factor2)}accumulateParams(t){const s=1===t.accumulationType;this.factor1=s?t.factor1:this.factor1*t.factor1,this.factor2=s?t.factor2:this.factor2*t.factor2}}export{c as ScaleVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.operations=[],this.closed=!1}close(){this.closed=!0}apply(){for(const t of this.operations)t.apply()}undo(){for(let t=this.operations.length-1;t>=0;t--)this.operations[t].undo()}accumulate(t){if(this.closed)return!1;const o=this.operations.length?this.operations[this.operations.length-1]:null;return o&&o.accumulate(t)||(this.operations.push(t),t.apply()),!0}}export{t as UndoGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{EditGeometry as t}from\"./EditGeometry.js\";export{Component,Edge,EditGeometry,Vertex}from\"./EditGeometry.js\";import{AppendVertex as r}from\"./operations/AppendVertex.js\";import{UpdateVertices as o}from\"./operations/UpdateVertices.js\";import{RemoveVertices as i}from\"./operations/RemoveVertices.js\";import{SplitEdge as s}from\"./operations/SplitEdge.js\";import{MoveVertex as n}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as m}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as d}from\"./operations/RotateVertex.js\";import{ScaleVertex as p}from\"./operations/ScaleVertex.js\";import{UndoGroup as y}from\"./operations/UndoGroup.js\";class a extends e{constructor(e,t){super(),this.editGeometry=e,this.type=t,this._geometry=null,this._dirty=!0,this._listener=this.editGeometry.on(\"change\",(e=>{this._dirty=!0,e.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this._listener.remove()}splitEdge(e,t){return this.editGeometry.apply(new s(this.editGeometry,e,t))}updateVertices(e,t,r=1){return this.editGeometry.apply(new o(this.editGeometry,e,t),r)}moveVertices(e,t,r,o,i=1){return this.updateVertices(e,new n(this.editGeometry.coordinateHelper,t,r,o),i)}scaleVertices(e,t,r,o,i,s=1,n=0){return this.updateVertices(e,new p(this.editGeometry.coordinateHelper,t,r,o,i,n),s)}rotateVertices(e,t,r,o=1,i=0){return this.updateVertices(e,new d(this.editGeometry.coordinateHelper,t,r,i),o)}removeVertices(e){return this.editGeometry.apply(new i(this.editGeometry,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.editGeometry.components.length?null:this.editGeometry.apply(new r(this.editGeometry,this.editGeometry.components[0],e))}offsetEdge(e,t,r,o=1){return this.updateVertices([t.left,t.right],new m(this.editGeometry.coordinateHelper,e,t,r),o)}canRemoveVertex(){return this.editGeometry.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new y;return this.editGeometry.apply(e),{remove:()=>e.close()}}undo(){return this.editGeometry.undo()}get canUndo(){return this.editGeometry.canUndo}redo(){return this.editGeometry.redo()}get canRedo(){return this.editGeometry.canRedo}get geometry(){if(this._dirty){switch(this.type){case\"point\":this._geometry=this.editGeometry.toPoint();break;case\"polyline\":this._geometry=this.editGeometry.toPolyline();break;case\"polygon\":this._geometry=this.editGeometry.toPolygon()}this._dirty=!1}return this._geometry}get _minNumVerticesPerType(){switch(this.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}static fromGeometry(e,r){return new a(t.fromGeometry(e,r),e.type)}}export{a as EditGeometryHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.geometry=e.geometry,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.visualizer=e.visualizer}get coordinateHelper(){return this.geometry.editGeometry.coordinateHelper}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-add\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-update\"}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-remove\"}preventDefault(){this.defaultPrevented=!0}}class i{constructor(t,e,s,i,r=null){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.mapPoint=r,this.coordinates=null,this.defaultPrevented=!1,this.type=\"cursor-update\",this.coordinates=1===i.length?i[0]:null}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e){this.native=t,this.vertices=e,this.coordinates=null,this.defaultPrevented=!1,this.type=\"draw-complete\",this.coordinates=1===e.length?e[0]:null}preventDefault(){this.defaultPrevented=!0}}export{i as CursorUpdateEvent,r as DrawCompleteEvent,t as VertexAddEvent,s as VertexRemoveEvent,e as VertexUpdateEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst e={redo:\"r\",undo:\"z\",center:\"Alt\",constraint:\"Shift\",snappingToggle:\"Control\",cancel:\"Escape\",delete:[\"Backspace\",\"Delete\"],complete:\"Enter\",vertexAdd:\"f\",pan:\" \"};export{e as SKETCH_KEYS};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./tslib.es6.js\";import\"../geometry.js\";import t from\"../core/Handles.js\";import{abortMaybe as i,isSome as s,isNone as o}from\"../core/maybe.js\";import\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import r from\"../views/draw/DrawAction.js\";import{VertexRemoveEvent as a,VertexAddEvent as d,CursorUpdateEvent as p,DrawCompleteEvent as h}from\"../views/draw/input/DrawEvents.js\";import{ViewEventPriorities as _}from\"../views/input/InputManager.js\";import{SKETCH_KEYS as c}from\"../views/interactive/keybindings.js\";import{createScreenPointFromEvent as v}from\"../views/support/screenUtils.js\";import l from\"../geometry/Point.js\";let u=class extends r{constructor(e){super(e),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy(),this.emit(\"destroy\")}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=v(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),_.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=v(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),_.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._addVertexOnPointerUp=!1)}),_.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp)this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),_.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),_.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),_.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:s}=e;t===c.vertexAdd&&!s&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t===c.complete&&!s&&this._cursorScreenPoint&&this.vertices.length>2?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e),this._drawCompleteHandler(e)):t!==c.undo||this.interactiveUndoDisabled||s?t!==c.redo||this.interactiveUndoDisabled||s?t!==c.pan||s||e.stopPropagation():(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo())}),_.TOOL),this.view.on(\"key-up\",(e=>{e.key===c.pan&&e.stopPropagation()}),_.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometry.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];s(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new a(this.view,t,e.vertices[0].index,i))}})),this._editGeometry.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new d(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];s(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new d(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i);const s=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(s)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(s(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new p(this.view,e,this._activeComponent.vertices.length,this.vertices,s(this._stagedVertex)?new l(this._stagedVertex):null);this.emit(\"cursor-update\",t()),s(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._snappingTask=i(this._snappingTask),s(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<2)return;const t=new h(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return m(e)&&(o(this._activePointerId)||this._activePointerId===e.pointerId)}};function m(e){return\"mouse\"!==e.pointerType||0===e.button}u=e([n(\"esri.views.draw.MultipointDrawAction\")],u);var g=Object.freeze({__proto__:null,get MultipointDrawAction(){return u}});export{u as M,g as a};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,abortMaybe as t,isSome as n}from\"../../../core/maybe.js\";import{createTask as r}from\"../../../core/promiseUtils.js\";import{pointEquals as a}from\"../../../layers/graphics/dehydratedFeatureComparison.js\";import{EventPipeline as i}from\"../../interactive/dragEventPipeline.js\";import{SnappingContext as o}from\"../../interactive/snapping/SnappingContext.js\";import{TaskPriority as p,ImmediateTask as s}from\"../../support/Scheduler.js\";class c{constructor(){this.next=new i}createSnapDragEventPipelineStep({predicate:c=(()=>!0),cancel:l,snappingManager:d,snappingContext:m,updatingHandles:u}){if(e(d))return e=>e;let x=null,g=null;const y=()=>{x=t(x),d.doneSnapping(),n(g)&&g.frameTask.remove(),g=null};return l.next((e=>(y(),e))),this.next=new i,e=>{if(!c(e))return e;if(x=t(x),\"start\"===e.action){const t=\"3d\"===d.view.type?d.view.resourceController.scheduler.registerTask(p.SNAPPING):s;g={context:new o({geometry:m.geometry,elevationInfo:m.elevationInfo,pointer:m.pointer,vertexHandle:n(e.info)?e.info.handle:null,excludeFeature:m.excludeFeature,visualizer:m.visualizer}),originalPos:n(e.snapOrigin)?m.coordinateHelper.createDehydratedPoint(e.snapOrigin):e.mapStart,frameTask:t}}if(n(g)){const t=g.context.coordinateHelper.createDehydratedPoint(g.context.coordinateHelper.fromArray([g.originalPos.x,g.originalPos.y,g.originalPos.z]));t.x+=e.mapEnd.x-e.mapStart.x,t.y+=e.mapEnd.y-e.mapStart.y;const n=e.mapStart.x-g.originalPos.x,i=e.mapStart.y-g.originalPos.y,o={...e,action:\"udpate\"},p=g.context,s=d.update(t,g.context);if(e.mapEnd.x=s.x+n,e.mapEnd.y=s.y+i,\"end\"!==e.action){const e=g.frameTask;x=r((async r=>{const c=await e.schedule((()=>d.snap(t,p,r)),r);if(c.valid){const t=await e.schedule((()=>c.apply()),r);a(t,s)||(o.mapEnd.x=t.x+n,o.mapEnd.y=t.y+i,this.next.execute(o))}})),u.addPromise(x.promise)}}return\"end\"===e.action&&y(),e}}}export{c as SnappingPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import e from\"../../../../core/Handles.js\";import{isSome as t,unwrap as s,isNone as i,unwrapOr as r}from\"../../../../core/maybe.js\";import{g as n,f as a,k as l,o}from\"../../../../chunks/vec3.js\";import{c as h,f as d}from\"../../../../chunks/vec3f64.js\";import{g as p,c as _}from\"../../../../chunks/vec4.js\";import{f as u,a as c}from\"../../../../chunks/vec4f32.js\";import{fromRay as f,getStart as m,getEnd as y,create as g}from\"../../../../geometry/support/clipRay.js\";import{intersectClipRay as x}from\"../../../../geometry/support/frustum.js\";import{fromPoints as w,pointAt as b,create as R}from\"../../../../geometry/support/lineSegment.js\";import{create as E,fromPoints as O}from\"../../../../geometry/support/ray.js\";import{LaserlineVisualElement as j}from\"./LaserlineVisualElement.js\";import{Object3DVisualElement as C}from\"./Object3DVisualElement.js\";import v from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as M}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class P extends C{constructor(t){super(t),this._ray=E(),this._externalResources=null,this._handles=new e,this._isWorldDown=!1,this._start=h(),this._end=d(1,0,0),this._width=1,this._color=u(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=u(1,1,1,1),this._stippleIntegerRepeats=!0,this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._extensionType=0,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=4,this._fadedExtensions=G,this.applyProps(t)}createExternalResources(){const e=new M(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()})));const t=new j({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){t(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){t(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[h(),h()],i=3===this.extensionType;i&&t.push(h(),h());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=v.createPolylineGeometry(t,null,r);e.addGeometry(n,s(this._externalResources).material),this.updateVertices(n)}updateVisibility(e){super.updateVisibility(e),t(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,n(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),a(this._end,e,this._end),O(this._start,this._end,this._ray),this.updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,l(this._start,e)||(n(this._start,e),O(this._start,this._end,this._ray),this.updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,l(this._end,e)||(n(this._end,e),O(this._start,this._end,this._ray),this.updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){p(e,this._color)||(_(this._color,e),this.updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){p(e,this._innerColor)||(_(this._innerColor,e),this.updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){e!==this._stippleIntegerRepeats&&(this._stippleIntegerRepeats=e,this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=t(e)!==t(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(i(e)||i(this._stippleOffColor)||!p(e,this._stippleOffColor))&&(this._stippleOffColor=t(e)?c(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&t(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,t(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,t(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=r(e,G),this.recreateGeometry()}updateMaterial(){if(i(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stippleIntegerRepeats:this._stippleIntegerRepeats,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}updateGeometry(){t(this.object)&&this.updateVertices(this.object.geometries[0])}updateVertices(e){const s=3===this._extensionType?this.updateLineSegmentFinite(S):this.updateLineSegmentInfinite(this._extensionType,S);this.updateVertexAttributes(e,s),t(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}updateLineSegmentFinite(e){return w(this._start,this._end,e)}updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(f(this._ray,D),e){case 0:D.c0=-Number.MAX_VALUE;break;case 1:case 2:{const e=this._ray.origin,t=r(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,\"ground\"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&o(D.ray.direction,D.ray.direction),2===this._extensionType&&null!=t&&(D.c1=Math.abs(s-t));break}}if(!x(s.frustum,D))return w(this._start,this._end,t);const i=m(D,A),n=y(D,W);return w(i,n,t)}updateVertexAttributes(e,s){const i=e.getMutableAttribute(\"position\").data;if(3===this.extensionType){const e=b(s,-this.fadedExtensions.start,A);i[0]=e[0],i[1]=e[1],i[2]=e[2];const t=b(s,0,A);i[3]=t[0],i[4]=t[1],i[5]=t[2];const r=b(s,1,A);i[6]=r[0],i[7]=r[1],i[8]=r[2];const n=b(s,1+this.fadedExtensions.end,A);i[9]=n[0],i[10]=n[1],i[11]=n[2]}else{const e=b(s,0,A);i[0]=e[0],i[1]=e[1],i[2]=e[2];const t=b(s,1,A);i[3]=t[0],i[4]=t[1],i[5]=t[2]}t(this.object)&&this.object.geometryVertexAttrsUpdated(0)}}const D=g(),A=h(),W=h(),S=R(),V=1/3,G={start:V,end:V};export{P as ExtendedLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{unwrap as t,isSome as s,isNone as r}from\"../../../../core/maybe.js\";import{createScreenPointArray as i}from\"../../../../core/screenUtils.js\";import{I as o}from\"../../../../chunks/mat4f64.js\";import{f as a,a as c,b as h,s as n,i as l}from\"../../../../chunks/vec2.js\";import{k as d,g as m,n as u,f as _,b as p}from\"../../../../chunks/vec3.js\";import{c as f,f as g}from\"../../../../chunks/vec3f64.js\";import{g as y,c as j}from\"../../../../chunks/vec4.js\";import{f as w}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as x}from\"./Object3DVisualElement.js\";import b from\"../../webgl-engine/lib/GeometryUtil.js\";import{RibbonLineMaterial as G}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class R extends x{constructor(t){super(t),this._handles=new e,this._location=f(),this._direction=g(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=w(1,0,1,1),this._renderOccluded=4,this.applyProps(t)}get location(){return this._location}set location(e){d(this._location,e)||(m(this._location,e),this.updateGeometry())}get direction(){return this._direction}set direction(e){d(this._direction,e)||(m(this._direction,e),this.updateGeometry())}setDirectionFromPoints(e,t){u(this._direction,_(this._direction,t,e)),this.updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this.updateGeometry())}get color(){return this._color}set color(e){y(e,this._color)||(j(this._color,e),this.updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}createExternalResources(){const e=new G(this.materialParameters);this._handles.add(this.view.state.watch(\"camera\",(()=>{this.updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const s=b.createPolylineGeometry([f(),f()]),r=b.createPolylineGeometry([f(),f()]),i=t(this._externalResources).material;e.addGeometry(s,i,o),e.addGeometry(r,i,o),this.updateVertices(e)}forEachExternalMaterial(e){s(this._externalResources)&&e(this._externalResources.material)}updateMaterial(){if(r(this._externalResources))return;this._externalResources.material.setParameterValues(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}updateGeometry(){const e=this.object;r(e)||this.updateVertices(e)}updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,V),p(O,this.location,this.direction),t.projectToScreen(O,v),a(v,c(v,v,V)),this.updateVertexAttributes(t,e,0,V,v,1),this.updateVertexAttributes(t,e,1,V,v,-1)}updateVertexAttributes(e,t,s,r,i,o){const a=t.geometryRecords[s].geometry.getMutableAttribute(\"position\").data,c=h(P,n(P,i[1]*o,i[0]*-o),this.offset+this.width/2),d=l(k,l(k,l(k,r,h(k,i,this.length/2)),c),c),m=l(M,d,h(M,i,-this.length));e.unprojectFromScreen(d,O),a[0]=O[0],a[1]=O[1],a[2]=O[2],e.unprojectFromScreen(m,O),a[3]=O[0],a[4]=O[1],a[5]=O[2],t.geometryVertexAttrsUpdated(s)}}const O=f(),V=i(),v=i(),P=i(),k=i(),M=i();export{R as ParallelLineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as s}from\"../../../../core/maybe.js\";import{init as r}from\"../../../../core/watchUtils.js\";import{Object3D as t}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as c}from\"../../webgl-engine/lib/WebGLLayer.js\";class o{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return e(this._resources)?this._resources.object:null}get resources(){return e(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(s(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{2===s.type&&e.remove(s)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new c({isPickable:!1,updatePolicy:1});e.add(s);const o=new t({castShadow:!1}),i=this.resourceFactory.createResources(o,s);i.forEach((s=>e.add(s))),e.add(o),s.add(o),this._syncVisible();const a=this.resourceFactory.cameraChanged?r(this.resourceFactory.view.state,\"camera\",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:i,cameraHandle:a}}_destroyResources(){if(s(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(this._resources.object),null==e||e.remove(this._resources.layer),this._resources.external.forEach((s=>{null==e||e.remove(s),\"dispose\"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){s(this._resources)||this._resources.object.setVisible(this._visible)}}export{o as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{hydrateGeometry as t}from\"../../../../layers/graphics/hydratedFeatures.js\";import{loadArcade as r}from\"../../../../support/arcadeOnDemand.js\";const n=e.getLogger(\"esri.views.3d.layers.graphics.featureExpressionInfoUtils\");function c(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function o(e){const t=e&&e.expression;if(\"string\"==typeof t){const e=p(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,t,n){const c=e&&e.expression;if(\"string\"!=typeof c)return null;const o=p(c);if(null!=o)return{cachedResult:o};const a=await r(),u=a.arcadeUtils,s=u.createSyntaxTree(c);return u.dependsOnView(s)?(null!=n&&n.error(\"Expressions containing '$view' are not supported on ElevationInfo\"),{cachedResult:0}):{arcade:{func:u.createFunction(s),context:u.createExecContext(null,{sr:t}),modules:a}}}function u(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function s(e,r){if(null!=e&&!f(e)){if(!r||!e.arcade)return void n.errorOncePerTick(\"Arcade support required but not provided\");const c=r;c._geometry&&(c._geometry=t(c._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,r)}}function l(e){if(null!=e){if(f(e))return e.cachedResult;const t=e.arcade;let r=e.arcade.modules.arcadeUtils.executeFunction(t.func,t.context);return\"number\"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function i(e,t=!1){let r=e&&e.featureExpressionInfo;const n=r&&r.expression;return t||\"0\"===n||(r=null),r}const d={cachedResult:0};function f(e){return null!=e.cachedResult}function p(e){return\"0\"===e?0:null}export{c as clone,a as createContext,o as createContextWithoutExpressionSupport,u as createFeature,l as execute,i as extractExpressionInfo,s as setContextFeature,d as zeroContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{unwrapOr as t,isNone as e,isSome as n}from\"../../../../core/maybe.js\";import{getMetersPerUnit as s,supportsUnit as i}from\"../../../../symbols/support/unitConversionUtils.js\";import{execute as r,clone as o,setContextFeature as f,createFeature as u}from\"./featureExpressionInfoUtils.js\";class h{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit=\"meters\",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(t){this._unit=t,this._metersPerElevationInfoUnit=s(t)}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit=\"meters\"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const n=this.featureExpressionInfoContext;return null!=n&&(e+=r(n)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(e){this.mode=e.mode,this.unit=i(e.unit)?e.unit:\"meters\",this.offsetElevationInfoUnits=t(e.offset,0)}updateFeatureExpressionInfoContext(t,s,i){if(e(t))return void(this._featureExpressionInfoContext=null);const r=t&&t.arcade;r&&n(s)&&n(i)?(this._featureExpressionInfoContext=o(t),f(this._featureExpressionInfoContext,u(r.modules,s,i))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new h;return n(t)&&e.setFromElevationInfo(t),e}}export{h as ElevationContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{packFloatRGBA as t}from\"../../webgl-engine/lib/Util.js\";function r(t,r,u){switch(t){case\"circle\":return n(r,u);case\"square\":return e(r,u);case\"cross\":return o(r,u);case\"x\":return s(r,u);case\"kite\":return a(r,u);case\"triangle\":return c(r,u);default:return n(r,u)}}function n(r,n){const e=r,a=new Uint8Array(4*e*e),o=e/2-.5,s=n/2;for(let c=0;c<e;c++)for(let n=0;n<e;n++){const u=n+e*c,i=n-o,f=c-o;let l=Math.sqrt(i*i+f*f)-s;l=l/r+.5,t(l,a,4*u)}return a}function e(t,r){return u(t,r,!1)}function a(t,r){return u(t,r,!0)}function o(t,r){return i(t,r,!1)}function s(t,r){return i(t,r,!0)}function c(r,n){const e=new Uint8Array(4*r*r),a=1,o=-.5,s=Math.sqrt(a*a+o*o),c=(r-n)/2;for(let u=0;u<r;u++)for(let i=0;i<r;i++){const f=u*r+i,l=(i-c)/n,h=(u-c+.75)/n,M=-(a*l+o*h)/s,b=(a*(l-1)+o*-h)/s,w=-h,Q=Math.max(M,b,w);t(Q*n/r+.5,e,4*f)}return e}function u(r,n,e){e&&(n/=Math.SQRT2);const a=new Uint8Array(4*r*r);for(let o=0;o<r;o++)for(let s=0;s<r;s++){let c=s-.5*r+.25,u=.5*r-o-.75;const i=o*r+s;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f=Math.max(Math.abs(c),Math.abs(u))-.5*n;f=f/r+.5,t(f,a,4*i)}return a}function i(r,n,e){e&&(n*=Math.SQRT2);const a=.5*n,o=new Uint8Array(4*r*r);for(let s=0;s<r;s++)for(let n=0;n<r;n++){let c=n-.5*r,u=.5*r-s-1;const i=s*r+n;if(e){const t=(c+u)/Math.SQRT2;u=(u-c)/Math.SQRT2,c=t}let f;c=Math.abs(c),u=Math.abs(u),f=c>u?c>a?Math.sqrt((c-a)*(c-a)+u*u):u:u>a?Math.sqrt(c*c+(u-a)*(u-a)):c,f=f/r+.5,t(f,o,4*i)}return o}export{n as createCircle,o as createCross,a as createKite,e as createSquare,c as createTriangle,r as createType,s as createX};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{bindSliceUniformsWithOrigin as r}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindVerticalOffsetUniforms as t}from\"../core/shaderLibrary/attributes/VerticalOffset.glsl.js\";import{bindHUDUniforms as i}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{bindOutputHighlight as o}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindMultipassGeometryTexture as s}from\"../core/shaderLibrary/shading/MultipassGeometryTest.glsl.js\";import{bindMultipassTerrainTexture as a}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindVisualVariablesUniforms as n}from\"../core/shaderLibrary/shading/VisualVariables.glsl.js\";import{bindScreenSizePerspectiveUniforms as l}from\"../core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{bindProjectionMatrix as p,bindViewport as d,bindView as c,bindCameraPosition as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as h}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as m}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as g,parameter as f}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as b}from\"../lib/DefaultVertexAttributeLocations.js\";import{OITBlending as v}from\"../lib/OrderIndependentTransparency.js\";import{Program as y}from\"../lib/Program.js\";import{b as E,H as T}from\"../../../../chunks/HUDMaterial.glsl.js\";import{defaultDepthWriteParams as P,makePipelineState as x,defaultColorWriteParams as O,simpleBlendingParams as S}from\"../../../webgl/renderState.js\";class j extends m{initializeProgram(e){const r=j.shader.get(),t=this.configuration,i=r.build({output:t.output,FrontFacePass:2===t.transparencyPassType,viewingMode:e.viewingMode,occlusionTestEnabled:t.occlusionTestEnabled,signedDistanceFieldEnabled:t.sdf,slicePlaneEnabled:t.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!0,debugDrawBorder:t.debugDrawBorder,binaryHighlightOcclusionEnabled:t.binaryHighlightOcclusion,screenCenterOffsetUnitsEnabled:t.screenCenterOffsetUnitsEnabled,screenSizePerspectiveEnabled:t.screenSizePerspective,verticalOffsetEnabled:t.verticalOffset,pixelSnappingEnabled:t.pixelSnappingEnabled,vvSize:t.vvSize,vvColor:t.vvColor,vvInstancingEnabled:!1,isDraped:t.isDraped,multipassGeometryEnabled:t.multipassGeometryEnabled,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new y(e.rctx,i,b)}bindPass(e,r){p(this.program,r.camera.projectionMatrix),this.program.setUniform1f(\"cameraGroundRelative\",r.camera.aboveGround?1:-1),this.program.setUniform1f(\"perDistancePixelRatio\",Math.tan(r.camera.fovY/2)/(r.camera.fullViewport[2]/2)),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix),this.program.setUniform1f(\"polygonOffset\",e.shaderPolygonOffset),t(this.program,e,r),l(this.program,e),this.program.setUniform1f(\"pixelRatio\",r.camera.pixelRatio||1),d(this.program,r),6===this.configuration.output?(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),s(this.program,r),a(this.program,r)):(i(this.program,r),E(this.program,e,r.camera.pixelRatio||1),n(this.program,e),this.configuration.occlusionTestEnabled&&this.program.bindTexture(r.hudVisibilityTexture,\"hudVisibilityTexture\")),4===this.configuration.output&&o(this.program,r)}bindDraw(e){c(this.program,e),u(this.program,e.origin,e.camera.viewInverseTransposeMatrix),r(this.program,this.configuration,e),this.program.rebindTextures()}setPipelineState(e){const r=this.configuration,t=3===e,i=2===e,o=515,s=this.configuration.polygonOffsetEnabled&&w,a=(t||i)&&4!==r.output?(r.depthEnabled||6===r.output)&&P:null;return x({blending:0===r.output||7===r.output||4===r.output?t?D:v(e):null,depthTest:{func:o},depthWrite:a,colorWrite:O,polygonOffset:s})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}get primitiveType(){return 6===this.configuration.output?0:4}}j.shader=new h(T,(()=>import(\"./HUDMaterial.glsl.js\")));const w={factor:0,units:-4},D=S(1,771);class U extends g{constructor(){super(...arguments),this.output=0,this.occlusionTestEnabled=!0,this.sdf=!1,this.vvSize=!1,this.vvColor=!1,this.verticalOffset=!1,this.screenSizePerspective=!1,this.screenCenterOffsetUnitsEnabled=0,this.debugDrawBorder=!0,this.binaryHighlightOcclusion=!0,this.slicePlaneEnabled=!1,this.polygonOffsetEnabled=!1,this.depthEnabled=!0,this.transparencyPassType=3,this.pixelSnappingEnabled=!0,this.isDraped=!1,this.multipassGeometryEnabled=!1,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([f({count:8})],U.prototype,\"output\",void 0),e([f()],U.prototype,\"occlusionTestEnabled\",void 0),e([f()],U.prototype,\"sdf\",void 0),e([f()],U.prototype,\"vvSize\",void 0),e([f()],U.prototype,\"vvColor\",void 0),e([f()],U.prototype,\"verticalOffset\",void 0),e([f()],U.prototype,\"screenSizePerspective\",void 0),e([f({count:2})],U.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([f()],U.prototype,\"debugDrawBorder\",void 0),e([f()],U.prototype,\"binaryHighlightOcclusion\",void 0),e([f()],U.prototype,\"slicePlaneEnabled\",void 0),e([f()],U.prototype,\"polygonOffsetEnabled\",void 0),e([f()],U.prototype,\"depthEnabled\",void 0),e([f({count:4})],U.prototype,\"transparencyPassType\",void 0),e([f()],U.prototype,\"pixelSnappingEnabled\",void 0),e([f()],U.prototype,\"isDraped\",void 0),e([f()],U.prototype,\"multipassGeometryEnabled\",void 0),e([f()],U.prototype,\"multipassTerrainEnabled\",void 0),e([f()],U.prototype,\"cullAboveGround\",void 0);export{j as HUDMaterialTechnique,U as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as e,sign as t}from\"../../../../core/mathUtils.js\";import{isSome as i}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{f as r}from\"../../../../chunks/mat3.js\";import{c as n}from\"../../../../chunks/mat3f64.js\";import{a}from\"../../../../chunks/mat4.js\";import{c as o}from\"../../../../chunks/mat4f64.js\";import{c}from\"../../../../chunks/vec2.js\";import{a as l,f as u}from\"../../../../chunks/vec2f64.js\";import{s as f,m as p,n as h,f as m,a as d,g,l as v,i as x,t as b,d as S,b as A}from\"../../../../chunks/vec3.js\";import{c as q,f as O}from\"../../../../chunks/vec3f64.js\";import{isMat4 as P}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import{create as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{newLayout as z}from\"../../support/buffer/InterleavedLayout.js\";import{computeAttachmentOriginPoints as C}from\"../lib/geometryDataUtils.js\";import T from\"../lib/GLMaterialTexture.js\";import{Material as _,materialParametersDefaults as w}from\"../lib/Material.js\";import{applyScaleFactor as j,applyPrecomputedScaleFactor as D,precomputeScaleFactor as M}from\"../lib/screenSizePerspectiveUtils.js\";import{assert as E}from\"../lib/Util.js\";import{writePosition as V,writeNormal as G,writeColor as I,writeBufferVec4 as R}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as U}from\"./internal/MaterialUtil.js\";import{isInstanceHidden as B}from\"./renderers/utils.js\";import{c as H}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechniqueConfiguration as k,HUDMaterialTechnique as F}from\"../shaders/HUDMaterialTechnique.js\";class W extends _{constructor(e){super(e,me),this.techniqueConfig=new k}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.verticalOffset=!!this.params.verticalOffset,this.techniqueConfig.screenSizePerspective=!!this.params.screenSizePerspective,this.techniqueConfig.screenCenterOffsetUnitsEnabled=\"screen\"===this.params.centerOffsetUnits?1:0,this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig.isDraped=this.params.isDraped,this.techniqueConfig.occlusionTestEnabled=this.params.occlusionTest,this.techniqueConfig.pixelSnappingEnabled=this.params.pixelSnappingEnabled,this.techniqueConfig.sdf=this.params.textureIsSignedDistanceField,this.techniqueConfig.vvSize=!!this.params.vvSizeEnabled,this.techniqueConfig.vvColor=!!this.params.vvColorEnabled,0===e&&(this.techniqueConfig.debugDrawBorder=!!this.params.debugDrawBorder),4===e&&(this.techniqueConfig.binaryHighlightOcclusion=this.params.binaryHighlightOcclusion),this.techniqueConfig.depthEnabled=this.params.depthEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassGeometryEnabled=!!t&&t.multipassGeometryEnabled,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}intersect(e,t,i,s,r,n,a,o,c){c?this.intersectDrapedHudGeometry(e,n,a,o):this.intersectHudGeometry(e,t,i,s,a,o)}intersectDrapedHudGeometry(e,t,s,r){const n=e.vertexAttributes.get(\"position\"),a=e.vertexAttributes.get(\"size\"),o=this.params,c=H(o);let l=1,u=1;if(i(r)){const e=r(le);l=e[0],u=e[5]}l*=e.screenToWorldRatio,u*=e.screenToWorldRatio;const f=fe*e.screenToWorldRatio;for(let i=0;i<n.data.length/n.size;i++){const r=i*n.size,p=n.data[r],h=n.data[r+1],m=i*a.size;let d;pe[0]=a.data[m]*l,pe[1]=a.data[m+1]*u,o.textureIsSignedDistanceField&&(d=o.outlineSize*e.screenToWorldRatio/2),X(t,p,h,pe,f,d,o,c)&&s()}}intersectHudGeometry(e,t,s,n,o,c){if(!n.options.selectionMode||!n.options.hud)return;if(B(t))return;const l=this.params;let u=1,b=1;if(r(re,s),i(c)){const e=c(le);u=e[0],b=e[5],Q(re)}const S=e.vertexAttributes.get(\"position\"),A=e.vertexAttributes.get(\"size\"),O=e.vertexAttributes.get(\"normal\"),P=e.vertexAttributes.get(\"auxpos1\");E(S.size>=3);const y=n.point,z=n.camera,C=H(l);u*=z.pixelRatio,b*=z.pixelRatio;const T=\"screen\"===this.params.centerOffsetUnits;for(let i=0;i<S.data.length/S.size;i++){const e=i*S.size;f($,S.data[e],S.data[e+1],S.data[e+2]),p($,$,s);const t=i*A.size;pe[0]=A.data[t]*u,pe[1]=A.data[t+1]*b,p($,$,z.viewMatrix);const r=i*P.size;if(f(oe,P.data[r+0],P.data[r+1],P.data[r+2]),!T&&($[0]+=oe[0],$[1]+=oe[1],0!==oe[2])){const e=oe[2];h(oe,$),m($,$,d(oe,oe,e))}const c=i*O.size;if(f(ee,O.data[c],O.data[c+1],O.data[c+2]),this.normalAndViewAngle(ee,re,z,ce),this.applyVerticalOffsetTransformationView($,ce,z,Y),z.applyProjection($,te),te[0]>-1){let e=Math.floor(te[0])+this.params.screenOffset[0],t=Math.floor(te[1])+this.params.screenOffset[1];T&&(e+=oe[0],0!==oe[1]&&(t+=j(oe[1],Y.factorAlignment))),D(pe,Y.factor,pe);const i=ue*z.pixelRatio;let s;if(l.textureIsSignedDistanceField&&(s=l.outlineSize*z.pixelRatio/2),X(y,e,t,pe,i,s,l,C)){const e=n.ray;if(p(se,$,a(ae,z.viewMatrix)),te[0]=y[0],te[1]=y[1],z.unprojectFromRenderScreen(te,$)){const t=q();g(t,e.direction);const i=1/v(t);d(t,t,i);o(x(e.origin,$)*i,t,-1,1,!0,se)}}}}}computeAttachmentOrigin(e,t){const i=e.vertexAttributes;if(!i)return!1;const s=i.get(\"position\"),r=e.indices.get(\"position\");return C(s,r,t)}createBufferWriter(){return new ge(this)}normalAndViewAngle(e,t,i,s){return P(t)&&(t=r(ne,t)),b(s.normal,e,t),p(s.normal,s.normal,i.viewInverseTransposeMatrix),s.cosAngle=S(ie,he),s}updateScaleInfo(e,t,i){const s=this.params;s.screenSizePerspective?M(i,t,s.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minPixelSize=0,e.factor.paddingPixels=0),s.screenSizePerspectiveAlignment?M(i,t,s.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minPixelSize=e.factor.minPixelSize,e.factorAlignment.paddingPixels=e.factor.paddingPixels)}applyShaderOffsetsView(e,t,i,s,r,n,a){const o=this.normalAndViewAngle(t,i,r,ce);return this.applyVerticalGroundOffsetView(e,o,r,a),this.applyVerticalOffsetTransformationView(a,o,r,n),this.applyPolygonOffsetView(a,o,s[3],r,a),this.applyCenterOffsetView(a,s,a),a}applyShaderOffsetsNDC(e,t,s,r,n){return this.applyCenterOffsetNDC(e,t,s,r),i(n)&&g(n,r),this.applyPolygonOffsetNDC(r,t,s,r),r}applyPolygonOffsetView(i,s,r,n,a){const o=n.aboveGround?1:-1;let c=t(r);0===c&&(c=o);const l=o*c;if(this.params.shaderPolygonOffset<=0)return g(a,i);const u=e(Math.abs(s.cosAngle),.01,1),f=1-Math.sqrt(1-u*u)/u/n.viewport[2];return d(a,i,l>0?f:1/f),a}applyVerticalGroundOffsetView(e,t,i,s){const r=v(e),n=i.aboveGround?1:-1,a=.5*i.computeRenderPixelSizeAtDist(r),o=d($,t.normal,n*a);return A(s,e,o),s}applyVerticalOffsetTransformationView(e,t,i,s){const r=this.params;if(!r.verticalOffset||!r.verticalOffset.screenLength){if(r.screenSizePerspective||r.screenSizePerspectiveAlignment){const i=v(e);this.updateScaleInfo(s,i,t.cosAngle)}else s.factor.scale=1,s.factorAlignment.scale=1;return e}const n=v(e),a=r.screenSizePerspectiveAlignment||r.screenSizePerspective,o=U(i,n,r.verticalOffset,t.cosAngle,a);return this.updateScaleInfo(s,n,t.cosAngle),d(t.normal,t.normal,o),A(e,e,t.normal)}applyCenterOffsetView(e,t,i){const s=\"screen\"!==this.params.centerOffsetUnits;return i!==e&&g(i,e),s&&(i[0]+=t[0],i[1]+=t[1],t[2]&&(h(ee,i),A(i,i,d(ee,ee,t[2])))),i}applyCenterOffsetNDC(e,t,i,s){const r=\"screen\"!==this.params.centerOffsetUnits;return s!==e&&g(s,e),r||(s[0]+=t[0]/i.fullWidth*2,s[1]+=t[1]/i.fullHeight*2),s}applyPolygonOffsetNDC(e,i,s,r){const n=this.params.shaderPolygonOffset;if(e!==r&&g(r,e),n){const e=s.aboveGround?1:-1,a=e*t(i[3]);r[2]-=(a||e)*n}return r}getGLMaterial(e){return 0===e.output||7===e.output?new N(e):4===e.output?new J(e):void 0}calculateRelativeScreenBounds(e,t,i=y()){return K(this.params,e,t,i),i[2]=i[0]+e[0],i[3]=i[1]+e[1],i}}class L extends T{constructor(e){super({...e,...e.material.params}),this.updateParameters()}beginSlot(e){return e===(this._material.params.drawInSecondSlot?19:18)}updateParameters(e){this.updateTexture(this._material.params.textureId),this.selectProgram(e)}selectProgram(e){this._technique=this._techniqueRep.releaseAndAcquire(F,this._material.getTechniqueConfig(this._output,e),this._technique)}ensureParameters(e){this.updateParameters(e)}bind(e){this.bindTextures(this._technique.program),this.bindTextureScale(this._technique.program),this._technique.bindPass(this._material.params,e)}}class N extends L{constructor(e){super(e),this._isOcclusionSlot=!1}beginSlot(e){const t=this._material.params.drawInSecondSlot?19:18;return this._material.params.occlusionTest?(this._isOcclusionSlot=12===e,12===e||e===t):(this._isOcclusionSlot=!1,e===t)}get technique(){return this._isOcclusionSlot?this._occlusionTechnique:this._technique}selectProgram(e){this._technique=this._techniqueRep.releaseAndAcquire(F,this._material.getTechniqueConfig(this._output,e),this._technique),this._occlusionTechnique=this._techniqueRep.releaseAndAcquire(F,this._material.getTechniqueConfig(6,e),this._occlusionTechnique)}bind(e){const t=this.technique;this._isOcclusionSlot||(this.bindTextures(t.program),this.bindTextureScale(t.program)),t.bindPass(this._material.params,e)}}class J extends L{constructor(e){super({...e,output:4})}}function K(e,t,i,s=Z){return c(s,e.anchorPos),s[0]*=-t[0],s[1]*=-t[1],s[0]+=e.screenOffset[0]*i,s[1]+=e.screenOffset[1]*i,s}function Q(e){const t=e[0],i=e[1],s=e[2],r=e[3],n=e[4],a=e[5],o=e[6],c=e[7],l=e[8],u=1/Math.sqrt(t*t+i*i+s*s),f=1/Math.sqrt(r*r+n*n+a*a),p=1/Math.sqrt(o*o+c*c+l*l);return e[0]=t*u,e[1]=i*u,e[2]=s*u,e[3]=r*f,e[4]=n*f,e[5]=a*f,e[6]=o*p,e[7]=c*p,e[8]=l*p,e}function X(e,t,i,s,r,n,a,o){let c=t-r-(o[0]>0?s[0]*o[0]:0),l=c+s[0]+2*r,u=i-r-(o[1]>0?s[1]*o[1]:0),f=u+s[1]+2*r;if(a.textureIsSignedDistanceField){const e=a.distanceFieldBoundingBox;c+=s[0]*e[0],u+=s[1]*e[1],l-=s[0]*(1-e[2]),f-=s[1]*(1-e[3]),c-=n,l+=n,u-=n,f+=n}return e[0]>c&&e[0]<l&&e[1]>u&&e[1]<f}const Y={factor:{scale:0,factor:0,minPixelSize:0,paddingPixels:0},factorAlignment:{scale:0,factor:0,minPixelSize:0,paddingPixels:0}},Z=l(),$=q(),ee=q(),te=s(),ie=q(),se=q(),re=n(),ne=n(),ae=o(),oe=q(),ce={normal:ie,cosAngle:0},le=o(),ue=1,fe=2,pe=[0,0],he=O(0,0,1),me={texCoordScale:[1,1],occlusionTest:!0,binaryHighlightOcclusion:!0,drawInSecondSlot:!1,color:[1,1,1,1],outlineColor:[1,1,1,1],outlineSize:0,textureIsSignedDistanceField:!1,distanceFieldBoundingBox:null,vvSizeEnabled:!1,vvSizeMinSize:[1,1,1],vvSizeMaxSize:[100,100,100],vvSizeOffset:[0,0,0],vvSizeFactor:[1,1,1],vvColorEnabled:!1,vvColorValues:[0,0,0,0,0,0,0,0],vvColorColors:[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],screenOffset:[0,0],verticalOffset:null,screenSizePerspective:null,screenSizePerspectiveAlignment:null,slicePlaneEnabled:!1,anchorPos:u(.5,.5),shaderPolygonOffset:1e-5,polygonOffset:!1,textureId:null,centerOffsetUnits:\"world\",depthEnabled:!0,pixelSnappingEnabled:!0,debugDrawBorder:!1,isDraped:!1,...w},de=z().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").vec4u8(\"color\").vec2f(\"size\").vec4f(\"auxpos1\").vec4f(\"auxpos2\");class ge{constructor(e){this.material=e,this.vertexBufferLayout=de}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 6*e.indices.get(\"position\").length}write(e,t,i,s){V(t.indices.get(\"position\"),t.vertexAttributes.get(\"position\").data,e.transformation,i.position,s,6),G(t.indices.get(\"normal\"),t.vertexAttributes.get(\"normal\").data,e.invTranspTransformation,i.normal,s,6);{const e=t.vertexAttributes.get(\"uv0\").data;let r,n,a,o;if(null==e||e.length<4){const e=this.material.params;r=0,n=0,a=e.texCoordScale[0],o=e.texCoordScale[1]}else r=e[0],n=e[1],a=e[2],o=e[3];a=Math.min(1.99999,a+1),o=Math.min(1.99999,o+1);const c=t.indices.get(\"position\").length,l=i.uv0;let u=s;for(let t=0;t<c;++t)l.set(u,0,r),l.set(u,1,n),u+=1,l.set(u,0,a),l.set(u,1,n),u+=1,l.set(u,0,a),l.set(u,1,o),u+=1,l.set(u,0,a),l.set(u,1,o),u+=1,l.set(u,0,r),l.set(u,1,o),u+=1,l.set(u,0,r),l.set(u,1,n),u+=1}I(t.indices.get(\"color\"),t.vertexAttributes.get(\"color\").data,4,i.color,s,6);{const e=t.indices.get(\"size\"),r=t.vertexAttributes.get(\"size\").data,n=e.length,a=i.size;let o=s;for(let t=0;t<n;++t){const i=r[2*e[t]],s=r[2*e[t]+1];for(let e=0;e<6;++e)a.set(o,0,i),a.set(o,1,s),o+=1}}t.indices.get(\"auxpos1\")&&t.vertexAttributes.get(\"auxpos1\")&&R(t.indices.get(\"auxpos1\"),t.vertexAttributes.get(\"auxpos1\").data,i.auxpos1,s,6),t.indices.get(\"auxpos2\")&&t.vertexAttributes.get(\"auxpos2\")&&R(t.indices.get(\"auxpos2\"),t.vertexAttributes.get(\"auxpos2\").data,i.auxpos2,s,6)}}export{W as HUDMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as e,nextHighestPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as i}from\"../../../../core/maybe.js\";import{s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{g as n,c as a}from\"../../../../chunks/vec4.js\";import{f as l}from\"../../../../chunks/vec4f64.js\";import{projectVectorToVector as u}from\"../../../../geometry/projection.js\";import{expandWithBuffer as c}from\"../../../../geometry/support/aaBoundingBox.js\";import{sv3d as h}from\"../../../../geometry/support/vectorStacks.js\";import{VisualElementResources as m}from\"./VisualElementResources.js\";import{evaluateElevationAlignmentAtPoint as p}from\"../../layers/graphics/elevationAlignmentUtils.js\";import{ElevationContext as g}from\"../../layers/graphics/ElevationContext.js\";import{createType as d}from\"../../layers/graphics/sdfPrimitives.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{Texture as y}from\"../../webgl-engine/lib/Texture.js\";import{HUDMaterial as v}from\"../../webgl-engine/materials/HUDMaterial.js\";class _{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=l(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive=\"square\",this._outlineSize=1,this._outlineColor=l(1,1,1,1),this._elevationInfo=null,this.resources=new m({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometry=this.recreateGeometry(t,e.material),r(e.geometry)?[e.geometry]:[])});let t=!0;for(const r in e)r in this?\"attached\"===r?t=e[r]:this[r]=e[r]:console.error(\"Cannot set unknown property\",r);this.attached=t}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this.preferredTextureSize;this._size=e,t<this.preferredTextureSize?r(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}get color(){return this._color}set color(e){n(e,this._color)||(a(this._color,e),this.updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,r(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){n(e,this._outlineColor)||(a(this._outlineColor,e),this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}updateMaterial(){const e=this.resources.resources;i(e)||e.material.setParameterValues(this.materialParameters(e.texture.id))}updateSizeAttribute(){const e=this.resources.resources,t=this.resources.object;if(i(e)||i(t))return;const r=e.geometry;if(i(r))return;const s=r.getMutableAttribute(\"size\").data,o=this.geometrySize;s[0]=o,s[1]=o,t.geometryVertexAttrsUpdated(0)}materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/S}recreateGeometry(e,t){const i=this.createRenderGeometry();return r(i)&&e.addGeometry(i,t),i}createResources(e){const t=this.createTexture(),i=new v(this.materialParameters(t.id)),s=this.recreateGeometry(e,i);return{material:i,texture:t,geometry:s,forEach(e){e(t),e(i),r(this.geometry)&&e(this.geometry)}}}get preferredTextureSize(){return e(t(2*this.geometrySize),16,128)}createTexture(){const e=this.preferredTextureSize;return new y(d(this._primitive,e,e*S),{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}calculateMapBounds(e){if(i(this.resources.resources)||i(this.resources.resources.geometry))return!1;const t=this.resources.resources.geometry.vertexAttributes.get(\"position\");return u(t.data,this.view.renderCoordsHelper.spatialReference,z,this.view.spatialReference),c(e,z),!0}createRenderGeometry(){const e=this.geometry;if(i(e))return null;const{renderCoordsHelper:t,elevationProvider:r}=this.view,o=p(e,r,g.fromElevationInfo(this.elevationInfo),t),n=s(h.get(),e.x,e.y,o),a=h.get();u(n,e.spatialReference,a,t.spatialReference);const l=this.geometrySize;return f.createPointGeometry(null,a,null,[l,l],[0,0,0,1])}}const S=.5,x=[S/2,S/2,1-S/2,1-S/2],z=o();export{_ as PointVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import\"../../../core/has.js\";import{destroyHandle as n}from\"../../../core/handleUtils.js\";import{e as t}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{ExtendedLineVisualElement as o}from\"./visualElements/ExtendedLineVisualElement.js\";import{ParallelLineVisualElement as r}from\"./visualElements/ParallelLineVisualElement.js\";import{PointVisualElement as a}from\"./visualElements/PointVisualElement.js\";import{RightAngleQuadVisualElement as l}from\"./visualElements/RightAngleQuadVisualElement.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{anyMapPointToRender as c,anyMapPointsToRenderWithEqualZ as d}from\"../../interactive/snapping/snappingUtils.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";class m extends p{visualizeIntersectionPoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return n(new a({view:l,primitive:\"circle\",geometry:o.createPoint(t.intersectionPoint),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(s.orange),pixelSnappingEnabled:!1}))}visualizePoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return n(new a({view:l,primitive:\"circle\",geometry:o.createPoint(t.point),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:e.toUnitRGBA(s.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,t){const{coordinateHelper:i,elevationInfo:o,view:r}=t;return n(this.createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,i,o,r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,o){const{coordinateHelper:a,elevationInfo:l,view:d}=o,p=c(i.lineStart,a,l,o.view),m=c(i.lineEnd,a,l,o.view),u=t(m,p,m,.5),v=new r({view:d,attached:!1,offset:s.parallelLineHintOffset,length:s.parallelLineHintLength,width:s.parallelLineHintWidth,color:e.toUnitRGBA(s.orange),location:u,renderOccluded:16});return v.setDirectionFromPoints(p,u),v.attached=!0,n(v)}visualizeRightAngleQuad(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return n(new l({view:a,attached:!0,color:e.toUnitRGBA(s.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:e.toUnitRGBA(s.orange),outlineSize:s.rightAngleHintOutlineSize,size:s.rightAngleHintSize,geometry:{previous:c(t.previousVertex,o,r,a),center:c(t.centerVertex,o,r,a),next:c(t.nextVertex,o,r,a)}}))}createLineSegmentHintFromMap(e,n,t,o,r,a,l=!0,s=!0){const c=i(),p=i();return d(n,t,o,r,a,c,p),this.createLineSegmentHint(e,a,c,p,l,s)}createLineSegmentHint(n,t,i,r,a=!0,l=!0){const c=new o({view:t,extensionType:3,start:i,end:r,color:e.toUnitRGBA(s.orange),renderOccluded:16});switch(n){case 0:c.width=s.lineHintWidthTarget,c.fadedExtensions={start:0,end:s.lineHintFadedExtensions};break;case 2:c.width=s.lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case 1:c.width=s.lineHintWidthReference,c.fadedExtensions={start:a?s.lineHintFadedExtensions:0,end:l?s.lineHintFadedExtensions:0}}return c.attached=!0,c}}export{m as SnappingVisualizer3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Evented.js\";class e{constructor({grabbableForEvent:e}){this.events=new t,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.grabbableForEvent=e}intersectionDistance(t,e){return 0}attach(){}detach(){}}export{e as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst c=[\"freehand\",\"hybrid\",\"click\"],e=\"click\";export{e as defaultDrawingMode,c as drawingModes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Evented.js\";import{HandleOwner as i}from\"../../../../../core/HandleOwner.js\";import r from\"../../../../../core/Handles.js\";import{clone as n}from\"../../../../../core/lang.js\";import{isSome as s,abortMaybe as o,isNone as a}from\"../../../../../core/maybe.js\";import{createTask as p}from\"../../../../../core/promiseUtils.js\";import{createScreenPoint as h}from\"../../../../../core/screenUtils.js\";import{property as c}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as d}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{pointEquals as l}from\"../../../../../layers/graphics/dehydratedFeatureComparison.js\";import{SnappingPipeline as m}from\"../../SnappingDragPipelineStep.js\";import{SnappingVisualizer3D as g}from\"../../SnappingVisualizer3D.js\";import{DrawManipulator as u}from\"./DrawManipulator.js\";import{defaultDrawingMode as y}from\"../../../../draw/DrawingMode.js\";import{createCoordinateHelper as v}from\"../../../../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as _}from\"../../../../interactive/dragEventPipeline.js\";import{EditGeometryHelper as x}from\"../../../../interactive/editGeometry/EditGeometryHelper.js\";import{SnappingContext as f}from\"../../../../interactive/snapping/SnappingContext.js\";import{TaskPriority as T,ImmediateTask as S}from\"../../../../support/Scheduler.js\";import{EditGeometry as V,Component as w}from\"../../../../interactive/editGeometry/EditGeometry.js\";import M from\"../../../../../geometry/Point.js\";let D=class extends(t.EventedMixin(i)){constructor(e){super(e),this._manipulator=null,this._stagedVertex=null,this.elevationInfo=null,this.snapToSceneEnabled=null,this._handles=new r,this._snappingPipeline=new m,this._createOperationCompleted=!1,this._pointerDownStates=new Set,this._snappingTask=null}set drawingMode(e){this._set(\"drawingMode\",null!=e?e:y)}get updating(){return this.updatingHandles.updating}get isCompleted(){return this._createOperationCompleted}get _snappingEnabled(){return s(this.snappingManager)&&this.snappingManager.options.effectiveEnabled}initialize(){var e,t;this.coordinateHelper=v(this.hasZ,this.hasM,this.view.spatialReference,this.view.viewingMode);const i=null==(e=this.view)||null==(t=e.resourceController)?void 0:t.scheduler;this._frameTask=i?i.registerTask(T.SNAPPING):S,this._editGeometry=new x(new V(this.coordinateHelper),\"segment\"===this.geometryType?\"polyline\":this.geometryType),this._activeComponent=new w(this._editGeometry.editGeometry),this._editGeometry.editGeometry.components.push(this._activeComponent),this._editGeometry.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.toArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case\"vertex-add\":this.emit(e.type,{...e,added:i,vertices:t});break;case\"vertex-update\":this.emit(e.type,{...e,updated:i,vertices:t});break;case\"vertex-remove\":this.emit(e.type,{...e,removed:i,vertices:t})}})),this._manipulator=new u({grabbableForEvent:e=>\"click\"!==this.drawingMode||\"touch\"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size}),this.manipulators.add(this._manipulator),this._manipulator.grabbable=\"point\"!==this.geometryType;const r=this.createManipulatorDragPipeline(this._manipulator),n=this._manipulator.events.on(\"immediate-double-click\",(e=>{this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),e.stopPropagation())})),a=this._manipulator.events.on(\"immediate-click\",(e=>{if(this._manipulator.dragging)return;const t=this._activeComponent,i=this._closeOnClickVertexIndex(e.screenPoint);if(s(i))this.discardStagedVertex(),this.complete();else{const i=this._screenToMap(e.screenPoint);if(s(i))switch(this.drawingMode){case\"freehand\":\"point\"===this.geometryType&&(this.hasStagedVertex?this.commitStagedVertex():this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(i)),this.complete());break;case\"click\":case\"hybrid\":this._snappingTask=o(this._snappingTask),this.hasStagedVertex?this.commitStagedVertex():this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(i)),(\"point\"===this.geometryType||\"segment\"===this.geometryType&&2===t.vertices.length||\"segment\"===this.geometryType&&\"hybrid\"===this.drawingMode&&1===t.vertices.length)&&this.complete()}}e.stopPropagation()}));this._handles.add([r,a,n])}createManipulatorDragPipeline(e){switch(this.drawingMode){case\"click\":return this.createManipulatorDragPipelineClick(e);case\"freehand\":return this.createManipulatorDragPipelineFreehand(e);case\"hybrid\":return this.createManipulatorDragPipelineHybrid(e)}}createManipulatorDragPipelineClick(e){return _(e,((e,t,i,r)=>{const n=\"touch\"===r&&this._snappingEnabled;!this.isCompleted&&n&&(t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,(\"segment\"===this.geometryType||n&&0===this.numVertices)&&this.commitStagedVertex()),e))).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>n,cancel:i,snappingManager:this.snappingManager,snappingContext:new f({geometry:this._editGeometry,elevationInfo:this.elevationInfo,pointer:r,visualizer:new g}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next((e=>(n&&(this.stagedVertex=e.mapEnd,\"end\"===e.action&&this.commitStagedVertex()),e))).next((e=>(\"end\"===e.action&&(\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),e))),i.next((()=>{n&&s(this.snappingManager)&&this.snappingManager.doneSnapping()})))}))}createManipulatorDragPipelineFreehand(e){return _(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,\"segment\"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return e}))}))}createManipulatorDragPipelineHybrid(e){return _(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>(\"start\"===e.action&&(this.stagedVertex=e.mapStart,this.commitStagedVertex()),e))).next((e=>{switch(e.action){case\"start\":case\"update\":this.stagedVertex=e.mapEnd,\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return e}))}))}destroy(){this._handles.destroy(),this._handles=null,this._editGeometry.destroy(),this._frameTask.remove()}onInputEvent(e){switch(e.type){case\"pointer-down\":this._pointerDownStates.add(e.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case\"pointer-move\":return this._onPointerMove(e);case\"hold\":return this._onHold(e)}}get canRedo(){return this._editGeometry.canRedo}redo(){this._editGeometry.redo()}get canUndo(){return this._editGeometry.canUndo}undo(){s(this.snappingManager)&&this.snappingManager.doneSnapping(),this._editGeometry.undo()}complete(e=!1){o(this._snappingTask),s(this.snappingManager)&&this.snappingManager.doneSnapping(),\"polyline\"===this.geometryType||\"polygon\"===this.geometryType?this.discardStagedVertex():this.commitStagedVertex();const t=\"polyline\"===this.geometryType&&this.numVertices<2||\"polygon\"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!t,(this.isCompleted||e)&&this.emit(\"complete\",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:e,type:\"complete\"})}cancel(){this.complete(!0)}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get numVertices(){return s(this._stagedVertex)?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get numCommittedVertices(){return this._activeComponent.vertices.length}get vertices(){const e=this.committedVertices;return s(this._stagedVertex)&&e.push(this.coordinateHelper.pointToArray(this._stagedVertex)),e}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.toArray(e.pos)))}get spatialReference(){return this.view.spatialReference}get hasStagedVertex(){return s(this._stagedVertex)}get stagedVertex(){return this._stagedVertex}set stagedVertex(e){if(a(e))this.discardStagedVertex();else{if(a(this._stagedVertex))this._stagedVertex=n(e);else{if(l(this._stagedVertex,e))return;this._stagedVertex.x=e.x,this._stagedVertex.y=e.y,this._stagedVertex.z=e.z,this._stagedVertex.m=e.m,this._stagedVertex.hasZ=e.hasZ,this._stagedVertex.hasM=e.hasM,this._stagedVertex.spatialReference=e.spatialReference}this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:\"apply\",type:\"vertex-update\"})}}commitStagedVertex(){if(this._snappingTask=o(this._snappingTask),s(this._stagedVertex)){const e=this._stagedVertex;this._stagedVertex=null,this._editGeometry.appendVertex(this.coordinateHelper.fromPoint(e))}}discardStagedVertex(){this._stagedVertex=null}_onPointerMove(e){if(o(this._snappingTask),this._manipulator.dragging||this._pointerDownStates.has(e.pointerId)||this._manipulator.grabbing||!this._manipulator.interactive)return;const t=h(e.x,e.y),i=this._closeOnClickVertexIndex(t);if(s(i)){this.discardStagedVertex();const e={componentIndex:0,vertexIndex:i,coordinates:this.coordinateHelper.toArray(this._activeComponent.vertices[i].pos)};this.emit(\"cursor-update\",{updated:null,vertices:[e],operation:\"apply\",type:\"vertex-update\"})}else{const i=this._screenToMap(t);if(this._manipulator.cursor=s(i)?\"crosshair\":null,s(i))if(s(this.snappingManager)){const t=this.snappingManager,r=new f({geometry:this._editGeometry,elevationInfo:this.elevationInfo,pointer:e.pointerType,visualizer:new g});this.stagedVertex=t.update(i,r),this._snappingTask=p((async e=>{const n=await this._frameTask.schedule((()=>t.snap(i,r,e)),e);n.valid&&await this._frameTask.schedule((()=>{this.stagedVertex=n.apply()}),e)})),this.updatingHandles.addPromise(this._snappingTask.promise)}else this.stagedVertex=i}e.stopPropagation()}_onHold(e){o(this._snappingTask),\"click\"===this.drawingMode&&\"touch\"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_screenToMapDragEventStep(){let e=null;return t=>{if(\"start\"===t.action&&(e=this._screenToMap(t.screenStart)),a(e))return null;const i=this._screenToMap(t.screenEnd);return s(i)?{...t,mapStart:e,mapEnd:i}:null}}_screenToMap(e){return this._getDrawSurface().screenToMap(e)}_mapToScreen(e){return this._getDrawSurface().mapToScreen(e)}_getDrawSurface(){if(!this.coordinateHelper.hasZ)return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;s(this.elevationInfo)&&\"absolute-height\"===this.elevationInfo.mode&&(t=!0),s(this.snapToSceneEnabled)&&(t=this.snapToSceneEnabled),s(this.elevationInfo)&&\"on-the-ground\"===this.elevationInfo.mode&&(t=!1);const i=this._activeComponent.vertices.length;return(\"segment\"===this.geometryType||\"polygon\"===this.geometryType)&&i>0&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.sceneDrawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_vertexWithinPointerDistance(e,t){const i=25,r=this._mapToScreen(e);return!!s(r)&&P(r,t,i)}_closeOnClickVertexIndex(e){const t=this._activeComponent;if(\"polygon\"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[0].pos,b),e))return 0;if(this._vertexWithinPointerDistance(this.coordinateHelper.toPoint(t.vertices[t.vertices.length-1].pos,b),e))return t.vertices.length-1}return null}};function P(e,t,i){const r=e.x-t.x,n=e.y-t.y;return r*r+n*n<=i}e([c({constructOnly:!0})],D.prototype,\"view\",void 0),e([c({value:y})],D.prototype,\"drawingMode\",null),e([c({constructOnly:!0})],D.prototype,\"geometryType\",void 0),e([c({constructOnly:!0})],D.prototype,\"elevationInfo\",void 0),e([c()],D.prototype,\"snapToSceneEnabled\",void 0),e([c({constructOnly:!0})],D.prototype,\"manipulators\",void 0),e([c({constructOnly:!0})],D.prototype,\"hasZ\",void 0),e([c({constructOnly:!0})],D.prototype,\"hasM\",void 0),e([c()],D.prototype,\"defaultZ\",void 0),e([c({constructOnly:!0})],D.prototype,\"sceneDrawSurface\",void 0),e([c({constructOnly:!0})],D.prototype,\"elevationDrawSurface\",void 0),e([c({constructOnly:!0})],D.prototype,\"snappingManager\",void 0),e([c({readOnly:!0})],D.prototype,\"updating\",null),D=e([d(\"esri.views.3d.interactive.editingTools.draw3D.DrawOperation\")],D);const b=new M({x:0,y:0,z:0});export{D as DrawOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../../core/maybe.js\";import{createScreenPointArray as t}from\"../../../../../core/screenUtils.js\";import{makeDehydratedPoint as i}from\"../../../../../layers/graphics/dehydratedFeatures.js\";import{getConvertedElevation as s,getZForElevationMode as r}from\"../../../../../support/elevationInfoUtils.js\";class o{constructor(e,t,i,s=null){this.elevationInfo=e,this.defaultZ=t,this.view=i,this.excludeGraphics=s}screenToMap(i){if(e(this.defaultZ))return this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,this.defaultZ,this.excludeGraphics);const s=this.view.sceneIntersectionHelper.intersectElevationFromScreen(t(i.x,i.y),this.elevationInfo,0,this.excludeGraphics);return e(s)&&(s.z=void 0),s}mapToScreen(e){const t=i(e.x,e.y,s(this.view,e,this.elevationInfo),e.spatialReference);return this.view.toScreen(t)}}class n{constructor(e,t,i=[]){this.view=e,this.elevationInfo=t,this.exclude=i}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude});return e(i)&&(i.z=r(i,this.view,this.elevationInfo)),i}mapToScreen(t){let r=t;return e(this.elevationInfo)&&(r=i(t.x,t.y,s(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(r)}}export{o as ElevationDrawSurface,n as SceneDrawSurface};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import{unwrapOr as o}from\"../../../../../core/maybe.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{DrawOperation as n}from\"./DrawOperation.js\";import{SceneDrawSurface as a,ElevationDrawSurface as s}from\"./drawSurfaces.js\";import{InteractiveToolBase as p}from\"../../../../interactive/InteractiveToolBase.js\";let d=class extends(t.EventedMixin(p)){constructor(e){super(e),this.drawOperation=null,this.hasZ=!0,this.defaultZ=0,this.elevationInfo=null,this.snapToScene=null,this.mode=null,this.geometryType=null,this.type=\"draw-3d\"}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}initialize(){const e=o(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0});this.drawOperation=new n({view:this.view,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,sceneDrawSurface:new a(this.view,e),elevationDrawSurface:new s(e,this.defaultZ,this.view),hasM:!1,elevationInfo:e}),this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e))),this.complete()}destroy(){this.drawOperation.destroy(),this.drawOperation=null,this._set(\"view\",null)}onInputEvent(e){this.drawOperation.onInputEvent(e)}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}reset(){}get canRedo(){return this.drawOperation.canRedo}redo(){this.drawOperation.redo()}get canUndo(){return this.drawOperation.canUndo}undo(){this.drawOperation.undo()}completeCreateOperation(){this.drawOperation.complete()}activate(){}deactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onVertexAdd(e){this.emit(\"vertex-add\",e)}onVertexRemove(e){this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this.emit(\"vertex-update\",e)}onCursorUpdate(e){this.emit(\"cursor-update\",e)}onComplete(e){this.emit(\"complete\",e)}};e([r()],d.prototype,\"drawOperation\",void 0),e([r({readOnly:!0})],d.prototype,\"updating\",null),e([r({constructOnly:!0,nonNullable:!0})],d.prototype,\"view\",void 0),e([r({value:!0})],d.prototype,\"enabled\",null),e([r({constructOnly:!0})],d.prototype,\"hasZ\",void 0),e([r({constructOnly:!0,nonNullable:!0})],d.prototype,\"defaultZ\",void 0),e([r({constructOnly:!0})],d.prototype,\"elevationInfo\",void 0),e([r()],d.prototype,\"snapToScene\",void 0),e([r({constructOnly:!0})],d.prototype,\"mode\",void 0),e([r({constructOnly:!0})],d.prototype,\"geometryType\",void 0),e([r({readOnly:!0})],d.prototype,\"type\",void 0),d=e([i(\"esri.views.3d.interactive.editingTools.draw.DrawTool\")],d);export{d as DrawTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import i from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{abortMaybe as o,isSome as r,isNone as n}from\"../../core/maybe.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as h}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import d from\"./DrawAction.js\";import{CursorUpdateEvent as l,DrawCompleteEvent as c}from\"./input/DrawEvents.js\";import{ViewEventPriorities as _}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as w}from\"../support/screenUtils.js\";import v from\"../../geometry/Point.js\";let u=class extends d{constructor(e){super(e),this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new i}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get coordinates(){return t(s.getLogger(\"esri.views.draw.PointDrawAction\"),\"coordinates\",{replacement:\"vertices\",version:\"4.19\"}),this.vertices[0]}complete(){\"2d\"===this.view.type?this._cursorScreenPoint&&this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=o(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=w(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),_.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=o(this._snappingTask),this._cursorScreenPoint=w(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),_.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=o(this._snappingTask),this._addVertexOnPointerUp=!1)}),_.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=o(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp)e.stopPropagation(),this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),_.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),_.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.complete&&this._cursorScreenPoint&&(this._snappingTask=o(this._snappingTask),this._vertexAddHandler(e))}),_.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new h({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"point\",mode:\"click\"}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new l(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new c(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){r(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e){const t=this._coordinateHelper.fromArray(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(t),this.notifyChange(\"vertices\"),this._completeDrawing())}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(r(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new l(this.view,e,this._activeComponent.vertices.length,this.vertices,r(this._stagedVertex)?new v(this._stagedVertex):null);this.emit(\"cursor-update\",t()),r(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){this._activePointerId=null,this._popCursorVertex(),this._snappingTask=o(this._snappingTask),r(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new c(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return g(e)&&(n(this._activePointerId)||this._activePointerId===e.pointerId)}};function g(e){return\"mouse\"!==e.pointerType||0===e.button}e([a({readOnly:!0})],u.prototype,\"coordinates\",null),u=e([p(\"esri.views.draw.PointDrawAction\")],u);export{u as PointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{abortMaybe as i,isSome as o,isNone as s}from\"../../core/maybe.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as a}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import{defaultDrawingMode as d,drawingModes as h}from\"./DrawingMode.js\";import p from\"./DrawAction.js\";import{VertexRemoveEvent as l,VertexAddEvent as _,CursorUpdateEvent as c,DrawCompleteEvent as v}from\"./input/DrawEvents.js\";import{ViewEventPriorities as u}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as w}from\"../support/screenUtils.js\";import g from\"../../geometry/Point.js\";let T=class extends p{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t,this.mode=d}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),u.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=w(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),u.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=i(this._snappingTask),this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=w(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),u.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=w(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),u.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),u.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&o(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),u.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),u.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),u.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),u.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:o}=e;t===m.vertexAdd&&!o&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==m.complete||o?t!==m.undo||this.interactiveUndoDisabled||o?t!==m.redo||this.interactiveUndoDisabled||o?t!==m.pan||o||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),u.TOOL),this.view.on(\"key-up\",(e=>{e.key===m.pan&&(e.stopPropagation(),this._panEnabled=!1)}),u.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometry.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new l(this.view,t,e.vertices[0].index,i))}})),this._editGeometry.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new _(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new _(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(e){this._drawTool=new a({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polygon\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new _(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new v(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){o(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(o(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new c(this.view,e,this._activeComponent.vertices.length,this.vertices,o(this._stagedVertex)?new g(this._stagedVertex):null);this.emit(\"cursor-update\",t()),o(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<3)return;this._snappingTask=i(this._snappingTask),o(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new v(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return y(e)&&(s(this._activePointerId)||this._activePointerId===e.pointerId)}};function y(e){return\"mouse\"!==e.pointerType||0===e.button}e([r()],T.prototype,\"_dragEnabled\",null),e([r()],T.prototype,\"_clickEnabled\",null),e([r({type:h})],T.prototype,\"mode\",void 0),T=e([n(\"esri.views.draw.PolygonDrawAction\")],T);export{T as PolygonDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{abortMaybe as i,isSome as o,destroyMaybe as s,isNone as r}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as d}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import{defaultDrawingMode as h,drawingModes as p}from\"./DrawingMode.js\";import l from\"./DrawAction.js\";import{VertexRemoveEvent as _,VertexAddEvent as c,CursorUpdateEvent as v,DrawCompleteEvent as u}from\"./input/DrawEvents.js\";import{ViewEventPriorities as m}from\"../input/InputManager.js\";import{SKETCH_KEYS as w}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as g}from\"../support/screenUtils.js\";import T from\"../../geometry/Point.js\";let y=class extends l{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t,this.mode=h}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&!this._panEnabled&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=g(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),m.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),m.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&o(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),m.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:o}=e;t===w.vertexAdd&&!o&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==w.complete||o?t!==w.undo||this.interactiveUndoDisabled||o?t!==w.redo||this.interactiveUndoDisabled||o?t!==w.pan||o||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),m.TOOL),this.view.on(\"key-up\",(e=>{e.key===w.pan&&(e.stopPropagation(),this._panEnabled=!1)}),m.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometry.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new _(this.view,t,e.vertices[0].index,i))}})),this._editGeometry.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new c(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new c(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(e){this._drawTool=new d({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polyline\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new v(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new u(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){o(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool=s(this._drawTool))}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(o(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new v(this.view,e,this._activeComponent.vertices.length,this.vertices,o(this._stagedVertex)?new T(this._stagedVertex):null);this.emit(\"cursor-update\",t()),o(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<2)return;this._snappingTask=i(this._snappingTask),o(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new u(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return x(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function x(e){return\"mouse\"!==e.pointerType||0===e.button}e([n()],y.prototype,\"_clickEnabled\",null),e([n()],y.prototype,\"_dragEnabled\",null),e([n({type:p})],y.prototype,\"mode\",void 0),y=e([a(\"esri.views.draw.PolylineDrawAction\")],y);export{y as PolylineDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as t,filterNones as r}from\"../../../core/maybe.js\";import{a as e}from\"../../../chunks/mat2d.js\";import{c as s,a}from\"../../../chunks/mat2df64.js\";import{r as o,i as n}from\"../../../chunks/quat.js\";import{a as i}from\"../../../chunks/quatf64.js\";import{a as l,d as h,f as m,n as c,c as f,q as d}from\"../../../chunks/vec3.js\";import{c as p}from\"../../../chunks/vec3f64.js\";import u from\"../../../geometry/Point.js\";function w(r,e,s=null){return t(s)?[r,e,s]:[r,e]}function g(r,e,s=null){return t(s)?{x:r,y:e,z:s}:{x:r,y:e}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return r(t.map((t=>this.mapToLocal(t))))}get doUnnormalization(){return!1}}class W extends R{constructor(t,r,o=null){super(r),this.defaultZ=o,this.transform=s(),this.transformInv=s(),this.transform=a(t),e(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this.defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=p(),this.tangentFrameUpWS=p(),this.tangentFrameRightWS=p(),this.tangentFrameForwardWS=p(),this.localFrameRightWS=p(),this.localFrameUpWS=p(),this.worldToLocalTransform=i(),this.localToWorldTransform=i(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,0,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,1,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,2,this.tangentFrameForwardWS);const s=p();l(s,this.tangentFrameForwardWS,h(e,this.tangentFrameForwardWS)),m(this.localFrameRightWS,e,s),c(this.localFrameRightWS,this.localFrameRightWS),f(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),o(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),n(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return\"global\"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r[0],y:r[1],spatialReference:this.spatialReference}),e),d(e,e,this.worldToLocalTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?g(s.x/this.scale,s.y/this.scale):null}localToMap(r){const e=p();this.view.renderCoordsHelper.toRenderCoords(new u({x:r.x*this.scale,y:r.y*this.scale,spatialReference:this.spatialReference}),e),d(e,e,this.localToWorldTransform);const s=this.view.renderCoordsHelper.fromRenderCoords(e,this.view.spatialReference);return t(s)?w(s.x,s.y,this.defaultZ):null}}function F(t,r){if(\"2d\"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if(\"3d\"===t.type){const e=r.length>2?new u({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new u({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}export{W as AffineCoordinateSystem,v as SceneViewCoordinateSystem,R as SurfaceCoordinateSystem,F as createViewAlignedCoordinateSystem,w as makeMapPoint,g as makeSurfacePoint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{isSome as i,abortMaybe as s,isNone as r}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawTool as a}from\"../3d/interactive/editingTools/draw/DrawTool.js\";import h from\"./DrawAction.js\";import{VertexAddEvent as d,CursorUpdateEvent as p,DrawCompleteEvent as _}from\"./input/DrawEvents.js\";import{createViewAlignedCoordinateSystem as l}from\"./support/surfaceCoordinateSystems.js\";import{ViewEventPriorities as c}from\"../input/InputManager.js\";import{SKETCH_KEYS as m}from\"../interactive/keybindings.js\";import{EditGeometry as g,Component as v}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryHelper as w}from\"../interactive/editGeometry/EditGeometryHelper.js\";import{createScreenPointFromEvent as u}from\"../support/screenUtils.js\";import T from\"../../geometry/Point.js\";const y=[\"freehand\",\"click\"];let P=class extends h{constructor(e){super(e),this._isDragging=!1,this._panEnabled=!1,this._viewHandles=new t,this._activePointerId=null,this._addVertexOnPointerUp=!1,this.viewAlignedCoordinateSystem=null,this.mode=\"freehand\"}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),\"click\"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())}_getDragModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{if(e.stopPropagation(),e.mapPoint&&!this._panEnabled){const t=this.getCoordsFromScreenPoint(u(e));i(t)&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._panEnabled||(this._resetGeometry(),this._addVertexOnPointerUp=!0,this._cursorScreenPoint=u(e),this._activePointerId=e.pointerId,this._vertexAddHandler(e),this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=s(this._snappingTask),r(this._activePointerId)&&\"touch\"!==e.pointerType&&(this._cursorScreenPoint=u(e),this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._isDragging=!0,this._cursorScreenPoint=u(e),this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&this._addVertexOnPointerUp&&(this._snappingTask=s(this._snappingTask),this._activePointerId=null,this._isDragging&&this._vertexAddHandler(e),2===this._committedVertices.length&&this._drawCompleteHandler(e),this._isDragging=!1)}),c.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.complete&&this._cursorScreenPoint?(this._snappingTask=s(this._snappingTask),this._vertexAddHandler(e),this._drawCompleteHandler(e)):e.key===m.pan&&(this._panEnabled=!0)}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===m.pan&&(this._panEnabled=!1)}),c.TOOL),this.view.on(\"drag\",(e=>{i(this._activePointerId)&&e.stopPropagation()}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL)]}_getClickModeViewHandles(){return[this.view.on(\"pointer-down\",(e=>{this._snappingTask=s(this._snappingTask),this._cursorScreenPoint=u(e),this._activePointerId=e.pointerId,this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=s(this._snappingTask),this._cursorScreenPoint=u(e),r(this._activePointerId)&&\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._isDragging=!0)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._activePointerId=null,e.stopPropagation(),this._isDragging||this._vertexAddHandler(e),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(e),this._isDragging=!1)}),c.TOOL),this.view.on(\"key-down\",(e=>{e.key===m.vertexAdd&&this._cursorScreenPoint&&(this._vertexAddHandler(e),2===this.vertices.length&&this._drawCompleteHandler(e)),e.key===m.complete&&this._cursorScreenPoint&&2===this.vertices.length&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}),c.TOOL)]}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new a({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"segment\",mode:this.mode}),this.view.toolViewManager.tools.push(this._drawTool),this.view.activeTool=this._drawTool,this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new d(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new _(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){i(this._drawTool)&&(this.view.tools.remove(this._drawTool),this._drawTool.destroy(),this._drawTool=null)}_addVertex(e,t){const i=this._coordinateHelper.fromArray(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometry.appendVertex(i),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=l(this.view,this._committedVertices[0]));const s=this._committedVertices.length-1,r=new d(this.view,t,s,this.vertices);this.emit(\"vertex-add\",r)}_updateCursor(e){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(i(t)){this._pushCursorVertex(t.vertex);const s=()=>new p(this.view,e,this._activeComponent.vertices.length,this.vertices,i(this._stagedVertex)?new T(this._stagedVertex):null);this.emit(\"cursor-update\",s()),i(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",s())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._snappingTask=s(this._snappingTask),i(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new _(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_resetGeometry(){this._editGeometry.destroy(),this._editGeometry=new w(new g(this._coordinateHelper),\"polygon\"),this._activeComponent=new v(this._editGeometry.editGeometry),this._editGeometry.editGeometry.components.push(this._activeComponent)}_shouldHandlePointerEvent(e){return k(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function k(e){return\"mouse\"!==e.pointerType||0===e.button}e([o({type:y})],P.prototype,\"mode\",void 0),P=e([n(\"esri/views/2d/engine/markup/SegmentDrawAction\")],P);export{P as SegmentDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{M as r}from\"../../chunks/MultipointDrawAction.js\";import{PointDrawAction as c}from\"./PointDrawAction.js\";import{PolygonDrawAction as s}from\"./PolygonDrawAction.js\";import{PolylineDrawAction as n}from\"./PolylineDrawAction.js\";import{SegmentDrawAction as a}from\"./SegmentDrawAction.js\";let p=class extends e{constructor(){super(...arguments),this.activeAction=null,this.type=\"draw\",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(t,e){this.reset();const o={view:this.view,...e};switch(t){case\"point\":o.editGeometryType=\"point\",this.activeAction=new c(o);break;case\"polyline\":o.editGeometryType=\"polyline\",this.activeAction=new n(o);break;case\"multipoint\":o.editGeometryType=\"polygon\",this.activeAction=new r(o);break;case\"polygon\":o.editGeometryType=\"polygon\",this.activeAction=new s(o);break;case\"rectangle\":case\"circle\":case\"ellipse\":case\"triangle\":o.editGeometryType=\"polygon\",this.activeAction=new a(o)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};t([o()],p.prototype,\"activeAction\",void 0),t([o({readOnly:!0})],p.prototype,\"type\",void 0),t([o()],p.prototype,\"view\",void 0),p=t([i(\"esri.views.draw.Draw\")],p);var l=p;export default l;\n"],"sourceRoot":""}