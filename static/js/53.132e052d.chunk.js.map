{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/analysis/support/measurementUtils.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/MeasurementData.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementController.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementPathHelper.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementLayerViewData.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/measurementUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/CheckerBoardTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/CheckerBoardMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementAreaVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/analysis/AreaMeasurement/AreaMeasurementView.js","../node_modules/@arcgis/core/views/3d/layers/AreaMeasurementLayerView3D.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DController.js","../node_modules/@arcgis/core/layers/AreaMeasurementLayer.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DModel.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D/AreaMeasurement3DViewModel.js","../node_modules/@arcgis/core/widgets/AreaMeasurement3D.js","../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/chunks/earcut.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/interactive/coordinateHelper.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/viewUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/chunks/boundedPlane.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/core/Quantity.js","../node_modules/@arcgis/core/views/3d/layers/analysis/support/UnitNormalizer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/analysis/support/viewUtils.js","../node_modules/@arcgis/core/core/quantityFormatUtils.js","../node_modules/@arcgis/core/chunks/CheckerBoard.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/StippleTextureRepository.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/libs/maquette/h.js","../node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js"],"names":["z","t","e","n","r","distance","j","k","o","s","i","Math","abs","q","G","g","R","S","U","setPoint","c","a","l","rings","spatialReference","p","WGS84","W","this","positionsWorldCoords","positionsRenderCoords","positionsProjectedWorldCoords","positionsFittedRenderCoords","positionsGeographic","positionsSpherical","positionsStereographic","pathSegmentLengths","geodesicPathSegmentLengths","perimeterSegmentLengths","intersectingSegments","Set","geodesicIntersectingSegments","areaCentroidWorldCoords","_","areaCentroidRenderCoords","geodesicAreaCentroidRenderCoords","_length","_centroidRenderCoords","_planeWorldCoords","u","_worldUp","_worldTangent","_frame","_pathVersion","_validMeasurement","_tempU","_tempV","_tempVec3","_tempSphere","center","radius","_sceneView","unitNormalizer","h","renderSpatialReference","version","d","numVertices","_resize","P","f","C","m","forEachVertexPosition","L","_updatePathLengths","pathLength","normalizeDistance","_updateGeodesicPathLengths","geodesicPathLength","area","geodesicArea","perimeterLength","triangleIndices","geodesicTriangleIndices","clear","_updateArea","_updateGeodesicArea","fittingMode","length","push","v","renderCoordsHelper","T","worldUpAtPosition","worldBasisAtPosition","Error","I","_selectFittingMode","forEach","getAltitude","A","F","w","_updatePerimeterLengths","_updateIntersectingSegments","size","normalizeArea","_computeArea","y","toRenderCoords","_updateGeodesicIntersectingSegments","_computeGeodesicArea","add","x","Uint32Array","map","M","reduce","max","sqrt","V","maxRelativeErrorCoplanar","maxRelativeErrorAlmostCoplanar","cos","verticalAngleThreshold","Float64Array","_handles","view","_measurementDataManager","layerViewData","path","on","_update","update","validMeasurement","getData","_set","measurementData","constructOnly","prototype","readOnly","editGeometry","vertex","pos","originalPosition","_apply","updatedVertices","operation","emit","components","unnormalizeVertexPositions","component","createdEdge","getFirstVertex","getLastVertex","isClosed","vertices","left","right","edges","splice","indexOf","_version","_internalGeometryChange","_initialize","areaMeasurement","initialized","_editGeometry","removeAll","_updateEditGeometryFromModelGeometry","_makeDirty","notifyChange","remove","geometry","fromGeometry","viewingMode","type","addedVertices","removedVertices","toPolygon","forEachVertex","coordinateHelper","createPoint","index","getVertex","iterateVertices","toPoint","fromPoint","apply","getVertexPositionAsPointFromIndex","equals","EventedAccessor","value","arguments","lastDraggedVertex","isValidPolygon","b","boundingSphere","bestFitPlane","planePointDistance","segmentLengthEuclidean","segmentLengthGeodesic","segmentLengthGeodesicVector","triangleAreaEuclidean","triangleAreaGeodesic","tangentFrame","fitHemisphere","E","compareSets","has","shader","get","configuration","build","OITEnabled","transparencyPassType","multipassTerrainEnabled","cullAboveGround","rctx","program","camera","projectionMatrix","setUniform2fv","setUniform4fv","color1","color2","nearFar","inverseViewport","blending","transparent","depthTest","func","depthWrite","writeDepth","colorWrite","polygonOffset","factor","units","setPipelineState","count","techniqueConfig","params","output","updateParameters","_technique","_techniqueRep","releaseAndAcquire","_material","getTechniqueConfig","bindPass","getPassParameters","_checkerBoardMaterial","_renderOccluded","_geometry","_size","_color1","_color2","applyProps","updateMaterial","geometryChanged","setParameterValues","renderOccluded","transform","position","uv","data","exclusive","addGeometry","recreateGeometry","_params","_path","_intersectedPath","_perimeter","_intersectedPerimeter","_projectionLines","_measurementArea","_areaLabel","_pathLengthLabel","_cursorSegmentLengthLabel","_perimeterLengthLabel","_pathSegments","_perimeterSegments","_cursorSegment","_origin","_originTransform","_cursorPositionRenderSpace","messages","viewData","areaLabel","perimeterLengthLabel","mode","geodesicMeasurementDistanceThreshold","layerView","visible","suspended","labels","cursorSegmentLength","attached","width","pathLineWidth","color","pathLineColor","intersectingLineColor","perimeterLineWidth","perimeterLineColor","projectionLineWidth","projectionLineColor","stipplePattern","projectionLineStippleSize","stippleIntegerRepeats","areaColor1","areaColor2","fontSize","unit","cursorPoint","state","_updateLabels","_updateMessageBundle","destroy","set","destroyed","_updateViewData","_updateOrigin","_updatePathSegments","_updatePerimeterSegments","_updateProjectionLines","lastPoint","_toPreferredAreaUnit","pathVersion","positionsProjected","areaCentroid","pathLengthLabelSegmentIndex","perimeterLengthLabelSegmentIndex","checkerSize","geodesicCursorSegmentLength","D","all","nonIntersecting","intersecting","_createSegments","setGeometryFromSegments","_updateAreaEuclidean","_updateAreaGeodesic","_formatAreaLabel","point","text","_formatLengthLabel","O","labelDistance","segment","sampleLocation","anchor","overlaps","toUnit","_preferredAreaUnit","_deriveLengthUnitFromAreaUnit","_preferredLengthUnit","then","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","handleRadiusHovered","handleRadiusMouse","handleRadiusTouch","fillColor","lineSubdivisions","_userUnit","_defaultUnit","layer","analysisView","analysis","analysisController","controller","vertexManipulators","_layerView","_analysisView","_state","_mode","_cursorPoint","_lastDraggedVertex","_visible","_laserLine","_cursorManipulator","_listenerHandles","_tempHandlePosition","_model","model","_unit","_manipulators","manipulators","_view","sceneView","_style","style","_intersector","options","store","_creationPromise","whenLayerView","_layerViewData","available","interactive","glowColor","glowWidth","glowFalloff","innerColor","innerWidth","globalAlpha","_updateVisibility","hide","whenMessages","active","show","testData","laserLineRenderer","heightManifoldEnabled","heightManifoldTarget","pointDistanceEnabled","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneEnabled","_setVisiblity","_initializeListeners","_updateAll","_destroyListeners","_removeVertexManipulator","manipulator","cursor","intersect","metadata","screenPoint","sceneIntersectionHelper","intersectToolIntersectorScreen","results","min","getIntersectionPoint","PickResult","fromRenderCoords","intersector","close","_updateVertexManipulators","_updateLaserLine","id","_createVertexManipulator","renderLocation","location","getVertexPositionAsPoint","_getFocusPoint","watch","_handleGeometry","createSphereGeometry","PickRequest","scenePoint","mapPoint","pointerType","button","_tempPickRequest","_setupManipulators","_handleImmediateDoubleClick","_handleImmediateClick","_handlePointerMove","_handleDrag","_handleKeyDown","action","manipulatorToVertex","next","screenToMap3D","mapEnd","setVertexPosition","item","finishMeasurement","stopPropagation","_addVertexAt","vertexHandleAt","_hoverAt","key","requiresCursorPoint","_pick","pick","clone","json","read","listMode","measurementView","when","toolState","_controller","complete","finishToolCreation","startToolCreation","detach","created","handleInputEvent","getLogger","supportedViewType","_userUnitOptions","tool","isDisabled","_filteredOrAllUnits","_findSelectableUnit","defaultUnit","createTool","removeTool","toolConstructor","constructorArguments","error","unitOptions","slice","filter","buttonDisabled","base","container","hint","hintText","panelError","measurement","measurementItem","measurementItemDisabled","measurementItemTitle","measurementItemValue","settings","unitsLabel","unitsSelect","unitsSelectWrapper","actionSection","newMeasurementButton","widgetIcon","iconClass","label","messagesUnits","viewModel","isSupported","class","unsupported","classes","notApplicable","for","onchange","_changeUnit","bind","systems","pluralCapitalized","$","disabled","onclick","_newMeasurement","newMeasurement","role","start","target","selectedIndex","aliasOf","source","overridable","_pos","unnormalize","swapVertices","undoStack","redoStack","lastOperation","accumulate","pop","undo","toArray","find","paths","hasZ","hasM","fromArray","parent","catch","name","title","declaredClass","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","suspendInfo","ready","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","Boolean","exports","prev","Z","B","steiner","prevZ","nextZ","sort","deviation","flatten","holes","dimensions","fragment","include","uniforms","code","shadowMappingEnabled","shadowMap","bindView","origin","_unnormalizationInfo","tag","valueType","X","supported","upperBoundX","lowerBoundX","valid","receiveShadows","varyings","pbrMode","useCustomDTRExponentForWater","byteLength","minReduction","originalIndices","componentOffsets","floor","ceil","buffer","indices","uniqueCount","J","_viewUp","_viewForward","_viewRight","_ray","_viewport","_padding","_fov","PI","_nearFar","_viewDirty","_viewMatrix","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","_fullViewport","pixelRatio","relativeElevation","_center","_up","_compareAndSetView","direction","eye","_ensureViewClean","height","fullWidth","fullHeight","viewMatrix","near","tan","fovY","aspect","far","Y","N","_recomputeFrustum","fovX","perRenderPixelRatio","up","viewport","padding","fov","viewRight","viewUp","viewForward","H","frustum","viewInverseTransposeMatrix","fullViewport","copyFrom","Q","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","perScreenPixelRatio","setViewport","K","projectToRenderScreen","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","computeUpGlobal","computeUpLocal","_markViewDirty","isFinite","warn","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","dirty","offset","tmpVertex","localOrigin","componentLocalOriginLength","mbs","obb","halfSize","quaternion","sphere","objectTransform","inverse","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","setUniform1f","screenSize","polygons","BYTES_PER_ELEMENT","holeIndices","faces","Array","pathLengths","outlines","addedVertex","originalEdge","updateVertexIndex","linearDepth","attributes","float","Object","freeze","__proto__","screenSizeEnabled","shadingEnabled","verticalOffset","selectionMode","hud","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","performanceInfo","queryDuration","numObjectsTested","tolerance","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","init","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","forEachDegenerateObject","objects","forAll","sortResults","geometryRecords","transformation","material","instanceParameters","setAndInvalidateLazyTransforms","getShaderTransformation","dist","drapedLayerOrder","shaderTransformation","Number","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","DEFAULT_TOLERANCE","vs","plane","basis1","basis2","ys","ms","hs","is","Ns","Ps","POSITIVE_INFINITY","Ts","Is","ws","ns","rs","ts","js","as","cs","gs","vector","Ms","Ss","As","Vs","BoundedPlaneClass","create","wrap","copy","copyWithoutVerify","fromValues","updateUnboundedPlane","elevate","setExtent","fromAABoundingRect","intersectRay","intersectRayClosestSilhouette","closestPointOnSilhouette","closestPoint","projectPoint","projectPointLocal","distance2","distanceToSilhouette","NEGATIVE_INFINITY","extrusionContainsPoint","axisAt","ds","altitudeAt","setAltitudeAt","rotate","normal","UP","ground","ray","hasIntersectionPoint","geometryId","triangleNr","obj","highStepCount","ssrEnabled","bindTexture","linearDepthTexture","setUniformMatrix4fv","lastFrameColorTexture","reprojectionMat","measure","_spatialReference","_updateNormalizationFactors","_metersPerDistanceUnit","_metersPerElevationUnit","_squareMetersPerAreaUnit","disableDisplay","requiresGroundFeedback","enableDraped","exclude","opacity","delete","intersectIntersectorScreen","surfaceType","screenStart","screenEnd","mapStart","constants","slicePlaneEnabled","supportsHeightUnitConversion","addResolvingPromise","_validateHeightModelInfo","defaultsFromMap","handles","heightModelInfo","extensions","startRenderSpace","endRenderSpace","eval","points","normals","_start","_end","_pcpf","_project","_projectIn","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","TERRAIN_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","vec3","renderTargets","extent","resolution","renderLocalOrigin","canvasGeometries","extents","numViews","validTargets","hasDrapedFeatureSource","hasDrapedRasterSource","hasTargetWithoutRasterImage","fill","getTarget","getTexture","computeRenderTargetValidityBitfield","needsColorWithoutRasterImage","drawTarget","setupGeometryViewsDirect","range","_fbo","colorTarget","depthStencilTarget","pixelFormat","dataType","wrapMode","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","gpuMemoryUsage","fbo","renderPass","lastUsed","dispose","disposeRenderTargetMemory","technique","refCount","refZeroFrame","_context","_perConstructorInstances","Map","_frameCounter","_keepAliveFrameCount","release","acquire","constructor","reload","Promise","refCnt","glMaterial","_textureRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","techniqueRep","textureRep","incRefCnt","decRefCnt","getRefCnt","materialRepository","_originSR","ROOT_ORIGIN_ID","_origins","_gridSize","_objects","getOrigin","random","round","window","_stage","toString","isPickable","castShadow","Uint16Array","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","adds","removes","updates","allocator","deallocator","renderGeometry","prune","indexCount","_array","Float32Array","subarray","_textureRepository","waterTextureRepository","sliceHighlightDisabled","sliceEnabledForVertexPrograms","useSSR","loadTextures","lighting","setUniforms","rebindTextures","enableOffset","isDraped","_output","animation","time","animationSpeed","ensureResource","_updateShadowState","_updateSSRState","setElapsedTimeUniform","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","updateGeometries","addAndRemoveGeometries","updateRenderCommands","vertexBufferLayout","stride","optimalCount","sparseCount","toAdd","toRemove","elementCount","createData","array","removeAndRebuild","removeByErasing","end","begin","append","vertexBuffers","byteSize","setData","setSubData","drawCommandsDirty","updateType","instances","highlights","occludees","write","invTranspTransformation","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","drawCommandsShadowHighlightRest","stats","default","highlight","shadowHighlightRest","layout","values","ensureResources","beginSlot","ensureParameters","getPipelineState","useProgram","bindDraw","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","createVertex","erase","glMaterials","_pending","_changes","_materialRenderers","_sortedMaterialRenderers","_hasWater","empty","rendersOccluded","stopAtTime","_processAddsRemoves","hasWater","modify","updateSortedMaterialRenderers","removed","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","pushArray","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","intensity","castShadows","_shOrder","_ambientBoost","_oldSunlight","ambient","diffuse","globalFactor","groundLightingFactor","_sphericalHarmonics","_mainLight","setUniform3fv","setLightDirectionUniform","setUniform3f","cache","texture","patternId","patternToTextureData","internalFormat","join","Uint8Array","_overlays","_overlayRenderTarget","_rendersOccluded","_lighting","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_localOrigins","_materialRepository","textureRepository","ee","updateRendersOccluded","_bindParameters","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","terrainLinearDepthTexture","geometryLinearDepthTexture","multipassGeometryEnabled","highlightColorTexture","resourceController","scheduler","registerTask","STAGE","_debugTextureTechnique","_debugPatternTexture","_temporaryFBO","_quadVAO","overlays","validateUsageForTarget","drapeTargetType","drapeSourceType","ensureDrapeTargets","ensureDrapeSources","done","commitChanges","madeProgress","updateSortedLayerRenderers","disposeOverlays","updateHasHighlights","updateHasWater","runTask","updatePolicy","ensureLayerRenderer","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","graphicUid","_screenToWorldRatio","hasSomeSizedView","isValid","applyViewport","setClearColor","clearSafe","setViewParameters","drawDebugTexture","renderer","fullOpacity","bindTemporaryFramebuffer","compositingHelper","composite","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","addIntersectionResult","layerUid","calculateShaderTransformation","stopAnimationsAtTime","allLayerViews","onContentChanged","onHasWaterChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","pipeline","layerRenderers","attributeData","removeDuplicateStartEnd","mapPosition","colorFeature","sizeFeature","opacityFeature","uniformSize","_width","_color","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stippleIntegerRepeats","_writeDepthEnabled","_falloff","_polygonOffset","lines","endpoint","createRenderGeometry","_updateMaterial","recreate","materialParameters","_createLineGeometries","stippleOffColor","falloff","isArray","vnodeSelector","properties","children","domNode","hasOwnProperty","startX","startY","endX","endY","calculateCoordinates","top","x1","x2","y1","y2","strokeStyle","lineCap","styles","visibility","lineWidth","beginPath","moveTo","lineTo","stroke","bottom","backgroundColor","textColor","textShadowColor","textShadowSize","_cssClasses","borderRadius","textShadow","font","replace","measureText","textAlign","textBaseline","roundedRect","fillStyle","_renderTextShadow","fillText","lineJoin","arcTo","closePath","sin","_textItem","_calloutItem","_showCallout","_showText","_text","_fontSize","_distance","_anchor","_updateLabelPosition","textItem","overlay","_computeLabelPositionFromPoint","callout","_updatePosition","_computeLabelPositionFromCorner","_computeLabelPositionFromSegment","updateVisibility","startPosition","endPosition","items","addMany","removeMany","idHint","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","_grabbing","dragging","_hovering","_selected","_focused","events","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_attached","_engineLayer","_materialIdReferences","_removeResourcesFromStage","_elevationInfo","_updateEngineObject","elevationAlignedLocation","ce","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","ensureScreenLocation","computeScreenPixelSizeAt","_calculateModelTransformOffset","_e","te","_getCollisionRadius","screenLocation","_getWorldToScreenObjectScale","_calculateObjectTransform","ne","se","le","ie","oe","de","ue","ae","he","_calculateModelTransformPosition","manipulator3D","engineLayerId","getObject","engineLayerReferences","materialIdReferences","ge","elevationInfo","elevationProvider","_getFocusedSize","focused","_ensureEngineResources","objectsByState","selected","stateMask","setVisible","renderObjects","materials","_addResourcesToStage","re","areAnyResourcesVisible","shadingTint","shadingDirection","blendColor","culling","cullFace","supportsEdges","_vertexAttributeLocations","vertexAttributes","applyToVertex","computeRenderPixelSizeAt","applyToAabb","vec3f","createBuffer","getField"],"mappings":"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","file":"static/js/53.132e052d.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{s as t,b as e,a as n,h as r,d as o,i as s,c as i,n as f,g as u}from\"../../../../../chunks/vec3.js\";import{c as a}from\"../../../../../chunks/vec3f64.js\";import{geodesicArea as c}from\"../../../../../geometry/geometryEngine.js\";import l from\"../../../../../geometry/Polygon.js\";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as h,projectVectorToWGS84ComparableLonLat as g}from\"../../../../../geometry/projection.js\";import p from\"../../../../../geometry/SpatialReference.js\";import{inverseGeodeticSolver as j}from\"../../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as d}from\"../../../support/mathUtils.js\";function y(o,s){const i=s.center;t(i,0,0,0);for(let t=0;t<o.length;++t)e(i,i,o[t]);n(i,i,1/o.length);let f=0;for(let t=0;t<o.length;++t)f=Math.max(f,r(i,o[t]));s.radius=Math.sqrt(f)}function M(t,e){if(t.length<3)throw new Error(\"need at least 3 points to fit a plane\");d(t[0],t[1],t[2],e)}function b(t,e){return o(t,e)+t[3]}function P(t,e,n){return m(t,R,n)&&m(e,S,n)?s(R,S):0}function w(t,e){if(!h(t,R)||!h(e,S))return 0;const n={distance:null};return j(n,[R[0],R[1]],[S[0],S[1]]),n.distance}function z(t,e,n){const r={distance:null};return j(r,[t[0],t[1]],[e[0],e[1]],n),r.distance}function k(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],i=n[1]-t[1];return.5*Math.abs(r*i-o*s)}function q(t,e,n,r){const o=G;return g(t,r,R)&&g(e,r,S)&&g(n,r,U)?(o.setPoint(0,0,R),o.setPoint(0,1,S),o.setPoint(0,2,U),Math.abs(c(o,\"square-meters\"))):0}function v(e,n,r){Math.abs(e[0])>Math.abs(e[1])?t(n,0,1,0):t(n,1,0,0),i(r,e,n),f(n,n),i(n,r,e),f(r,r)}function x(n,r=null,s=!0){const a=1e-6,c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let n=0;n<t.length;++n)if(o(e,t[n])<-a)return!1;return!0};if(0===n.length)return!1;if(1===n.length)return r&&u(r,n[0]),!0;t(W,0,0,0);for(let t=0;t<n.length;++t)e(W,W,n[t]);if(f(W,W),c(n,W))return r&&u(r,W),!0;if(!s)return!1;for(let t=0;t<n.length;++t)for(let e=0;e<n.length;++e)if(t!==e&&(i(W,n[t],n[e]),f(W,W),c(n,W)))return r&&u(r,W),!0;return!1}function E(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let n=0;n<t.size;++n)if(!e.has(t[n]))return!1;return!0}const R=a(),S=a(),U=a(),G=new l({rings:[[R,S,U]],spatialReference:p.WGS84}),W=a();export{M as bestFitPlane,y as boundingSphere,E as compareSets,x as fitHemisphere,b as planePointDistance,P as segmentLengthEuclidean,w as segmentLengthGeodesic,z as segmentLengthGeodesicVector,v as tangentFrame,k as triangleAreaEuclidean,q as triangleAreaGeodesic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../../core/mathUtils.js\";import t from\"../../../../../core/Quantity.js\";import{e as s}from\"../../../../../chunks/earcut.js\";import{s as i,d as o}from\"../../../../../chunks/vec2.js\";import{a as r}from\"../../../../../chunks/vec2f64.js\";import{n,i as h,g as a,c as d,o as g,f as l,d as p,a as c,b as m}from\"../../../../../chunks/vec3.js\";import{c as _}from\"../../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../../chunks/vec4f64.js\";import{canProjectWithoutEngine as f,canProjectToWGS84ComparableLonLat as C,projectPointToVector as S,projectPointToWGS84ComparableLonLat as L,projectDirection as R,projectVectorToVector as w}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as P,getReferenceEllipsoid as j}from\"../../../../../geometry/projectionEllipsoid.js\";import A from\"../../../../../geometry/SpatialReference.js\";import{segmentIntersects as W}from\"../../../../../geometry/support/intersectsBase.js\";import{segmentLengthGeodesicVector as v,bestFitPlane as I,fitHemisphere as U,triangleAreaEuclidean as G,triangleAreaGeodesic as z,planePointDistance as M,boundingSphere as V}from\"../support/measurementUtils.js\";import{midpoint as T}from\"../support/viewUtils.js\";import{makeOrthonormal as F,tangentFrame as y}from\"../../../support/mathUtils.js\";class k{constructor(e,t){this.positionsWorldCoords=[],this.positionsRenderCoords=[],this.positionsProjectedWorldCoords=[],this.positionsFittedRenderCoords=[],this.positionsGeographic=[],this.positionsSpherical=[],this.positionsStereographic=[],this.pathSegmentLengths=[],this.geodesicPathSegmentLengths=[],this.perimeterSegmentLengths=[],this.intersectingSegments=new Set,this.geodesicIntersectingSegments=new Set,this.areaCentroidWorldCoords=_(),this.areaCentroidRenderCoords=_(),this.geodesicAreaCentroidRenderCoords=_(),this._length=0,this._centroidRenderCoords=_(),this._planeWorldCoords=u(),this._worldUp=_(),this._worldTangent=_(),this._frame=[_(),_(),_()],this._pathVersion=-1,this._validMeasurement=!1,this._tempU=_(),this._tempV=_(),this._tempVec3=_(),this._tempSphere={center:_(),radius:0},this._sceneView=e,this.unitNormalizer=t}update(e,s,i,o){const r=this.unitNormalizer,h=this._sceneView.renderSpatialReference,a=this.unitNormalizer.spatialReference;if(this._pathVersion===e.version&&this._validMeasurement===i)return;this._pathVersion=e.version,this._validMeasurement=i;const d=e.numVertices;this._resize(d);const g=P(s.spatialReference),l=f(s.spatialReference,g)&&C(s.spatialReference),p=this.positionsGeographic,c=this.positionsWorldCoords,m=this.positionsRenderCoords,_=this.positionsSpherical;e.forEachVertexPosition(((e,t)=>{S(e,c[t],a),S(e,m[t],h),l&&(L(e,p[t]),S(e,_[t],g),n(_[t],_[t]))}));const u=this._updatePathLengths(i);if(this.pathLength=this._length>1?new t(r.normalizeDistance(u),\"meters\"):null,l){const e=this._updateGeodesicPathLengths(i,a);this.geodesicPathLength=this._length>1?new t(e,\"meters\"):null}else this.geodesicPathLength=null;if(!i)return this.area=null,this.geodesicArea=null,this.perimeterLength=null,this.triangleIndices=null,this.geodesicTriangleIndices=null,this.intersectingSegments.clear(),void this.geodesicIntersectingSegments.clear();this._updateArea(s,r,h,a,o),l&&this._updateGeodesicArea(s)}getData(){return{positionsWorldCoords:this.positionsWorldCoords,positionsRenderCoords:this.positionsRenderCoords,positionsProjectedWorldCoords:this.positionsProjectedWorldCoords,positionsFittedRenderCoords:this.positionsFittedRenderCoords,positionsGeographic:this.positionsGeographic,positionsSpherical:this.positionsSpherical,positionsStereographic:this.positionsStereographic,pathSegmentLengths:this.pathSegmentLengths,geodesicPathSegmentLengths:this.geodesicPathSegmentLengths,perimeterSegmentLengths:this.perimeterSegmentLengths,intersectingSegments:this.intersectingSegments,geodesicIntersectingSegments:this.geodesicIntersectingSegments,triangleIndices:this.triangleIndices,geodesicTriangleIndices:this.geodesicTriangleIndices,areaCentroidWorldCoords:this.areaCentroidWorldCoords,areaCentroidRenderCoords:this.areaCentroidRenderCoords,geodesicAreaCentroidRenderCoords:this.geodesicAreaCentroidRenderCoords,fittingMode:this.fittingMode,area:this.area,geodesicArea:this.geodesicArea,pathLength:this.pathLength,geodesicPathLength:this.geodesicPathLength,perimeterLength:this.perimeterLength,unitNormalizer:this.unitNormalizer}}_resize(e){for(e<this._length&&(this.positionsWorldCoords.length=e,this.positionsRenderCoords.length=e,this.positionsProjectedWorldCoords.length=e,this.positionsFittedRenderCoords.length=e,this.positionsGeographic.length=e,this.positionsSpherical.length=e,this.positionsStereographic.length=e,this.pathSegmentLengths.length=e,this.geodesicPathSegmentLengths.length=e,this.perimeterSegmentLengths.length=e,this._length=e);this._length<e;)this.positionsWorldCoords.push(_()),this.positionsRenderCoords.push(_()),this.positionsProjectedWorldCoords.push(r()),this.positionsFittedRenderCoords.push(_()),this.positionsGeographic.push(_()),this.positionsSpherical.push(_()),this.positionsStereographic.push(r()),this.pathSegmentLengths.push(0),this.geodesicPathSegmentLengths.push(0),this.perimeterSegmentLengths.push(0),++this._length}_updatePathLengths(e){const t=this.positionsWorldCoords,s=this.pathSegmentLengths;let i=0;for(let o=0;o<this._length;++o){const r=s[o]=h(t[o],t[(o+1)%this._length]);(o<this._length-1||e)&&(i+=r)}return i}_updateGeodesicPathLengths(e,t){const s=this.positionsGeographic,i=this.geodesicPathSegmentLengths;let o=0;for(let r=0;r<this._length;++r){const n=i[r]=v(s[r],s[(r+1)%this._length],t);(r<this._length-1||e)&&(o+=n)}return o}_updateArea(e,s,o,r,n){const h=e.renderCoordsHelper,_=this.positionsWorldCoords,u=this.positionsRenderCoords,f=this.positionsProjectedWorldCoords,C=this.positionsFittedRenderCoords,S=this._planeWorldCoords,L=this._centroidRenderCoords;T(u,L),h.worldUpAtPosition(L,this._worldUp),h.worldBasisAtPosition(L,0,this._worldTangent),R(L,this._worldUp,o,this._worldUp,r),R(L,this._worldTangent,o,this._worldTangent,r),_.length>2&&I(_,S),this.fittingMode=this._selectFittingMode(S,_,this._worldUp,n);let P=0;if(\"horizontal\"===this.fittingMode){let e=-1/0;u.forEach(((t,s)=>{const i=h.getAltitude(u[s]);i>e&&(e=i,P=s)}))}const j=_[P];let A=S,W=this._worldTangent;\"horizontal\"===this.fittingMode?A=this._worldUp:\"vertical\"===this.fittingMode&&(A=this._tempVec3,W=this._worldUp,F(S,this._worldUp,A)),a(this._frame[2],A),F(W,A,this._frame[0]),d(this._frame[1],this._frame[0],this._frame[2]),g(this._frame[1],this._frame[1]);const v=this._tempVec3,U=this._tempU,G=this._tempV;for(let t=0;t<this._length;++t){const e=f[t],s=C[t];l(v,_[t],j),i(e,p(this._frame[0],v),p(this._frame[1],v)),c(U,this._frame[0],e[0]),c(G,this._frame[1],e[1]),m(v,U,G),m(v,v,j),w(v,r,s,o)}this.perimeterLength=this._length>0?new t(s.normalizeDistance(this._updatePerimeterLengths()),\"meters\"):null,T(C,this.areaCentroidRenderCoords),w(this.areaCentroidRenderCoords,o,this.areaCentroidWorldCoords,r),this._updateIntersectingSegments(),this.area=0===this.intersectingSegments.size?new t(s.normalizeArea(this._computeArea()),\"square-meters\"):null}_updateGeodesicArea(e){const s=e.renderCoordsHelper,o=this.positionsSpherical,r=this.positionsStereographic,n=this._tempVec3,h=U(o,n);if(!h)return void(this.geodesicArea=null);const a=this._tempU,d=this._tempV;y(n,a,d);for(let t=0;t<this._length;++t){const e=p(o[t],a),s=p(o[t],d),h=p(o[t],n);i(r[t],e/h,s/h)}c(n,n,j(e.spatialReference).radius),s.toRenderCoords(n,P(e.spatialReference),this.geodesicAreaCentroidRenderCoords),this._updateGeodesicIntersectingSegments(),this.geodesicArea=h&&0===this.geodesicIntersectingSegments.size?new t(this._computeGeodesicArea(),\"square-meters\"):null}_updatePerimeterLengths(){const e=this.positionsProjectedWorldCoords,t=this.perimeterSegmentLengths;let s=0;for(let i=0;i<this._length;++i){s+=t[i]=o(e[i],e[(i+1)%this._length])}return s}_updateIntersectingSegments(){const e=this.positionsProjectedWorldCoords,t=this.intersectingSegments;t.clear();for(let s=0;s<this._length;++s)for(let i=s+2;i<this._length;++i){if((i+1)%this._length===s)continue;const o=e[s],r=e[(s+1)%this._length],n=e[i],h=e[(i+1)%this._length];W(o,r,n,h)&&(t.add(s),t.add(i))}}_computeArea(){const e=this.positionsProjectedWorldCoords,t=x(e,2),i=this.triangleIndices=new Uint32Array(s(t,[],2));let o=0;for(let s=0;s<i.length;s+=3)o+=G(e[i[s]],e[i[s+1]],e[i[s+2]]);return o}_updateGeodesicIntersectingSegments(){const e=this.positionsStereographic,t=this.geodesicIntersectingSegments;t.clear();for(let s=0;s<this._length;++s)for(let i=s+2;i<this._length;++i){if((i+1)%this._length===s)continue;const o=e[s],r=e[(s+1)%this._length],n=e[i],h=e[(i+1)%this._length];W(o,r,n,h)&&(t.add(s),t.add(i))}}_computeGeodesicArea(){const e=this.positionsGeographic,t=x(this.positionsStereographic,2),i=this.geodesicTriangleIndices=new Uint32Array(s(t,[],2));let o=0;for(let s=0;s<i.length;s+=3)o+=z(e[i[s]],e[i[s+1]],e[i[s+2]],A.WGS84);return o}_selectFittingMode(t,s,i,o){const r=s.map((e=>Math.abs(M(t,e)))).reduce(((e,t)=>Math.max(e,t)),0);V(s,this._tempSphere);const n=r/(2*this._tempSphere.radius),h=n<o.maxRelativeErrorCoplanar,a=n<o.maxRelativeErrorAlmostCoplanar;let d=\"horizontal\";if(h)d=\"oblique\";else if(a){d=Math.abs(p(i,t))>Math.cos(e(o.verticalAngleThreshold))?\"horizontal\":\"vertical\"}return d}}function x(e,t){const s=new Float64Array(e.length*t);for(let i=0;i<e.length;++i){const o=e[i];for(let e=0;e<t;++e)s[i*t+e]=o[e]}return s}export{k as MeasurementDataManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import r from\"../../../../../core/Handles.js\";import{destroyMaybe as s}from\"../../../../../core/maybe.js\";import{property as a}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as i}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as n,WGS84ECEFSpatialReference as m,SphericalECEFSpatialReference as p}from\"../../../../../geometry/projectionEllipsoid.js\";import{MeasurementDataManager as c}from\"./MeasurementData.js\";import{UnitNormalizer as l}from\"../support/UnitNormalizer.js\";let h=class extends t{constructor(e){super(e),this._handles=new r}initialize(){const e=this.view.spatialReference,t=n(e),r=t===p?m:t,s=!e||i(e,r)?r:e,a=new l(s);this._measurementDataManager=new c(this.view,a),this._handles.add(this.layerViewData.path.on(\"change\",(()=>this._update()))),this._update()}destroy(){this._handles=s(this._handles)}_update(){const e=this.layerViewData,t={maxRelativeErrorCoplanar:.005,maxRelativeErrorAlmostCoplanar:.01,verticalAngleThreshold:80};this._measurementDataManager.update(e.path,this.view,e.validMeasurement,t);const r=this._measurementDataManager.getData();this._set(\"measurementData\",r),e.measurementData=r}};e([a({constructOnly:!0})],h.prototype,\"view\",void 0),e([a({constructOnly:!0})],h.prototype,\"analysis\",void 0),e([a({readOnly:!0})],h.prototype,\"measurementData\",void 0),e([a({constructOnly:!0})],h.prototype,\"layerViewData\",void 0),h=e([o(\"esri.views.3d.layers.analysis.AreaMeasurement.AreaMeasurementController\")],h);export{h as AreaMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../core/maybe.js\";class i{constructor(t,e,i){this.editGeometry=t,this.vertex=e,this.pos=i}apply(){const e=t(this.originalPosition);e&&(this.originalPosition=this.vertex.pos),this._apply(e?\"apply\":\"redo\")}undo(){this.vertex.pos=e(this.originalPosition);const t={updatedVertices:[this.vertex],operation:\"undo\"};this.editGeometry.emit(\"change\",t)}accumulate(t){return t instanceof i&&t.vertex===this.vertex&&(this.pos=t.pos,this._apply(\"apply\"),!0)}_apply(t){this.vertex.pos=this.pos,this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions()));const e={updatedVertices:[this.vertex],operation:t};this.editGeometry.emit(\"change\",e)}}export{i as SetVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class i{constructor(e,t){this.editGeometry=e,this.component=t,this.createdEdge=null}apply(){let i=\"redo\";if(e(this.createdEdge)){i=\"apply\";const s=this.component.getFirstVertex(),o=this.component.getLastVertex();if(this.component.isClosed()||this.component.vertices.length<3||e(s)||e(o))return;this.createdEdge=new t(this.component,o,s)}this.createdEdge.left.right=this.createdEdge,this.createdEdge.right.left=this.createdEdge,this.component.edges.push(this.createdEdge);const s={operation:i};this.editGeometry.emit(\"change\",s)}undo(){if(e(this.createdEdge))return;this.component.edges.splice(this.component.edges.indexOf(this.createdEdge),1),this.createdEdge.left.right=null,this.createdEdge.right.left=null;const t={operation:\"undo\"};this.editGeometry.emit(\"change\",t)}accumulate(){return!1}}export{i as CloseComponent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{isSome as r}from\"../../../../../core/maybe.js\";import{init as o}from\"../../../../../core/watchUtils.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{createCoordinateHelper as m}from\"../../../../interactive/coordinateHelper.js\";import{EditGeometry as a,Component as h}from\"../../../../interactive/editGeometry/EditGeometry.js\";export{Component,Edge,EditGeometry,Vertex}from\"../../../../interactive/editGeometry/EditGeometry.js\";import{AppendVertex as l}from\"../../../../interactive/editGeometry/operations/AppendVertex.js\";import{SetVertexPosition as c}from\"../../../../interactive/editGeometry/operations/SetVertexPosition.js\";import{CloseComponent as d}from\"../../../../interactive/editGeometry/operations/CloseComponent.js\";import p from\"../../../../../geometry/Point.js\";let y=class extends t.EventedAccessor{constructor(e={}){super(e),this._handles=new i,this._version=0,this._internalGeometryChange=!1}set areaMeasurement(e){this._set(\"areaMeasurement\",e),r(e)&&r(this.view)&&this._initialize(e,this.view)}set view(e){this._set(\"view\",e),r(e)&&r(this.areaMeasurement)&&this._initialize(this.areaMeasurement,e)}get initialized(){return r(this.areaMeasurement)&&r(this.view)}get version(){return this._version}get isValidPolygon(){return this.initialized&&this._editGeometry.components.length>0&&this._editGeometry.components[0].isClosed()}_initialize(e,t){this._handles.removeAll(),this._handles.add(o(e,\"geometry\",(()=>this._updateEditGeometryFromModelGeometry(e,t)),!0)),this._makeDirty(!0)}_makeDirty(e=!1){this.notifyChange(\"isValidPolygon\"),this.notifyChange(\"initialized\"),e&&this.notifyChange(\"numVertices\")}_updateEditGeometryFromModelGeometry(e,t){this._version++,this._internalGeometryChange||(this._handles.remove(\"EditGeometry\"),this._editGeometry=r(e.geometry)?a.fromGeometry(e.geometry,t.viewingMode):new a(m(!0,!1,t.spatialReference,t.viewingMode)),this._makeDirty(!0),this.emit(\"change\",{type:\"change\"}),this._handles.add(this._editGeometry.on(\"change\",(t=>{this._makeDirty(null!=t.addedVertices||null!=t.removedVertices),this._internalGeometryChange=!0,e.geometry=this.numVertices>0?this._editGeometry.toPolygon():null,this._internalGeometryChange=!1})),\"EditGeometry\"))}get vertices(){const e=[];return this.forEachVertex((t=>{e.push(t)})),e}get numVertices(){return this.initialized&&this._editGeometry.components.length>0?this._editGeometry.components[0].vertices.length:0}get lastPoint(){if(this.initialized&&this._editGeometry.components.length>0){const e=this._editGeometry.components[0].getLastVertex();if(r(e))return this._editGeometry.coordinateHelper.createPoint(e.pos)}return null}getVertex(e){if(!this.initialized||0===this._editGeometry.components.length||0===this._editGeometry.components[0].vertices.length)return null;const t=this._editGeometry.components[0].vertices[0];let i=t;do{if(i.index===e)return i;i=i.right.right}while(i!==t&&null!=i);return null}getVertexPositionAsPoint(e){return this._editGeometry.coordinateHelper.createPoint(e.pos)}getVertexPositionAsPointFromIndex(e){return this._editGeometry.coordinateHelper.createPoint(this.getVertex(e).pos)}forEachVertex(e){this.initialized&&this._editGeometry.components.length>0&&this._editGeometry.components[0].iterateVertices(e)}forEachVertexPosition(e){const t=this._editGeometry.coordinateHelper;this.forEachVertex(((i,r)=>{t.toPoint(i.pos,u),e(u,r)}))}clear(){r(this.areaMeasurement)&&(this.areaMeasurement.geometry=null)}add(e){if(!this.initialized)return null;0===this._editGeometry.components.length&&this._editGeometry.components.push(new h(this._editGeometry));const t=new l(this._editGeometry,this._editGeometry.components[0],this._editGeometry.coordinateHelper.fromPoint(e));return this._editGeometry.apply(t),this.emit(\"change\",{type:\"change\"}),t}close(){if(!this.initialized)return null;if(0===this._editGeometry.components.length)return null;const e=this._editGeometry.components[0],t=new d(this._editGeometry,e);return this._editGeometry.apply(t),this.emit(\"change\",{type:\"change\"}),t}ensureContains(e,t=\"\"){let i=!1;if(this._editGeometry.components.forEach((t=>{t.iterateVertices((t=>{t===e&&(i=!0)}))})),!i)throw new Error(`vertex doesnt exist ${t}`);return i}setVertexPosition(e,t){if(!this.initialized)return null;const i=new c(this._editGeometry,e,this._editGeometry.coordinateHelper.fromPoint(t));return this._editGeometry.apply(i),this.emit(\"change\",{type:\"change\"}),i}equals(e){if(this.numVertices!==e.numVertices)return!1;let t=!0;return this.forEachVertexPosition(((i,r)=>{const o=e.getVertexPositionAsPointFromIndex(r);i.equals(o)||(t=!1)})),!!t}};e([s({value:null})],y.prototype,\"areaMeasurement\",null),e([s({value:null})],y.prototype,\"view\",null),e([s()],y.prototype,\"isValidPolygon\",null),e([s()],y.prototype,\"numVertices\",null),y=e([n(\"esri.views.3d.interactive.graphics.AreaMeasurement3D.AreaMeasurement3DPathHelper\")],y);const u=new p;export{y as AreaMeasurement3DPathHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../../chunks/tslib.es6.js\";import e from\"../../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../../core/maybe.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{AreaMeasurement3DPathHelper as a}from\"./AreaMeasurementPathHelper.js\";import{UnitNormalizer as p}from\"../support/UnitNormalizer.js\";let i=class extends e{constructor(){super(...arguments),this.measurementData=null,this.unitNormalizer=new p,this.path=new a,this.lastDraggedVertex=null}destroy(){this.measurementData=null,this.path=t(this.path)}get validMeasurement(){return this.path.isValidPolygon}};r([o()],i.prototype,\"measurementData\",void 0),r([o()],i.prototype,\"validMeasurement\",null),r([o()],i.prototype,\"unitNormalizer\",void 0),r([o()],i.prototype,\"path\",void 0),r([o()],i.prototype,\"lastDraggedVertex\",void 0),r([o()],i.prototype,\"cursorPoint\",void 0),i=r([s(\"esri.views.3d.layers.analysis.AreaMeasurement3D.AreaMeasurementLayerViewData\")],i);export{i as AreaMeasurementLayerViewData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{s as e,b as t,a as n,h as r,d as o,i,c as s,n as a,g as f}from\"../../../../../chunks/vec3.js\";import{c as u}from\"../../../../../chunks/vec3f64.js\";import{geodesicArea as c}from\"../../../../../geometry/geometryEngine.js\";import l from\"../../../../../geometry/Polygon.js\";import{projectPointToVector as g,projectPointToWGS84ComparableLonLat as m,projectVectorToWGS84ComparableLonLat as h}from\"../../../../../geometry/projection.js\";import p from\"../../../../../geometry/SpatialReference.js\";import{inverseGeodeticSolver as d}from\"../../../../../geometry/support/geodesicUtils.js\";import{planeFromPoints as j}from\"../../../support/mathUtils.js\";var b;!function(u){function l(o,i){const s=i.center;e(s,0,0,0);for(let e=0;e<o.length;++e)t(s,s,o[e]);n(s,s,1/o.length);let a=0;for(let e=0;e<o.length;++e)a=Math.max(a,r(s,o[e]));i.radius=Math.sqrt(a)}function p(e,t){if(e.length<3)throw new Error(\"need at least 3 points to fit a plane\");j(e[0],e[1],e[2],t)}function b(e,t){return o(e,t)+e[3]}function G(e,t,n){return g(e,y,n)&&g(t,M,n)?i(y,M):0}function S(e,t){if(!m(e,y)||!m(t,M))return 0;const n={distance:null};return d(n,[y[0],y[1]],[M[0],M[1]]),n.distance}function w(e,t,n){const r={distance:null};return d(r,[e[0],e[1]],[t[0],t[1]],n),r.distance}function z(e,t,n){const r=t[0]-e[0],o=t[1]-e[1],i=n[0]-e[0],s=n[1]-e[1];return.5*Math.abs(r*s-o*i)}function L(e,t,n,r){const o=v;return h(e,r,y)&&h(t,r,M)&&h(n,r,P)?(o.setPoint(0,0,y),o.setPoint(0,1,M),o.setPoint(0,2,P),Math.abs(c(o,\"square-meters\"))):0}function k(t,n,r){Math.abs(t[0])>Math.abs(t[1])?e(n,0,1,0):e(n,1,0,0),s(r,t,n),a(n,n),s(n,r,t),a(r,r)}function q(n,r=null,i=!0){const u=1e-6,c=(e,t)=>{if(0===t[0]&&0===t[1]&&0===t[2])return!1;for(let n=0;n<e.length;++n)if(o(t,e[n])<-u)return!1;return!0};if(0===n.length)return!1;if(1===n.length)return r&&f(r,n[0]),!0;e(E,0,0,0);for(let e=0;e<n.length;++e)t(E,E,n[e]);if(a(E,E),c(n,E))return r&&f(r,E),!0;if(!i)return!1;for(let e=0;e<n.length;++e)for(let t=0;t<n.length;++t)if(e!==t&&(s(E,n[e],n[t]),a(E,E),c(n,E)))return r&&f(r,E),!0;return!1}function x(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(let n=0;n<e.size;++n)if(!t.has(e[n]))return!1;return!0}u.boundingSphere=l,u.bestFitPlane=p,u.planePointDistance=b,u.segmentLengthEuclidean=G,u.segmentLengthGeodesic=S,u.segmentLengthGeodesicVector=w,u.triangleAreaEuclidean=z,u.triangleAreaGeodesic=L,u.tangentFrame=k,u.fitHemisphere=q,u.compareSets=x}(b||(b={}));const y=u(),M=u(),P=u(),v=new l({rings:[[y,M,P]],spatialReference:p.WGS84}),E=u();var G=b;export default G;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{bindMultipassTerrainTexture as e}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as t,bindView as o}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as s}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as a,parameter as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as p}from\"../lib/DefaultVertexAttributeLocations.js\";import{OITBlending as l,OITDepthTest as c,OITDepthWrite as m}from\"../lib/OrderIndependentTransparency.js\";import{Program as d}from\"../lib/Program.js\";import{C as h}from\"../../../../chunks/CheckerBoard.glsl.js\";import{makePipelineState as u,defaultDepthWriteParams as f,defaultColorWriteParams as g,separateBlendingParams as b}from\"../../../webgl/renderState.js\";class y extends s{initializeProgram(r){const e=y.shader.get(),t=this.configuration,o=e.build({OITEnabled:0===t.transparencyPassType,multipassTerrainEnabled:t.multipassTerrainEnabled,cullAboveGround:t.cullAboveGround});return new d(r.rctx,o,p)}bindPass(r,o){t(this.program,o.camera.projectionMatrix),this.program.setUniform2fv(\"size\",r.size),this.program.setUniform4fv(\"color1\",r.color1),this.program.setUniform4fv(\"color2\",r.color2),o.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",o.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",o.inverseViewport),e(this.program,o))}bindDraw(r){o(this.program,r)}setPipelineState(r){const e=this.configuration,t=3===r,o=2===r;return u({blending:e.transparent?t?v:l(r):null,depthTest:{func:c(r)},depthWrite:t?e.writeDepth&&f:m(r),colorWrite:g,polygonOffset:t||o?e.polygonOffset&&T:{factor:-1,units:-25}})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}y.shader=new i(h,(()=>import(\"./CheckerBoard.glsl.js\")));const T={factor:0,units:-25},v=b(770,1,771,771);class j extends a{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.polygonOffset=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}r([n()],j.prototype,\"transparent\",void 0),r([n()],j.prototype,\"writeDepth\",void 0),r([n()],j.prototype,\"polygonOffset\",void 0),r([n({count:4})],j.prototype,\"transparencyPassType\",void 0),r([n()],j.prototype,\"multipassTerrainEnabled\",void 0),r([n()],j.prototype,\"cullAboveGround\",void 0);export{y as CheckerBoardTechnique,j as CheckerBoardTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{Material as t,materialParametersDefaults as r}from\"../lib/Material.js\";import{DefaultBufferWriter as i,PositionUVLayout as s}from\"./internal/DefaultBufferWriter.js\";import{intersectTriangleGeometry as n}from\"./internal/MaterialUtil.js\";import{CheckerBoardTechniqueConfiguration as a,CheckerBoardTechnique as o}from\"../shaders/CheckerBoardTechnique.js\";class u extends t{constructor(e){super(e,c),this.techniqueConfig=new a}dispose(){}getPassParameters(){return this.params}getTechniqueConfig(e){return this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.polygonOffset=this.params.polygonOffset,this.techniqueConfig.transparencyPassType=e?e.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!e&&e.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!e&&e.cullAboveGround,this.techniqueConfig}intersect(e,t,r,i,s,a,o){return n(e,t,i,s,a,void 0,o)}getGLMaterial(e){return 0===e.output||7===e.output?new h(e):void 0}createBufferWriter(){return new i(s)}}class h extends e{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(o,this._material.getTechniqueConfig(e),this._technique)}beginSlot(e){let t=3;return this._technique.configuration.transparent&&(t=this._technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const c={size:[1,1],color1:[.75,.75,.75,1],color2:[.5,.5,.5,1],transparent:!1,writeDepth:!0,polygonOffset:!1,...r};export{u as CheckerBoardMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r}from\"../../../../core/maybe.js\";import{u as t}from\"../../../../chunks/mat4.js\";import{f as s}from\"../../../../chunks/vec3.js\";import{c as o}from\"../../../../chunks/vec3f64.js\";import{Object3DVisualElement as i}from\"./Object3DVisualElement.js\";import{Geometry as c}from\"../../webgl-engine/lib/Geometry.js\";import{CheckerBoardMaterial as a}from\"../../webgl-engine/materials/CheckerBoardMaterial.js\";class l extends i{constructor(e){super(e),this._checkerBoardMaterial=null,this._renderOccluded=4,this._geometry=null,this._size=[1,1],this._color1=[1,.5,0,.5],this._color2=[1,1,1,.5],this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get size(){return this._size}set size(e){this._size=e,this.updateMaterial()}get color1(){return this._color1}set color1(e){this._color1=e,this.updateMaterial()}get color2(){return this._color2}set color2(e){this._color2=e,this.updateMaterial()}updateMaterial(){e(this._checkerBoardMaterial)&&this._checkerBoardMaterial.setParameterValues({size:this._size,color1:this._color1,color2:this._color2,renderOccluded:this._renderOccluded})}createExternalResources(){this._checkerBoardMaterial=new a({size:this._size,color1:this._color1,color2:this._color2,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:4})}destroyExternalResources(){this._checkerBoardMaterial=null}forEachExternalMaterial(r){e(this._checkerBoardMaterial)&&r(this._checkerBoardMaterial)}createGeometries(e){if(r(this._geometry)||r(this._checkerBoardMaterial))return;const i=h;t(i,this.transform);const a=this._geometry,l=[],d=o();a.position.forEach((e=>{s(d,e,i),l.push(d[0],d[1],d[2])}));const n=[];a.uv.forEach((e=>{n.push(e[0],e[1])}));const u=new c([[\"position\",{size:3,data:l,exclusive:!0}],[\"uv0\",{size:2,data:n,exclusive:!0}]],[[\"position\",a.triangleIndices],[\"uv0\",a.triangleIndices]]);e.addGeometry(u,this._checkerBoardMaterial)}geometryChanged(){this.recreateGeometry()}}const h=o();export{l as MeasurementAreaVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../intl.js\";import t from\"../../../../../core/Accessor.js\";import\"../../../../../core/has.js\";import i from\"../../../../../core/Handles.js\";import{nextHighestPowerOfTen as s}from\"../../../../../core/mathUtils.js\";import{isNone as r,isSome as n,unwrap as a}from\"../../../../../core/maybe.js\";import o from\"../../../../../core/Quantity.js\";import{formatDecimal as l}from\"../../../../../core/quantityFormatUtils.js\";import{convertUnit as h,preferredImperialAreaUnit as m,preferredMetricAreaUnit as c,preferredImperialLengthUnit as d,preferredMetricLengthUnit as u}from\"../../../../../core/unitUtils.js\";import{whenOnce as p}from\"../../../../../core/watchUtils.js\";import{property as g}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as _}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reactionInit as L}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{i as b,t as v}from\"../../../../../chunks/mat4.js\";import{c as f}from\"../../../../../chunks/mat4f64.js\";import{f as w}from\"../../../../../chunks/vec3.js\";import{c as S}from\"../../../../../chunks/vec3f64.js\";import y from\"../../../interactive/measurementTools/support/measurementUtils.js\";import{midpoint as j}from\"../../../interactive/measurementTools/support/viewUtils.js\";import{LabelVisualElement as C}from\"../../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as P}from\"../../../interactive/visualElements/LineVisualElement.js\";import{MeasurementAreaVisualElement as V}from\"../../../interactive/visualElements/MeasurementAreaVisualElement.js\";import{GeodesicSegment as A,EuclideanSegment as D}from\"../../../interactive/visualElements/support/Segment.js\";import{createStipplePatternSimple as R}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as M}from\"../../../../../intl/locale.js\";import{fetchMessageBundle as I}from\"../../../../../intl/messages.js\";let U=class extends t{constructor(e){super(e),this._handles=new i,this._params={...z},this._path=null,this._intersectedPath=null,this._perimeter=null,this._intersectedPerimeter=null,this._projectionLines=null,this._measurementArea=null,this._areaLabel=null,this._pathLengthLabel=null,this._cursorSegmentLengthLabel=null,this._perimeterLengthLabel=null,this._pathSegments=[],this._perimeterSegments=[],this._cursorSegment=null,this._origin=S(),this._originTransform=f(),this._cursorPositionRenderSpace=S(),this.messages=null,this.viewData=k,this.areaLabel=null,this.perimeterLengthLabel=null,this.mode=\"auto\",this.geodesicMeasurementDistanceThreshold=1e5}get visible(){return this.layerView.visible&&!this.layerView.suspended}get testData(){return{labels:{area:this._areaLabel,pathLength:this._pathLengthLabel,cursorSegmentLength:this._cursorSegmentLengthLabel,perimeterLength:this._perimeterLengthLabel}}}initialize(){const e=this.view;this._path=new P({view:e,attached:!0,width:this._params.pathLineWidth,color:this._params.pathLineColor,polygonOffset:!0,renderOccluded:4}),this._intersectedPath=new P({view:e,attached:!0,width:this._params.pathLineWidth,color:this._params.intersectingLineColor,polygonOffset:!0,renderOccluded:4}),this._perimeter=new P({view:e,attached:!0,width:this._params.perimeterLineWidth,color:this._params.perimeterLineColor,polygonOffset:!0,renderOccluded:4}),this._intersectedPerimeter=new P({view:e,attached:!0,width:this._params.perimeterLineWidth,color:this._params.intersectingLineColor,polygonOffset:!0,renderOccluded:4}),this._projectionLines=new P({view:e,attached:!0,width:this._params.projectionLineWidth,color:this._params.projectionLineColor,stipplePattern:R(this._params.projectionLineStippleSize),stippleIntegerRepeats:!1,polygonOffset:!0,renderOccluded:4}),this._measurementArea=new V({view:e,attached:!0,color1:this._params.areaColor1,color2:this._params.areaColor2}),this._areaLabel=new C({view:this.view,attached:!0,fontSize:16}),this._pathLengthLabel=new C({view:e,attached:!0,fontSize:12}),this._cursorSegmentLengthLabel=new C({view:e,attached:!0,fontSize:12}),this._perimeterLengthLabel=new C({view:e,attached:!0,fontSize:12});const t=this.layerView,i=t.layerViewData;this._handles.add([L((()=>[this.mode,this.visible,t.unit,i.measurementData,i.cursorPoint]),(()=>this._update())),L((()=>{var t;return null==(t=e.state)?void 0:t.camera}),(()=>this._updateLabels())),M((async()=>this._updateMessageBundle()))]),this._updateMessageBundle()}destroy(){this._measurementArea.destroy(),this._measurementArea=null,this._path.destroy(),this._path=null,this._intersectedPath.destroy(),this._intersectedPath=null,this._perimeter.destroy(),this._perimeter=null,this._intersectedPerimeter.destroy(),this._intersectedPerimeter=null,this._areaLabel.destroy(),this._areaLabel=null,this._pathLengthLabel.destroy(),this._pathLengthLabel=null,this._cursorSegmentLengthLabel.destroy(),this._cursorSegmentLengthLabel=null,this._perimeterLengthLabel.destroy(),this._perimeterLengthLabel=null,this.set(\"view\",null)}async whenMessages(){await p(this,\"messages\")}_update(){if(this.destroyed)return;const e=this.layerView.layerViewData.measurementData;r(e)||(this._updateViewData(e,this.layerView.layerViewData.path,this.layerView.layerViewData.cursorPoint),this._updateOrigin(),this._updatePathSegments(),this._updatePerimeterSegments(),this._updateArea(),this._updateProjectionLines(),this._updateLabels())}_updateViewData(e,t,i){const r=t.isValidPolygon,a=t.lastPoint,l=n(a)&&n(i)?new o(y.segmentLengthGeodesic(a,i),\"meters\"):null,m=n(a)&&n(i)?new o(e.unitNormalizer.normalizeDistance(y.segmentLengthEuclidean(a,i,e.unitNormalizer.spatialReference)),\"meters\"):null;let c;if(\"auto\"===this.mode){c=\"euclidean\";(e.geodesicPathLength?e.geodesicPathLength.value:0)+(!r&&n(l)?l.value:0)>this.geodesicMeasurementDistanceThreshold&&(c=\"geodesic\")}else c=this.mode;null==e.geodesicPathLength&&(c=\"euclidean\");const d=\"geodesic\"===c,u=d?e.geodesicArea:e.area;let p=1;if(u){const t=this._toPreferredAreaUnit(u,this.layerView.unit);p=s(Math.sqrt(t.value)/Math.sqrt(300)),p*=Math.sqrt(h(1,t.unit,\"square-meters\")),p/=e.unitNormalizer.normalizeDistance(1)}const g={validMeasurement:r,path:t,pathVersion:t.version,cursorPoint:i,measurementData:e,mode:c,positionsGeographic:e.positionsGeographic,positionsRenderCoords:e.positionsRenderCoords,positionsProjected:e.positionsProjectedWorldCoords,positionsFittedRenderCoords:e.positionsFittedRenderCoords,intersectingSegments:d?e.geodesicIntersectingSegments:e.intersectingSegments,triangleIndices:d?e.geodesicTriangleIndices:e.triangleIndices,fittingMode:e.fittingMode,areaCentroid:d?e.geodesicAreaCentroidRenderCoords:e.areaCentroidRenderCoords,pathLengthLabelSegmentIndex:r?0:t.numVertices-2,perimeterLengthLabelSegmentIndex:0,checkerSize:p,geodesicCursorSegmentLength:l,cursorSegmentLength:m};this._set(\"viewData\",g)}_updateOrigin(){const e=this.viewData;j(e.positionsRenderCoords,this._origin),b(this._originTransform),v(this._originTransform,this._originTransform,this._origin),this._measurementArea.transform=this._originTransform,this._projectionLines.transform=this._originTransform}_createSegments(e){const t=this.viewData,i=t.path,s=this.view.renderCoordsHelper.spatialReference,r=t.mode,n=[],a=[],o=[],l=t.validMeasurement?i.numVertices:i.numVertices-1;for(let h=0;h<l;++h){const l=t[e][h],m=t[e][(h+1)%i.numVertices];let c=null;switch(r){case\"euclidean\":c=new D(l,m);break;case\"geodesic\":c=new A(l,m,s)}t.intersectingSegments.has(h)?o.push(c):a.push(c),n.push(c)}return{all:n,nonIntersecting:a,intersecting:o}}_updatePathSegments(){const e=this.visible,t=this.viewData,i=this._createSegments(\"positionsRenderCoords\"),s=t.path,r=!s.isValidPolygon,a=t.cursorPoint,o=this.view.renderCoordsHelper,l=o.spatialReference,h=t.mode;if(this._cursorSegment=null,s.numVertices>0&&r&&n(a)){if(o.toRenderCoords(a,this._cursorPositionRenderSpace)){const e=t.positionsRenderCoords[s.numVertices-1],r=this._cursorPositionRenderSpace;let n=null;switch(h){case\"euclidean\":n=new D(e,r);break;case\"geodesic\":n=new A(e,r,l)}i.nonIntersecting.push(n),this._cursorSegment=n}}this._path.setGeometryFromSegments(i.nonIntersecting,this._origin),this._path.visible=e,this._intersectedPath.setGeometryFromSegments(i.intersecting,this._origin),this._intersectedPath.visible=e,this._pathSegments=i.all}_updatePerimeterSegments(){const e=this.visible&&\"euclidean\"===this.viewData.mode,t=this._createSegments(\"positionsFittedRenderCoords\");this._perimeter.setGeometryFromSegments(t.nonIntersecting,this._origin),this._perimeter.visible=e,this._intersectedPerimeter.setGeometryFromSegments(t.intersecting,this._origin),this._intersectedPerimeter.visible=e,this._perimeterSegments=t.all}_updateArea(){const e=this.viewData;switch(e.mode){case\"euclidean\":this._updateAreaEuclidean(e);break;case\"geodesic\":this._updateAreaGeodesic()}}_updateAreaEuclidean(e){const t=this.visible;e.validMeasurement&&0===e.intersectingSegments.size&&e.triangleIndices?(this._measurementArea.geometry={uv:e.positionsProjected,position:e.positionsFittedRenderCoords,triangleIndices:e.triangleIndices},this._measurementArea.size=[e.checkerSize,e.checkerSize],this._measurementArea.visible=t):this._measurementArea.visible=!1}_updateAreaGeodesic(){this._measurementArea.visible=!1}_updateProjectionLines(){const e=this.viewData,t=this.visible,i=e.path,s=e.mode;if(i.numVertices>0&&e.validMeasurement&&\"euclidean\"===s){const s=[];for(let t=0;t<i.numVertices;++t){const i=S();w(i,e.positionsRenderCoords[t],this._origin);const r=S();w(r,e.positionsFittedRenderCoords[t],this._origin),s.push([i,r])}this._projectionLines.geometry=s,this._projectionLines.visible=t}else this._projectionLines.geometry=null,this._projectionLines.visible=!1}_updateLabels(){if(this.destroyed)return;const e=this.viewData,t=e.path;if(!t)return;const i=e.measurementData,s=e.mode,r=!t.isValidPolygon,o=this.visible,l=this._formatAreaLabel(this.messages,\"geodesic\"===s?i.geodesicArea:i.area,this.layerView.unit);n(l)?(this._areaLabel.geometry={type:\"point\",point:e.areaCentroid},this._areaLabel.text=l,this._areaLabel.visible=e.validMeasurement&&0===e.intersectingSegments.size&&o):this._areaLabel.visible=!1,this._set(\"areaLabel\",a(l));const h=this._formatLengthLabel(this.messages,\"geodesic\"===s?i.geodesicPathLength:i.pathLength,this.layerView.unit);if(n(h)&&e.pathLengthLabelSegmentIndex>=0&&e.pathLengthLabelSegmentIndex<this._pathSegments.length){const i=this._pathSegments[e.pathLengthLabelSegmentIndex],s=n(this._cursorSegment)?this._cursorSegment:O;this._pathLengthLabel.distance=this._params.labelDistance,this._pathLengthLabel.geometry={type:\"corner\",left:i,right:s},this._pathLengthLabel.text=h,this._pathLengthLabel.visible=r&&t.numVertices>0&&o}else this._pathLengthLabel.visible=!1;const m=\"geodesic\"===s?e.geodesicCursorSegmentLength:e.cursorSegmentLength;if(n(m)){const e=this._formatLengthLabel(this.messages,m,this.layerView.unit);this._cursorSegmentLengthLabel.distance=this._params.labelDistance,this._cursorSegmentLengthLabel.geometry=n(this._cursorSegment)?{type:\"segment\",segment:this._cursorSegment,sampleLocation:\"end\"}:null,this._cursorSegmentLengthLabel.anchor=\"bottom\",this._cursorSegmentLengthLabel.text=a(e),this._cursorSegmentLengthLabel.visible=r&&0!==m.value&&o}else this._cursorSegmentLengthLabel.visible=!1;this._cursorSegmentLengthLabel.overlaps(this._pathLengthLabel)&&(this._cursorSegmentLengthLabel.visible=!1),this._pathLengthLabel.overlaps(this._areaLabel)&&(this._pathLengthLabel.visible=!1);const c=\"geodesic\"===e.mode,d=c?i.geodesicPathLength:i.perimeterLength,u=a(null!=d?this._formatLengthLabel(this.messages,d,this.layerView.unit):null);if(this._set(\"perimeterLengthLabel\",a(u)),e.validMeasurement&&0===e.intersectingSegments.size){this._perimeterLengthLabel.distance=this._params.labelDistance,this._perimeterLengthLabel.anchor=\"top\",this._perimeterLengthLabel.text=u,this._perimeterLengthLabel.visible=!0;let t=!0;for(let i=0;i<e.path.numVertices;++i){const s=(e.perimeterLengthLabelSegmentIndex+i)%e.path.numVertices,r=c?this._pathSegments[s]:this._perimeterSegments[s];if(t=!0,this._perimeterLengthLabel.geometry={type:\"segment\",segment:r,sampleLocation:\"center\"},!this._perimeterLengthLabel.overlaps(this._areaLabel))break;t=!1}this._perimeterLengthLabel.visible=t&&o}else this._perimeterLengthLabel.visible=!1}_toPreferredAreaUnit(e,t){return e.toUnit(this._preferredAreaUnit(e,t))}_preferredAreaUnit(e,t){switch(t){case\"metric\":return c(e.value,e.unit);case\"imperial\":return m(e.value,e.unit);default:return t}}_preferredLengthUnit(e,t){const i=this._deriveLengthUnitFromAreaUnit(t);switch(i){case\"metric\":return u(e.value,e.unit);case\"imperial\":return d(e.value,e.unit);default:return i}}_deriveLengthUnitFromAreaUnit(e){switch(e){case\"metric\":return\"metric\";case\"imperial\":return\"imperial\";case\"square-inches\":return\"inches\";case\"square-feet\":return\"feet\";case\"square-yards\":return\"yards\";case\"square-miles\":return\"miles\";case\"square-us-feet\":return\"us-feet\";case\"square-millimeters\":return\"millimeters\";case\"square-centimeters\":return\"centimeters\";case\"square-decimeters\":return\"decimeters\";case\"square-meters\":return\"meters\";case\"square-kilometers\":return\"kilometers\";case\"acres\":return\"imperial\";case\"ares\":case\"hectares\":return\"metric\"}throw new Error(\"unhandled area unit\")}_formatAreaLabel(e,t,i){return e&&t&&l(e,t,this._preferredAreaUnit(t,i))}_formatLengthLabel(e,t,i){return e&&t&&l(e,t,this._preferredLengthUnit(t,i))}_updateMessageBundle(){I(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._update()}))}};e([g()],U.prototype,\"view\",void 0),e([g()],U.prototype,\"messages\",void 0),e([g()],U.prototype,\"analysis\",void 0),e([g()],U.prototype,\"viewData\",void 0),e([g()],U.prototype,\"layerView\",void 0),e([g({readOnly:!0})],U.prototype,\"areaLabel\",void 0),e([g({readOnly:!0})],U.prototype,\"perimeterLengthLabel\",void 0),e([g()],U.prototype,\"mode\",void 0),e([g({readOnly:!0})],U.prototype,\"visible\",null),e([g()],U.prototype,\"geodesicMeasurementDistanceThreshold\",void 0),U=e([_(\"esri.views.3d.layers.analysis.AreaMeasurement.AreaMeasurementView\")],U);const z={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:1,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,handleRadiusHovered:10,handleRadiusMouse:10,handleRadiusTouch:25,pathLineColor:[1,.5,0,1],pathLineWidth:3,intersectingLineColor:[1,.2,0,1],perimeterLineColor:[1,.5,0,1],perimeterLineWidth:2,projectionLineColor:[1,.5,0,1],projectionLineWidth:2,projectionLineStippleSize:5,areaColor1:[1,.5,0,.5],areaColor2:[1,1,1,.5],fillColor:[1,.5,0,.5],lineSubdivisions:64,labelDistance:25},k={validMeasurement:!1,path:null,pathVersion:-1,cursorPoint:null,measurementData:null,mode:null,positionsGeographic:null,positionsRenderCoords:null,positionsProjected:null,positionsFittedRenderCoords:null,intersectingSegments:null,triangleIndices:null,fittingMode:null,areaCentroid:null,pathLengthLabelSegmentIndex:null,perimeterLengthLabelSegmentIndex:null,checkerSize:null,geodesicCursorSegmentLength:null,cursorSegmentLength:null},O=new D(S(),S());export{U as AreaMeasurementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{unwrapOr as t,isSome as r,destroyMaybe as a}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as o}from\"../../../properties/defaultUnit.js\";import{LayerView3D as n}from\"./LayerView3D.js\";import{AreaMeasurementController as l}from\"./analysis/AreaMeasurement/AreaMeasurementController.js\";import{AreaMeasurementLayerViewData as p}from\"./analysis/AreaMeasurement/AreaMeasurementLayerViewData.js\";import{AreaMeasurementView as y}from\"./analysis/AreaMeasurement/AreaMeasurementView.js\";import h from\"../../layers/LayerView.js\";let u=class extends(n(h)){constructor(e){super(e),this.type=\"area-measurement-3d\",this.layerViewData=new p,this._userUnit=null}set unit(e){this._userUnit=e}get unit(){return t(this._userUnit,this._defaultUnit)}get result(){if(r(this.layerViewData.measurementData)){const e=this.layerViewData.measurementData;return{area:e.area,geodesicArea:e.geodesicArea,pathLength:e.pathLength,geodesicPathLength:e.geodesicPathLength,perimeterLength:e.perimeterLength}}return{area:null,geodesicArea:null,pathLength:null,geodesicPathLength:null,perimeterLength:null}}initialize(){this.layerViewData.path.view=this.view,this.layerViewData.path.areaMeasurement=this.layer,this.analysisView=new y({view:this.view,analysis:this.layer,layerView:this}),this.analysisController=new l({view:this.view,analysis:this.layer,layerViewData:this.layerViewData})}destroy(){this.analysisController=a(this.analysisController),this.analysisView=a(this.analysisView)}get testData(){return{view:this.analysisView,controller:this.analysisController}}};e([s()],u.prototype,\"type\",void 0),e([s()],u.prototype,\"analysisView\",void 0),e([s()],u.prototype,\"analysisController\",void 0),e([s()],u.prototype,\"unit\",null),e([s()],u.prototype,\"layer\",void 0),e([s()],u.prototype,\"result\",null),e([s()],u.prototype,\"layerViewData\",void 0),e([s(o)],u.prototype,\"_defaultUnit\",void 0),e([s()],u.prototype,\"_userUnit\",void 0),u=e([i(\"esri.views.3d.layers.AreaMeasurementLayerView3D\")],u);var m=u;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Handles.js\";import{isSome as t,isNone as i,unwrap as s}from\"../../../../../core/maybe.js\";import{screenPointObjectToArray as a}from\"../../../../../core/screenUtils.js\";import{c as r}from\"../../../../../chunks/vec3f64.js\";import{createSphereManipulator as n}from\"../../manipulatorUtils.js\";import{screenToMap3D as l}from\"../../editingTools/dragEventPipeline3D.js\";import{copyParameter as o,pointToPointScreenDistance as h,resizeArray as d}from\"../support/viewUtils.js\";import{LaserlineVisualElement as u}from\"../../visualElements/LaserlineVisualElement.js\";import _ from\"../../../webgl-engine/lib/GeometryUtil.js\";import{Intersector as c}from\"../../../webgl-engine/lib/Intersector.js\";import{ManipulatorCollection as p}from\"../../../../interactive/ManipulatorCollection.js\";const m={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:1,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,handleRadiusHovered:10,handleRadiusMouse:10,handleRadiusTouch:25,pathLineColor:[1,.5,0,1],pathLineWidth:3,intersectingLineColor:[1,.2,0,1],perimeterLineColor:[1,.5,0,1],perimeterLineWidth:2,projectionLineColor:[1,.5,0,1],projectionLineWidth:2,projectionLineStippleSize:5,areaColor1:[1,.5,0,.5],areaColor2:[1,1,1,.5],fillColor:[1,.5,0,.5],lineSubdivisions:64,labelDistance:25};class w{constructor(e){var t,i,s,a;this.vertexManipulators=[],this._layerView=null,this._analysisView=null,this._state=\"pending\",this._mode=\"auto\",this._cursorPoint=null,this._lastDraggedVertex=null,this._visible=!1,this._laserLine=null,this._cursorManipulator=null,this._listenerHandles=null,this._tempHandlePosition=r(),this._model=e.model,this._unit=null!=(t=e.unit)?t:\"metric\",this._manipulators=null!=(i=e.manipulators)?i:new p,this._view=this._model.sceneView,this._mode=null!=(s=e.mode)?s:\"auto\",this._cursorPoint=null!=(a=e.cursorPoint)?a:null,this._style=o(m,e.style),this._intersector=new c(this._view.state.viewingMode),this._intersector.options.store=0;const n=this._model.analysis;this._creationPromise=this._view.whenLayerView(n).then((e=>this._initialize(e)))}_initialize(e){switch(this._state){case\"pending\":break;case\"destroyed\":return}this._layerView=e,this._analysisView=e.analysisView,this._layerViewData=e.layerViewData;const t=n(this._view,this._style.handleColor,this._style.handleOpacity);t.available=!1,t.radius=this._style.handleRadius,t.interactive=!1,this._manipulators.add(t),this._cursorManipulator=t,this._laserLine=new u({view:this._view,attached:!0,style:{glowColor:this._style.laserLineGlowColor,glowWidth:this._style.laserLineGlowWidth,glowFalloff:this._style.laserLineGlowFalloff,innerColor:this._style.laserLineInnerColor,innerWidth:this._style.laserLineInnerWidth,globalAlpha:this._style.laserLineGlobalAlpha}}),this._analysisView.mode=this._mode,this._layerView.unit=this._unit,this._layerViewData.cursorPoint=this._cursorPoint,this._visible&&this._updateVisibility(this._visible),this._state=\"ready\"}destroy(){switch(this._state){case\"pending\":return void(this._state=\"destroyed\");case\"ready\":break;case\"destroyed\":default:return}this.hide(),this._laserLine.destroy(),this._laserLine=null,this._state=\"destroyed\"}when(){return this._creationPromise}async whenMessages(){return this._creationPromise.then((()=>this.analysisView.whenMessages()))}get state(){return this._state}get analysisView(){return this._analysisView}get layerView(){return this._layerView}get validMeasurement(){return\"ready\"===this.state&&this._layerViewData.validMeasurement}get path(){return\"ready\"!==this.state?null:this._layerViewData.path}set unit(e){this._unit=e,\"ready\"===this.state&&(this.layerView.unit=e)}get requiresCursorPoint(){return(\"initial\"===this._model.state||\"drawing\"===this._model.state)&&this._model.active}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get mode(){return this._mode}set mode(e){switch(this._state){case\"pending\":this._mode=e;break;case\"ready\":this._mode=e,this._analysisView.mode=e}}get cursorPoint(){return this._cursorPoint}set cursorPoint(e){switch(this._state){case\"pending\":this._cursorPoint=e;break;case\"ready\":this._cursorPoint=e,this._layerViewData.cursorPoint=e}}get lastDraggedVertex(){return this._lastDraggedVertex}set lastDraggedVertex(e){switch(this._state){case\"pending\":this._lastDraggedVertex=e;break;case\"ready\":this._lastDraggedVertex=e,this._layerViewData.lastDraggedVertex=e}}get testData(){const e=this._laserLine.testData;return{labels:this._analysisView.testData.labels,laserLineRenderer:t(e)?{heightManifoldEnabled:e.heightManifoldEnabled,heightManifoldTarget:e.heightManifoldTarget,pointDistanceEnabled:e.pointDistanceEnabled,pointDistanceOrigin:e.pointDistanceOrigin,pointDistanceTarget:e.pointDistanceTarget,lineVerticalPlaneEnabled:e.lineVerticalPlaneEnabled}:{heightManifoldEnabled:!1,heightManifoldTarget:null,pointDistanceEnabled:!1,pointDistanceOrigin:null,pointDistanceTarget:null,lineVerticalPlaneEnabled:!1}}}show(){this._setVisiblity(!0)}hide(){this._setVisiblity(!1)}_setVisiblity(e){switch(this._state){case\"ready\":this._visible!==e&&this._updateVisibility(e);break;case\"pending\":this._visible=e;break;case\"destroyed\":default:return}}_updateVisibility(e){e?(this._visible=!0,this._model.analysis.visible=!0,this._laserLine.visible=!0,this._initializeListeners(),this._updateAll(this._analysisView.viewData)):(this._visible=!1,this._model.analysis.visible=!1,this._laserLine.visible=!1,this._destroyListeners(),this.vertexManipulators.forEach((e=>{this._removeVertexManipulator(e.manipulator)})),this.vertexManipulators=[],this._view.cursor=null)}vertexHandleAt(e,i){const s=this._manipulators.intersect(e,i);return t(s)?s.manipulator.metadata:null}manipulatorToVertex(e){return e.metadata}pick(e){const t=this._view.spatialReference,s=a(e.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(s,this._intersector);const n=this._intersector.results.min,l=r();if(!n.getIntersectionPoint(l))return new w.PickResult;const o=this._view.renderCoordsHelper.fromRenderCoords(l,t);if(i(o))return new w.PickResult;const h=\"TerrainRenderer\"===n.intersector?\"surface\":\"feature\";return new w.PickResult(h,l,o)}overlappingHandles(e,t){return h(e,t,this._view)<=this._style.handleRadius}screenToMap3D(){return l(this._view)}finishMeasurement(){switch(this._state){case\"pending\":return;case\"ready\":{const e=this._layerViewData.path;return void(e.numVertices<3?(e.clear(),this.cursorPoint=null,this._model.state=\"initial\"):(e.close(),this.cursorPoint=null,this._model.state=\"measured\"))}}}_updateAll(e){this._visible&&(this._updateVertexManipulators(e),this._updateLaserLine())}_createVertexManipulator(){const e=n(this._view,this._style.handleColor,this._style.handleOpacity);e.radius=this._style.handleRadius;return{id:this._manipulators.add(e),manipulator:e}}_removeVertexManipulator(e){this._manipulators.remove(e)}_updateVertexManipulators(e){const i=this._layerViewData.path.vertices,s=this.vertexManipulators;d(s,i.length,(()=>this._createVertexManipulator()),(e=>this._removeVertexManipulator(e.manipulator))),s.forEach(((t,s)=>{t.manipulator.metadata=i[s],t.manipulator.renderLocation=e.positionsRenderCoords[s]})),\"drawing\"===this._model.state&&t(this.cursorPoint)?(this._cursorManipulator.available=!0,this._cursorManipulator.location=this.cursorPoint):this._cursorManipulator.available=!1}_getFocusPoint(){const e=this._model,i=this.lastDraggedVertex;switch(e.state){case\"drawing\":return t(this.cursorPoint)?this.cursorPoint:t(i)?this._layerViewData.path.getVertexPositionAsPoint(i):s(this._layerViewData.path.lastPoint);case\"editing\":return t(i)?this._layerViewData.path.getVertexPositionAsPoint(i):null;default:return this.cursorPoint}}_updateLaserLine(){const e=this._model,i=this._style.laserLineEnabled&&\"measured\"!==e.state&&e.active,s=this._getFocusPoint();if(i&&t(s)){const e=this._tempHandlePosition;this._view.renderCoordsHelper.toRenderCoords(s,e),this._laserLine.heightManifoldTarget=e}else this._laserLine.heightManifoldTarget=null}_initializeListeners(){this._listenerHandles=new e,this._listenerHandles.add([this._model.watch(\"state\",(()=>this._updateLaserLine())),this._analysisView.watch(\"viewData\",(()=>this._updateAll(this._analysisView.viewData)),!0),this._layerViewData.watch([\"lastDraggedVertex\",\"cursorPoint\"],(()=>this._updateLaserLine())),this._model.watch([\"active\"],(()=>this._updateAll(this._analysisView.viewData)))])}_destroyListeners(){this._listenerHandles.destroy(),this._listenerHandles=null}}w._handleGeometry=_.createSphereGeometry(1,32,32),function(e){class t{}e.PickRequest=t;class i{constructor(e=null,t=null,i=null){this.type=e,this.scenePoint=t,this.mapPoint=i}}e.PickResult=i}(w||(w={}));var y=w;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../../core/Handles.js\";import{isNone as e,unwrap as i}from\"../../../../../core/maybe.js\";import{clonePoint as s}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{hideManipulatorWhileDragging as o}from\"../../editingTools/dragEventPipeline3D.js\";import a from\"./AreaMeasurement3DView.js\";import{createManipulatorDragEventPipeline as n}from\"../../../../interactive/dragEventPipeline.js\";import{createScreenPointFromEvent as r}from\"../../../../support/screenUtils.js\";class h{constructor(e,i,s){this._manipulators=s,this._handles=new t,this._tempPickRequest=new a.PickRequest,this.model=e,this.view=i,this._setupManipulators()}destroy(){this._handles.destroy(),this._handles=null}handleInputEvent(t){switch(t.type){case\"immediate-double-click\":this._handleImmediateDoubleClick(t);break;case\"immediate-click\":this._handleImmediateClick(t);break;case\"pointer-move\":this._handlePointerMove(t);break;case\"drag\":this._handleDrag(t);break;case\"key-down\":this._handleKeyDown(t)}}_setupManipulators(){const t=t=>`manipulator-${t}`;let e=0;const a=t=>s=>(\"start\"===s.action&&(e++,this.view.lastDraggedVertex=i(this.view.manipulatorToVertex(t)),\"measured\"===this.model.state&&(this.model.state=\"editing\")),s),r=()=>t=>\"end\"===t.action?(e--,0===e&&\"editing\"===this.model.state&&(this.model.state=\"measured\"),null):t,h=(e,h)=>{this._handles.add([n(h,((t,e,n)=>{const h=o(t),d=i(this.view.manipulatorToVertex(t));e.next(a(t)).next(h).next(r()).next(this.view.screenToMap3D()).next((e=>{t.location=e.mapEnd,this.view.path.setVertexPosition(d,s(e.mapEnd))}));const l=s(this.view.path.getVertexPositionAsPoint(d));n.next(h).next((()=>{this.view.path.setVertexPosition(d,l),t.location=l}))}))],t(e))},d=e=>{this._handles.remove(t(e))};this._manipulators.forEach((({id:t,manipulator:e})=>{h(t,e)})),this._handles.add([this._manipulators.on(\"after-add\",(({item:{id:t,manipulator:e}})=>{h(t,e)})),this._manipulators.on(\"after-remove\",(({item:{id:t}})=>{d(t)}))])}_handleImmediateDoubleClick(t){d(t)&&(\"drawing\"===this.model.state&&this.view.finishMeasurement(),t.stopPropagation())}_handleDrag(t){\"editing\"===this.model.state&&t.stopPropagation()}_handleImmediateClick(t){if(!d(t))return;const i=r(t);if(this.model.active)switch(this.model.state){case\"initial\":if(this._addVertexAt(i))return this.view.cursorPoint=null,this.model.state=\"drawing\",void t.stopPropagation();break;case\"drawing\":{const s=this.view.vertexHandleAt(i,t.pointerType);if(e(s)){if(this._addVertexAt(i))return this.view.cursorPoint=null,void t.stopPropagation()}else 0===s.index&&(this.view.finishMeasurement(),t.stopPropagation());break}}\"mouse\"===t.pointerType&&this._hoverAt(i)}_handlePointerMove(t){if(\"mouse\"===t.pointerType){const e=r(t);this._hoverAt(e)}}_handleKeyDown(t){\"Enter\"===t.key&&\"drawing\"===this.model.state&&(this.view.finishMeasurement(),t.stopPropagation())}_hoverAt(t){if(this.view.requiresCursorPoint){const e=this._pick(t);e.mapPoint&&(this.view.cursorPoint=e.mapPoint)}else this.view.cursorPoint=null}_addVertexAt(t){const e=this._pick(t);return!!e.mapPoint&&(this.view.path.add(e.mapPoint),!0)}_pick(t){const e=this._tempPickRequest;return e.screenPoint=t,this.view.pick(e)}}function d(t){return\"mouse\"!==t.pointerType||0===t.button}export default h;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{applySome as e}from\"../core/maybe.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as s}from\"../core/accessorSupport/decorators/subclass.js\";import t from\"./Layer.js\";let p=class extends t{constructor(r){super(r),this.type=\"area-measurement\"}set geometry(r){this._set(\"geometry\",e(r,(r=>r.clone())))}};r([o({json:{read:!1},readOnly:!0})],p.prototype,\"type\",void 0),r([o({value:null})],p.prototype,\"geometry\",null),p=r([s(\"esri/layers/AreaMeasurementLayer\")],p);var a=p;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import s from\"../../../../../core/Accessor.js\";import t from\"../../../../../core/Handles.js\";import{property as r}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import i from\"../../../../../layers/AreaMeasurementLayer.js\";let a=class extends s{constructor(){super(...arguments),this._handles=new t,this.analysis=new i({listMode:\"hide\"}),this.state=\"initial\",this.active=!1}initialize(){this.sceneView.map.add(this.analysis),this.state=\"initial\"}destroy(){this._handles.destroy(),this._handles=null,this.sceneView.map.remove(this.analysis)}};e([r()],a.prototype,\"analysis\",void 0),e([r({constructOnly:!0})],a.prototype,\"sceneView\",void 0),e([r({value:\"initial\"})],a.prototype,\"state\",void 0),e([r()],a.prototype,\"active\",void 0),a=e([o(\"esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DModel\")],a);var c=a;export default c;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Handles.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import r from\"./AreaMeasurement3DController.js\";import a from\"./AreaMeasurement3DModel.js\";import o from\"./AreaMeasurement3DView.js\";import{InteractiveToolBase as n}from\"../../../../interactive/InteractiveToolBase.js\";let l=class extends n{constructor(e){super(e),this._handles=new t,this.model=new a({sceneView:e.view}),this.measurementView=new o({model:this.model,unit:e.unit,manipulators:this.manipulators})}initialize(){this.measurementView.when().then((()=>this._initialize()))}_initialize(){switch(this.toolState){case\"pending\":case\"creating\":case\"created\":break;case\"destroyed\":return}this._controller=new r(this.model,this.measurementView,this.manipulators),this.visible&&this.measurementView.show();const e=this.watch(\"state\",(e=>{switch(e){case\"measured\":this.complete();break;case\"measuring\":case\"ready\":default:this.finishToolCreation()}}));this._handles.add(e),\"measured\"===this.state?this.complete():this.startToolCreation()}destroy(){switch(this.toolState){case\"pending\":this.measurementView.destroy(),this._set(\"measurementView\",null),this.model.destroy(),this._set(\"model\",null);break;case\"creating\":case\"created\":this.detach(),this.measurementView.destroy(),this._set(\"measurementView\",null),this.model.destroy(),this._set(\"model\",null),this._controller.destroy(),this._controller=null,this._handles.destroy(),this._handles=null}}get state(){switch(this.model.state){case\"initial\":return this.measurementView.path.numVertices>=1?\"measuring\":\"ready\";case\"drawing\":case\"editing\":return\"measuring\";case\"measured\":return\"measured\"}}get isSupported(){return\"3d\"===this.get(\"view.type\")}get cursor(){switch(this.toolState){case\"destroyed\":return null;default:if(this.model.active&&(\"initial\"===this.model.state||\"drawing\"===this.model.state))return\"crosshair\"}return null}set unit(e){this._set(\"unit\",e),\"ready\"===this.measurementView.state&&(this.measurementView.layerView.unit=e)}activate(){this.model.active=!0}deactivate(){switch(this.toolState){case\"created\":case\"creating\":case\"pending\":this.model.active=!1}}onShow(){this.created&&this.measurementView.show()}onHide(){this.created&&this.measurementView.hide()}onDetach(){switch(this.toolState){case\"created\":case\"creating\":this.measurementView.path.clear(),this.measurementView.cursorPoint=null,this.model.state=\"initial\"}}onInputEvent(e){this._controller.handleInputEvent(e)}};e([s({readOnly:!0})],l.prototype,\"state\",null),e([s({readOnly:!0})],l.prototype,\"isSupported\",null),e([s({readOnly:!0})],l.prototype,\"cursor\",null),e([s()],l.prototype,\"unit\",null),e([s({constructOnly:!0})],l.prototype,\"model\",void 0),e([s({constructOnly:!0})],l.prototype,\"measurementView\",void 0),l=e([i(\"esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool\")],l);var m=l;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{measurementAreaUnits as i}from\"../../core/unitUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as n}from\"../../properties/defaultUnit.js\";import l from\"../../views/3d/interactive/measurementTools/areaMeasurement3D/AreaMeasurement3DTool.js\";import{InteractiveToolViewModel as a}from\"../support/InteractiveToolViewModel.js\";const u=s.getLogger(\"esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel\");let p=class extends a{constructor(t){super(t),this.supportedViewType=\"3d\",this._handles=new e,this._userUnitOptions=null,this._userUnit=null,this.tool=null}initialize(){this.tool&&(this.tool.unit=this.unit)}destroy(){this._handles&&(this._handles.destroy(),this._handles=null)}get state(){return this.isDisabled?\"disabled\":this.tool?this.tool.state:\"ready\"}get measurement(){if(!this.tool||this.isDisabled)return null;if(\"pending\"===this.tool.toolState||\"destroyed\"===this.tool.toolState)return null;const t=this.tool.measurementView;if(\"pending\"===t.state||\"destroyed\"===t.state)return null;const e=t.analysisView,s=e.viewData,i=s.mode,r=s.measurementData,o=s.validMeasurement,n=0===(\"euclidean\"===i?r.intersectingSegments:r.geodesicIntersectingSegments).size,l=n?o?\"available\":\"unavailable\":\"invalid\";return{mode:i,area:{text:n&&o?e.areaLabel:null,state:l},perimeterLength:{text:n&&o?e.perimeterLengthLabel:null,state:l}}}set unitOptions(t){this._userUnitOptions=t,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null,this.tool&&(this.tool.unit=this._userUnit),this.notifyChange(\"unit\")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}start(){return this.createTool()}clear(){this.removeTool()}createToolParams(){return{toolConstructor:l,constructorArguments:()=>({unit:this.unit})}}logUnsupportedError(){u.error(\"AreaMeasurement3D widget is not implemented for MapView\")}logError(...t){u.error(...t)}_findSelectableUnit(t,e){const s=this.unitOptions;return-1!==s.indexOf(t)?t:e?this._findSelectableUnit(e):s[0]}_filteredOrAllUnits(t){if(!t)return i.slice();const e=t.filter((t=>-1!==i.indexOf(t)));return 0===e.length?i.slice():e}};t([r({readOnly:!0})],p.prototype,\"state\",null),t([r({readOnly:!0})],p.prototype,\"measurement\",null),t([r({constructOnly:!0})],p.prototype,\"tool\",void 0),t([r(n)],p.prototype,\"defaultUnit\",void 0),t([r()],p.prototype,\"unitOptions\",null),t([r()],p.prototype,\"unit\",null),p=t([o(\"esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{isMeasurementSystem as s}from\"../core/unitUtils.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";import\"../views/3d/layers/AreaMeasurementLayerView3D.js\";import n from\"./Widget.js\";import o from\"./AreaMeasurement3D/AreaMeasurement3DViewModel.js\";import{accessibleHandler as l}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as u}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";const p=\"esri-area-measurement-3d\",c={buttonDisabled:\"esri-button--disabled\",base:`${p} esri-widget esri-widget--panel`,container:`${p}__container`,hint:`${p}__hint`,hintText:`${p}__hint-text`,panelError:`${p}__panel--error`,measurement:`${p}__measurement`,measurementItem:`${p}__measurement-item`,measurementItemDisabled:`${p}__measurement-item--disabled`,measurementItemTitle:`${p}__measurement-item-title`,measurementItemValue:`${p}__measurement-item-value`,settings:`${p}__settings`,units:`${p}__units`,unitsLabel:`${p}__units-label`,unitsSelect:`${p}__units-select esri-select`,unitsSelectWrapper:`${p}__units-select-wrapper`,actionSection:`${p}__actions`,newMeasurementButton:`${p}__clear-button esri-button esri-button--primary`,widgetIcon:\"esri-icon-measure-area\"};let d=class extends n{constructor(e,t){super(e,t),this.view=null,this.visible=null,this.iconClass=c.widgetIcon,this.label=void 0,this.messages=null,this.messagesUnits=null,this.viewModel=new o,this.unitOptions=null,this.unit=null}render(){const{isSupported:e,active:t,measurement:i,state:r,unit:a}=this.viewModel,n=\"disabled\"===r,o=\"ready\"===r,l=\"measuring\"===r||\"measured\"===r,{messages:u,messagesUnits:p}=this,d=t&&o?m(\"section\",{key:\"esri-area-measurement-3d__hint\",class:c.hint},m(\"p\",{class:c.hintText},u.hint)):null,v=e?null:m(\"section\",{key:\"esri-area-measurement-3d__unsupported\",class:c.panelError},m(\"p\",null,u.unsupported)),_=(e,t,s)=>{switch(t.state){case\"available\":return m(\"div\",{key:`${s}-enabled`,class:c.measurementItem},m(\"span\",{class:c.measurementItemTitle},e),m(\"span\",{class:c.measurementItemValue},t.text));case\"unavailable\":return m(\"div\",{key:`${s}-disabled`,class:this.classes(c.measurementItem,c.measurementItemDisabled)},m(\"span\",{class:c.measurementItemTitle},e));case\"invalid\":return m(\"div\",{key:`${s}-enabled`,class:c.measurementItem},m(\"span\",{class:c.measurementItemTitle},e),m(\"span\",{class:c.measurementItemValue},u.notApplicable))}},b=l?m(\"section\",{key:\"esri-area-measurement-3d__measurement\",class:c.measurement},_(u.area,i.area,\"area\"),_(u.perimeterLength,i.perimeterLength,\"perimeter-length\")):null,h=`${this.id}__units`,g=m(\"label\",{class:c.unitsLabel,for:h},u.unit),w=m(\"div\",{class:c.unitsSelectWrapper},m(\"select\",{class:c.unitsSelect,id:h,onchange:this._changeUnit,bind:this,value:a},this.viewModel.unitOptions.map((e=>{var t;return m(\"option\",{key:e,value:e},s(e)?p.systems[e]:null==(t=p.units[e])?void 0:t.pluralCapitalized)})))),y=l?m(\"section\",{key:\"esri-area-measurement-3d__units\",class:c.units},g,w):null,M=l?m(\"div\",{key:\"settings\",class:c.settings},y):null,$=!e||t&&!l?null:m(\"div\",{class:c.actionSection},m(\"button\",{disabled:n,class:this.classes(c.newMeasurementButton,n&&c.buttonDisabled),bind:this,onclick:this._newMeasurement,type:\"button\"},u.newMeasurement)),j=this.visible?m(\"div\",{class:c.container},v,d,M,b,$):null;return m(\"div\",{key:this,class:c.base,role:\"presentation\"},j)}_newMeasurement(){t(this.viewModel.start())}_changeUnit(e){const t=e.target,s=t.options[t.selectedIndex];s&&(this.unit=s.value)}};e([i(\"viewModel.view\")],d.prototype,\"view\",void 0),e([i(\"viewModel.visible\")],d.prototype,\"visible\",void 0),e([i(\"viewModel.active\")],d.prototype,\"active\",void 0),e([r()],d.prototype,\"iconClass\",void 0),e([r({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],d.prototype,\"label\",void 0),e([r()],d.prototype,\"localeStrings\",void 0),e([r(),u(\"esri/widgets/AreaMeasurement3D/t9n/AreaMeasurement3D\")],d.prototype,\"messages\",void 0),e([r(),u(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([r({type:o})],d.prototype,\"viewModel\",void 0),e([i(\"viewModel.unitOptions\")],d.prototype,\"unitOptions\",void 0),e([i(\"viewModel.unit\")],d.prototype,\"unit\",void 0),e([l()],d.prototype,\"_newMeasurement\",null),e([l()],d.prototype,\"_changeUnit\",null),d=e([a(\"esri.widgets.AreaMeasurement3D\")],d);var v=d;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../core/arrayUtils.js\";import e from\"../../../core/Evented.js\";import{isSome as s,isNone as r}from\"../../../core/maybe.js\";import i from\"../../../geometry/Polygon.js\";import n from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";class h{constructor(t){this.left=null,this.right=null,this.type=\"vertex\",this.index=null,this.component=t}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}}class c{constructor(t,e,s){this.type=\"edge\",this.component=t,this.left=e,this.right=s,e.right=this,s.left=this}}class l{constructor(t){this.vertices=[],this.edges=[],this.data=t}unnormalizeVertexPositions(){this.vertices.length<=1||this.data.coordinateHelper.unnormalize(this.vertices)}updateVertexIndex(t,e){if(0===this.vertices.length)return;const s=this.vertices[0];let r=null,i=t,n=e;do{r=i,r.index=n++,i=r.right?r.right.right:null}while(null!=i&&i!==s);r.left&&r!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(r),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].left}swapVertices(t,e){const s=this.vertices[t];this.vertices[t]=this.vertices[e],this.vertices[e]=s}iterateVertices(t){if(0===this.vertices.length)return;const e=this.vertices[0];let r=e;do{t(r,r.index),r=s(r.right)?r.right.right:null}while(r!==e&&null!=r)}}class a extends e{constructor(t){super(),this.coordinateHelper=t,this.undoStack=[],this.redoStack=[],this.components=[]}apply(t,e=1){return 0!==e&&!r(this.lastOperation)&&this.lastOperation.accumulate(t)||(t.apply(),this.undoStack.push(t),this.redoStack=[]),t}undo(){if(this.undoStack.length>0){const t=this.undoStack.pop();return t.undo(),this.redoStack.push(t),t}return null}get canUndo(){return this.undoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}redo(){if(this.redoStack.length>0){const t=this.redoStack.pop();return t.apply(),this.undoStack.push(t),t}return null}get canRedo(){return this.redoStack.length>0}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.createPoint(this.components[0].vertices[0].pos)}toPolyline(){const t=[],e=this.coordinateHelper.toArray;return this.components.forEach(((s,r)=>{const i=[];let n=s.vertices.find((t=>null==t.left));const o=n;do{i.push(e(n.pos)),n=n.right?n.right.right:null}while(n&&n!==o);t.push(i)})),new n({paths:t,spatialReference:this.coordinateHelper.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}toPolygon(){const t=[],e=this.coordinateHelper.toArray;return this.components.forEach(((r,i)=>{const n=[],o=r.vertices[0];let h=o;const c=h;do{n.push(e(h.pos)),h=s(h.right)?h.right.right:null}while(h&&h!==c);r.isClosed()&&n.push(e(o.pos)),t.push(n)})),new i({rings:t,spatialReference:this.coordinateHelper.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(e,s){const r=o(e.hasZ,e.hasM,e.spatialReference,s),i=new a(r);switch(e.type){case\"polygon\":{const s=e.rings;for(let e=0;e<s.length;++e){const n=s[e],o=new l(i),a=n.length>2&&t(n[0],n[n.length-1]),p=a?n.length-1:n.length;for(let t=0;t<p;++t){const e=r.fromArray(n[t]),s=new h(o);o.vertices.push(s),s.pos=e,s.index=t}const u=o.vertices.length-1;for(let t=0;t<u;++t){const e=o.vertices[t],s=o.vertices[t+1],r=new c(o,e,s);o.edges.push(r)}if(a){const t=new c(o,o.vertices[o.vertices.length-1],o.vertices[0]);o.edges.push(t)}i.components.push(o)}}break;case\"polyline\":for(const t of e.paths){const e=new l(i),s=t.length;for(let i=0;i<s;++i){const s=r.fromArray(t[i]),n=new h(e);e.vertices.push(n),n.pos=s,n.index=i}const n=e.vertices.length-1;for(let t=0;t<n;++t){const s=e.vertices[t],r=e.vertices[t+1],i=new c(e,s,r);e.edges.push(i)}i.components.push(e)}break;case\"point\":{const t=new l(i),s=new h(t);s.index=0,s.pos=i.coordinateHelper.fromPoint(e),t.vertices.push(s),i.components.push(t)}}return i}}export{l as Component,c as Edge,a as EditGeometry,h as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l()],p.prototype,\"fullOpacity\",null),e([l()],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"parent\",void 0),e([l({readOnly:!0})],p.prototype,\"suspended\",null),e([l({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([l({readOnly:!0})],p.prototype,\"updatingProgress\",null),e([l()],p.prototype,\"visible\",null),p=e([a(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nvar e,n,t={exports:{}};e=t,void 0!==(n=function(){function e(e,t,x){x=x||2;var i,v,u,y,o,p,a,h=t&&t.length,l=h?t[0]*x:e.length,s=n(e,0,l,x,!0),c=[];if(!s||s.next===s.prev)return c;if(h&&(s=f(e,t,s,x)),e.length>80*x){i=u=e[0],v=y=e[1];for(var Z=x;Z<l;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<v&&(v=p),o>u&&(u=o),p>y&&(y=p);a=0!==(a=Math.max(u-i,y-v))?1/a:0}return r(s,c,x,i,v,a),c}function n(e,n,t,r,x){var i,v;if(x===D(e,n,t,r)>0)for(i=n;i<t;i+=r)v=A(i,e[i],e[i+1],v);else for(i=t-r;i>=n;i-=r)v=A(i,e[i],e[i+1],v);return v&&w(v,v.next)&&(B(v),v=v.next),v}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!w(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(B(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&h(e,y,o,p);for(var l,s,c=e;e.prev!==e.next;)if(l=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(l.i/f),n.push(e.i/f),n.push(s.i/f),B(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=v(t(e),n,f),n,f,y,o,p,2):2===a&&u(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(d(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(Z(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&d(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,v=e.next;if(d(x,i,v)>=0)return!1;for(var u=x.x<i.x?x.x<v.x?x.x:v.x:i.x<v.x?i.x:v.x,f=x.y<i.y?x.y<v.y?x.y:v.y:i.y<v.y?i.y:v.y,y=x.x>i.x?x.x>v.x?x.x:v.x:i.x>v.x?i.x:v.x,o=x.y>i.y?x.y>v.y?x.y:v.y:i.y>v.y?i.y:v.y,p=s(u,f,n,t,r),a=s(y,o,n,t,r),h=e.prevZ,l=e.nextZ;h&&h.z>=p&&l&&l.z<=a;){if(h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,h.x,h.y)&&d(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,l.x,l.y)&&d(l.prev,l,l.next)>=0)return!1;l=l.nextZ}for(;h&&h.z>=p;){if(h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,h.x,h.y)&&d(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;l&&l.z<=a;){if(l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,l.x,l.y)&&d(l.prev,l,l.next)>=0)return!1;l=l.nextZ}return!0}function v(e,n,r){var x=e;do{var i=x.prev,v=x.next.next;!w(i,v)&&M(i,x,x.next,v)&&k(i,v)&&k(v,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(v.i/r),B(x),B(x.next),x=e=v),x=x.next}while(x!==e);return t(x)}function u(e,n,x,i,v,u){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&g(f,y)){var o=q(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,v,u),void r(o,n,x,i,v,u)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var v,u,f,p=[];for(v=0,u=r.length;v<u;v++)(f=n(e,r[v]*i,v<u-1?r[v+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(c(f));for(p.sort(y),v=0;v<p.length;v++)o(p[v],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=q(n,e);t(n,n.next),t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,v=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=x&&u>v){if(v=u,u===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===v)return t;var f,y=t,o=t.x,p=t.y,h=1/0;r=t;do{x>=r.x&&r.x>=o&&x!==r.x&&Z(i<p?x:v,i,o,p,i<p?v:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),k(r,e)&&(f<h||f===h&&(r.x>t.x||r.x===t.x&&a(t,r)))&&(t=r,h=f)),r=r.next}while(r!==y);return t}function a(e,n){return d(e.prev,e,n.prev)<0&&d(n.next,e,e.next)<0}function h(e,n,t,r){var x=e;do{if(null===x.z&&(x.z=s(x.x,x.y,n,t,r)),x.prev.next!==x||x.next.prev!==x)return x.prev.next=x,x.next.prev=x,h(e,n,t,r);x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,l(x)}function l(e){var n,t,r,x,i,v,u,f,y=1;do{for(t=e,e=null,i=null,v=0;t;){for(v++,r=t,u=0,n=0;n<y&&(u++,r=r.nextZ);n++);for(f=y;u>0||f>0&&r;)0!==u&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,u--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(v>1);return e}function s(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function c(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function Z(e,n,t,r,x,i,v,u){return(x-v)*(n-u)-(e-v)*(i-u)>=0&&(e-v)*(r-u)-(t-v)*(n-u)>=0&&(t-v)*(i-u)-(x-v)*(r-u)>=0}function g(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!m(e,n)&&(k(e,n)&&k(n,e)&&j(e,n)&&(d(e.prev,e,n.prev)||d(e,n.prev,n))||w(e,n)&&d(e.prev,e,e.next)>0&&d(n.prev,n,n.next)>0)}function d(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function w(e,n){return e.x===n.x&&e.y===n.y}function M(e,n,t,r){var x=b(d(e,n,t)),i=b(d(e,n,r)),v=b(d(t,r,e)),u=b(d(t,r,n));return x!==i&&v!==u||!(0!==x||!z(e,t,n))||!(0!==i||!z(e,r,n))||!(0!==v||!z(t,e,r))||!(0!==u||!z(t,n,r))}function z(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function b(e){return e>0?1:e<0?-1:0}function m(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&M(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function k(e,n){return d(e.prev,e,e.next)<0?d(e,n,e.next)>=0&&d(e,e.prev,n)>=0:d(e,n,e.prev)<0||d(e,e.next,n)<0}function j(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function q(e,n){var t=new C(e.i,e.x,e.y),r=new C(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function A(e,n,t,r){var x=new C(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,n,t,r){for(var x=0,i=n,v=t-r;i<t;i+=r)x+=(e[v]-e[i])*(e[i+1]+e[v+1]),v=i;return x}return e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,v=Math.abs(D(e,0,i,t));if(x)for(var u=0,f=n.length;u<f;u++){var y=n[u]*t,o=u<f-1?n[u+1]*t:e.length;v-=Math.abs(D(e,y,o,t))}var p=0;for(u=0;u<r.length;u+=3){var a=r[u]*t,h=r[u+1]*t,l=r[u+2]*t;p+=Math.abs((e[a]-e[l])*(e[h+1]-e[a+1])-(e[a]-e[h])*(e[l+1]-e[a+1]))}return 0===v&&0===p?0:Math.abs((p-v)/v)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var v=0;v<n;v++)t.vertices.push(e[x][i][v]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t},e}())&&(e.exports=n);var r=t.exports;export{r as e};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`int chooseCascade(float _linearDepth, out mat4 mat) {\nvec4 distance = uShadowMapDistance;\nfloat depth = _linearDepth;\nint i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\nmat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\nreturn i;\n}\nvec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\nvec4 lv = mat * vec4(_vpos, 1.0);\nlv.xy /= lv.w;\nreturn 0.5 * lv.xyz + vec3(0.5);\n}\nvec2 cascadeCoordinates(int i, vec3 lvpos) {\nreturn vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n}\nfloat readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\nreturn rgba2float(texture2D(_depthTex, uv));\n}\nfloat posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\nreturn readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n}\nfloat filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\nfloat texSize = 0.5 / halfPixelSize;\nvec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\nfloat s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\nfloat s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\nfloat s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\nfloat s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat readShadowMap(const in vec3 _vpos, float _linearDepth) {\nmat4 mat;\nint i = chooseCascade(_linearDepth, mat);\nif (i >= uShadowMapNum) { return 0.0; }\nvec3 lvpos = lightSpacePosition(_vpos, mat);\nif (lvpos.z >= 1.0) { return 0.0; }\nif (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\nvec2 uv = cascadeCoordinates(i, lvpos);\nreturn filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n}`)}function o(a,e){e.shadowMappingEnabled&&(e.shadowMap.bind(a),e.shadowMap.bindView(a,e.origin))}function i(a,e,t){e.shadowMappingEnabled&&e.shadowMap.bindView(a,t)}function l(a,e){e.shadowMappingEnabled&&e.shadowMap.bindView(a,e.origin)}export{t as ReadShadowMap,o as bindReadShadowMapUniforms,l as bindReadShadowMapView,i as bindReadShadowMapViewCustomOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as e,m as t,a as r,b as a,h as n,p as s,r as i,d as o}from\"../../chunks/vec2.js\";import{a as u,f as h,d as p}from\"../../chunks/vec2f64.js\";import{i as c,g as l,e as f}from\"../../chunks/vec3.js\";import{f as y,c as m,d}from\"../../chunks/vec3f64.js\";import{c as v,l as g}from\"../../chunks/vec4.js\";import{c as R,f as z,b as x}from\"../../chunks/vec4f64.js\";import T from\"../../geometry/Point.js\";import{getInfo as Z}from\"../../geometry/support/spatialReferenceUtils.js\";const w=u();class M{constructor(e,t){this.spatialReference=e,this.viewingMode=t,this._unnormalizationInfo=B(e,t)}tag(e){return e}createNew(){return this.tag(u())}fromPoint(e){return this.tag(h(e.x,e.y))}fromArray(e){return this.tag(h(e[0],e[1]))}toArray(e){return[e[0],e[1]]}clone(e){return this.tag(p(e))}copy(t,r){return e(r,t)}toPoint(e,t){return t.x=e[0],t.y=e[1],t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,r,a,n){return t(n,e,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return[e.x,e.y]}getZ(e,t){return t}hasZ(){return!1}getM(e,t){return t}hasM(){return!1}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e){return this.tag(h(e[0],e[1]))}toXYZ(e,t=0){return y(e[0],e[1],t)}distance(e,t){return o(e,t)}}class P{constructor(e,t,r){this.valueType=e,this.spatialReference=t,this._unnormalizationInfo=B(t,r)}distance(e,t){return 0===this.valueType?c(e,t):o(e,t)}tag(e){return e}createNew(){return this.tag(m())}fromPoint(e){return this.tag(y(e.x,e.y,0===this.valueType?e.z:e.m))}fromArray(e){return this.tag(y(e[0],e[1],e[2]||0))}toArray(e){return[e[0],e[1],e[2]]}clone(e){return this.tag(d(e))}copy(e,t){return l(t,e)}toPoint(e,t){return t.x=e[0],t.y=e[1],0===this.valueType?(t.z=e[2],t.hasZ=!0,t.hasM=!1):(t.m=e[2],t.hasZ=!1,t.hasM=!0),t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})}createDehydratedPoint(e){const t=0===this.valueType,r=1===this.valueType;return{x:e[0],y:e[1],z:t?e[2]:void 0,m:r?e[2]:void 0,hasZ:t,hasM:r,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return f(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,0===this.valueType&&(e[2]+=a)}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}getZ(e,t){return 0===this.valueType?e[2]:t}hasZ(){return 0===this.valueType}getM(e,t){return 1===this.valueType?e[2]:t}hasM(){return 1===this.valueType}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(y(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:r))}toXYZ(e,t=0){return this.tag(y(e[0],e[1],0===this.valueType?e[2]:t))}}class X{constructor(e,t){this.spatialReference=e,this._unnormalizationInfo=B(e,t)}distance(e,t){return c(e,t)}tag(e){return e}createNew(){return this.tag(R())}fromPoint(e){return this.tag(z(e.x,e.y,e.z,e.m))}fromArray(e){return this.tag(z(e[0],e[1],e[2]||0,e[3]||0))}toArray(e){return[e[0],e[1],e[2],e[3]]}clone(e){return this.tag(x(e))}copy(e,t){return v(t,e)}toPoint(e,t){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}createPoint(e){return new T({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createPointFromArray(e){return new T({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})}createDehydratedPoint(e){return{x:e[0],y:e[1],z:e[2],m:e[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:\"point\"}}lerp(e,t,r,a){return g(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}scale(e,t,i,o){const u=r(w,e,t),h=a(w,i,n(i,u));s(e,e,h,o-1)}rotate(e,t,r){i(e,e,t,r)}pointToArray(e){return[e.x,e.y,e.z,e.m]}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}unnormalize(e){j(e,this._unnormalizationInfo)}fromXYZ(e,t=0,r=0){return this.tag(z(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e){return y(e[0],e[1],e[2])}}function A(e,t,r,a){return e&&t?new X(r,a):t?new P(1,r,a):e?new P(0,r,a):new M(r,a)}function j(e,t){if(!t.supported)return;let r=1/0,a=-1/0;const n=t.upperBoundX-t.lowerBoundX;e.forEach((e=>{let s=e.pos[0];for(;s<t.lowerBoundX;)s+=n;for(;s>t.upperBoundX;)s-=n;r=Math.min(r,s),a=Math.max(a,s),e.pos[0]=s}));const s=a-r;n-s<s&&e.forEach((e=>{e.pos[0]<0&&(e.pos[0]+=n)}))}function B(e,t){const r=Z(e);return\"global\"===t&&r?{supported:!0,lowerBoundX:r.valid[0],upperBoundX:r.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{M as CoordinateHelper2D,P as CoordinateHelper3D,X as CoordinateHelper4D,A as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`void forwardLinearDepth() { linearDepth = gl_Position.w; }`)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`void forwardLinearDepth() {\nlinearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n}`)):a.vertex.code.add(e`void forwardLinearDepth() {}`)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n{\nreturn ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n}`),a.add(e`float integratedRadiance(float cosTheta2, float roughness)\n{\nreturn (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n}`),a.add(e`vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n{\nfloat cosTheta2 = 1.0 - RdotNG * RdotNG;\nfloat intRadTheta = integratedRadiance(cosTheta2, roughness);\nfloat ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\nfloat sky = 2.0 - ground;\nreturn (ground * ambientGround + sky * ambientSky) * 0.5;\n}`)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{AnalyticalSkyModel as e}from\"./AnalyticalSkyModel.glsl.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function a(a,n){const r=a.fragment.code;a.include(o),3===n.pbrMode||4===n.pbrMode?(r.add(t`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${n.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(t`vec3 fresnelReflection(float angle, vec3 f0, float f90) {\nreturn f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n}`),r.add(t`float normalDistributionWater(float NdotH, float roughness)\n{\nfloat r2 = roughness * roughness;\nfloat NdotH2 = NdotH * NdotH;\nfloat denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\nreturn r2 / denom;\n}`),r.add(t`float geometricOcclusionKelemen(float LoH)\n{\nreturn 0.25 / (LoH * LoH);\n}`),r.add(t`vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n{\nvec3  F = fresnelReflection(props.VdotH, F0, F0Max);\nfloat dSun = normalDistributionWater(props.NdotH, roughness);\nfloat V = geometricOcclusionKelemen(props.LdotH);\nfloat diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\nfloat strengthSunHaze  = 1.2;\nfloat dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\nreturn ((dSun + dSunHaze) * V) * F;\n}\nvec3 tonemapACES(const vec3 x) {\nreturn (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n}`)):1!==n.pbrMode&&2!==n.pbrMode||(a.include(e),r.add(t`struct PBRShadingInfo\n{\nfloat NdotL;\nfloat NdotV;\nfloat NdotH;\nfloat VdotH;\nfloat LdotH;\nfloat NdotNG;\nfloat RdotNG;\nfloat NdotAmbDir;\nfloat NdotH_Horizon;\nvec3 skyRadianceToSurface;\nvec3 groundRadianceToSurface;\nvec3 skyIrradianceToSurface;\nvec3 groundIrradianceToSurface;\nfloat averageAmbientRadiance;\nfloat ssao;\nvec3 albedoLinear;\nvec3 f0;\nvec3 f90;\nvec3 diffuseColor;\nfloat metalness;\nfloat roughness;\n};`),r.add(t`float normalDistribution(float NdotH, float roughness)\n{\nfloat a = NdotH * roughness;\nfloat b = roughness / (1.0 - NdotH * NdotH + a * a);\nreturn b * b * INV_PI;\n}`),r.add(t`const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\nconst vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\nconst vec2 c2 = vec2(-1.04, 1.04);\nvec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\nreturn c2 * a004 + r.zw;\n}`),r.add(t`vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\nvec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\nvec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\nvec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\nvec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\nvec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\nvec3 specularComponent = specularColor * indirectSpecular;\nreturn (diffuseComponent + specularComponent);\n}`),r.add(t`float gamutMapChanel(float x, vec2 p){\nreturn (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n}`),r.add(t`vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\nvec3 outColor;\nvec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\noutColor.x = gamutMapChanel(inColor.x, p) ;\noutColor.y = gamutMapChanel(inColor.y, p) ;\noutColor.z = gamutMapChanel(inColor.z, p) ;\nreturn outColor;\n}`))}export{a as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){var u;const c=n.byteLength/(4*f),s=new Uint32Array(n,0,c*f);let a=new Uint32Array(c);const h=null!=(u=null==i?void 0:i.minReduction)?u:0,d=(null==i?void 0:i.originalIndices)||null,g=d?d.length:0,y=(null==i?void 0:i.componentOffsets)||null;let U=0;if(y)for(let t=0;t<y.length-1;t++){const n=y[t+1]-y[t];n>U&&(U=n)}else U=c;const w=Math.floor(1.1*U)+1;(null==o||o.length<2*w)&&(o=new Uint32Array(t(2*w)));for(let t=0;t<2*w;t++)o[t]=0;let A=0;const m=!!y&&!!d,b=m?g:c,p=m?new Uint32Array(g):null,v=1.96;let M=0!==h?Math.ceil(4*v*v/(h*h)*h*(1-h)):b,q=1,x=y?y[1]:b;for(let t=0;t<b;t++){if(t===M){const n=1-A/t;if(n+v*Math.sqrt(n*(1-n)/t)<h)return null;M*=2}if(t===x){for(let t=0;t<2*w;t++)o[t]=0;if(d)for(let t=y[q-1];t<y[q];t++)p[t]=a[d[t]];x=y[++q]}const n=m?d[t]:t,l=n*f,i=r(s,l,f);let u=i%w,c=A;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(s,l,t*f,f)){c=a[t];break}}u++,u>=w&&(u-=w)}c===A&&(o[2*u]=i,o[2*u+1]=n+1,A++),a[n]=c}if(0!==h&&1-A/c<h)return null;if(m){for(let t=y[q-1];t<p.length;t++)p[t]=a[d[t]];a=p}const j=new Uint32Array(f*A);A=0;for(let t=0;t<b;t++)if(a[t]===A){l(s,(m?d[t]:t)*f,j,A*f,f),A++}if(d&&!m){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=a[d[n]];a=t}return{buffer:j.buffer,indices:a,uniqueCount:A}}function e(t,n,e,l){for(let r=0;r<l;r++)if(t[n+r]!==t[e+r])return!1;return!0}function l(t,n,e,l,r){for(let o=0;o<r;o++)e[l+o]=t[n+o]}function r(t,n,e){let l=0;for(let r=0;r<e;r++)l=t[n+r]+l|0,l=l+(l<<11)+(l>>>2)|0;return l>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Logger.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{isSome as e}from\"../../../../core/maybe.js\";import{createScreenPointArray as r,createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{d as h,m as n,k as o,a,e as _,l as p}from\"../../../../chunks/mat4.js\";import{c as u}from\"../../../../chunks/mat4f64.js\";import{c as v,k as c}from\"../../../../chunks/vec2.js\";import{f as w}from\"../../../../chunks/vec2f64.js\";import{g as d,f as l,i as g,k as y,w as m,d as f,x,y as D,a as j,l as M,s as R,c as P,n as F,r as V}from\"../../../../chunks/vec3.js\";import{c as S,a as T,f as I}from\"../../../../chunks/vec3f64.js\";import{c as b,g as k,i as U,t as A}from\"../../../../chunks/vec4.js\";import{f as C,c as E}from\"../../../../chunks/vec4f64.js\";import{create as z,copy as H,fromMatrix as W}from\"../../../../geometry/support/frustum.js\";import{create as L}from\"../../../../geometry/support/ray.js\";import{projectPointSignedLength as G}from\"../../../../geometry/support/vector.js\";import{fovd2fovx as X,fovx2fovd as Y,fovd2fovy as q,fovy2fovd as N}from\"./Util.js\";const B=t.getLogger(\"esri.views.3d.webgl-engine.lib.Camera\");class J{constructor(t=null,i=null,r=null){this._viewUp=S(),this._viewForward=S(),this._viewRight=S(),this._ray=L(),this._viewport=C(0,0,1,1),this._padding=C(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=w(1,1e3),this._viewDirty=!0,this._viewMatrix=u(),this._projectionDirty=!0,this._projectionMatrix=u(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=u(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=u(),this._frustumDirty=!0,this._frustum=z(),this._fullViewport=E(),this.pixelRatio=1,this.relativeElevation=0,e(t)&&d(this._ray.origin,t),this._center=e(i)?T(i):S(),this._up=e(r)?T(r):I(0,0,1)}get eye(){return this._ray.origin}set eye(t){this._compareAndSetView(t,this._ray.origin)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return l(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){h(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),b(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(n(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;o(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){h(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return X(this._fov,this.width,this.height)}set fovX(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return q(this._fov,this.width,this.height)}set fovY(t){this._fov=N(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return g(this._center,this.eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(a(this._viewInverseTransposeMatrix,this.viewMatrix),_(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){d(this._ray.origin,t.eye),d(this._center,t.center),d(this._up,t.up),b(this._viewport,t.viewport),b(this._padding,t.padding),v(this._nearFar,t.nearFar),this._fov=t.fov,this.relativeElevation=t.relativeElevation;const i=t;return this._viewDirty=i._viewDirty,this._viewDirty||(h(this._viewMatrix,t.viewMatrix),d(this._viewRight,t.viewRight),d(this._viewUp,t.viewUp),d(this._viewForward,t.viewForward)),i._projectionDirty?this._projectionDirty=!0:(h(this._projectionMatrix,t.projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H(t.frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(h(this._viewInverseTransposeMatrix,t.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),b(this._fullViewport,t.fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new J).copyFrom(this)}equals(t){return y(this.eye,t.eye)&&y(this._center,t.center)&&y(this._up,t.up)&&k(this._viewport,t.viewport)&&k(this._padding,t.padding)&&c(this._nearFar,t.nearFar)&&this._fov===t.fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t.fov-this._fov)>=.001)return!1;const i=5e-4,e=1-1e-10;m(Q,t.eye,t.center),m(Z,this.eye,this._center);const r=f(Q,Z),s=x(Q),h=x(Z);return r*r>=e*s*h&&D(t.eye,this.eye)<Math.max(s,h)*i*i&&U(t.padding,this._padding)<.5&&U(t.viewport,this._viewport)<.5}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(G(this.viewForward,l(Q,t,this.eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=r()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=s()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==K&&d(K,t),K[3]=1,r&&(e[2]=-K[2]),A(K,K,this.projectionMatrix),j(K,K,1/Math.abs(K[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*K[0]),e[1]=i(0,s[1]+s[3],.5+.5*K[1]),r||(e[2]=.5*(K[2]+1)),e}projectToScreen(t,i){this.projectToRenderScreen(t,$),this.renderToScreen($,i)}projectToRenderScreen(t,e){if(K[0]=t[0],K[1]=t[1],K[2]=t[2],K[3]=1,A(K,K,this.viewProjectionMatrix),0===K[3])return null;j(K,K,1/Math.abs(K[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*K[0]),e.y=i(0,r[1]+r[3],.5+.5*K[1])):(e[0]=i(0,r[0]+r[2],.5+.5*K[0]),e[1]=i(0,r[1]+r[3],.5+.5*K[1]),e.length>2&&(e[2]=.5*(K[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,$),i)}unprojectFromRenderScreen(t,i){if(n(O,this.projectionMatrix,this.viewMatrix),!a(O,O))return null;const e=this.fullViewport;return K[0]=2*(t[0]-e[0])/e[2]-1,K[1]=2*(t[1]-e[1])/e[3]-1,K[2]=2*t[2]-1,K[3]=1,A(K,K,O),0===K[3]?null:(i[0]=K[0]/K[3],i[1]=K[1]/K[3],i[2]=K[2]/K[3],i)}constrainWindowSize(t,i,e,r=e){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e/2,0),o=Math.max(this.fullHeight-h-r/2,0),a=-Math.min(s-e/2,0),_=-Math.min(this.fullHeight-h-r/2,0);return[n,o,e-a- -Math.min(this.fullWidth-s-e/2,0),r-_- -Math.min(h-r/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;i[0]=e,i[1]=r}computeUpGlobal(){l(Q,this.center,this.eye);const t=M(this.center);t<1?(R(this._up,0,0,1),this._markViewDirty()):Math.abs(f(Q,this.center))>.9999*M(Q)*t||(P(this._up,Q,this.center),P(this._up,this._up,Q),F(this._up,this._up),this._markViewDirty())}computeUpLocal(){V(Q,this.eye,this.center),Math.abs(Q[2])<=.9999&&(j(Q,Q,Q[2]),R(this._up,-Q[0],-Q[1],1-Q[2]),F(this._up,this._up),this._markViewDirty())}_compareAndSetView(t,i){\"number\"==typeof t[0]&&isFinite(t[0])&&\"number\"==typeof t[1]&&isFinite(t[1])&&\"number\"==typeof t[2]&&isFinite(t[2])?y(t,i)||(d(i,t),this._markViewDirty()):B.warn(\"Camera vector contains invalid number, ignoring value\")}_markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}_recomputeFrustum(){this._frustumDirty&&(W(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(p(this._viewMatrix,this.eye,this._center,this._up),R(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),R(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),R(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const K=E(),O=u(),Q=S(),Z=S(),$=s();export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{n as s}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{a as r,e,d as o,m as n}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{c as a}from\"../../../../chunks/quat.js\";import{a as f}from\"../../../../chunks/quatf64.js\";import{q as l,b as m,f as c}from\"../../../../chunks/vec3.js\";import{c as b}from\"../../../../chunks/vec3f32.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4f64.js\";import{c as v}from\"../../../../chunks/sphere.js\";class z{constructor(){this._transform=h(),this._transformInverse=new g({value:this._transform},r,h),this._transformInverseTranspose=new g(this._transformInverse,e,h),this._transformTranspose=new g({value:this._transform},e,h),this._transformInverseRotation=new g({value:this._transform},s,i)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){o(this._transform,t)}multiplyTransform(t){n(this._transform,this._transform,t)}set(t){o(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class g{constructor(t,s,i){this.original=t,this.update=s,this.dirty=!0,this.transform=i()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class S{constructor(t=0){this.offset=t,this.tmpVertex=p()}applyToVertex(t,s,i){const r=t+this.localOrigin[0],e=s+this.localOrigin[1],o=i+this.localOrigin[2],n=this.offset/Math.sqrt(r*r+e*e+o*o);return this.tmpVertex[0]=t+r*n,this.tmpVertex[1]=s+e*n,this.tmpVertex[2]=i+o*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],i=t[1]+this.localOrigin[1],r=t[2]+this.localOrigin[2],e=t[3]+this.localOrigin[0],o=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+i*i+r*r);t[0]+=s*h,t[1]+=i*h,t[2]+=r*h;const a=this.offset/Math.sqrt(e*e+o*o+n*n);return t[3]+=e*a,t[4]+=o*a,t[5]+=n*a,t}}class T{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=p(),this.mbs=u(),this.obb={center:p(),halfSize:b(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,i){const r=t,e=s,o=i+this.componentLocalOriginLength,n=this.offset/Math.sqrt(r*r+e*e+o*o);return this.tmpVertex[0]=t+r*n,this.tmpVertex[1]=s+e*n,this.tmpVertex[2]=i+o*n,this.tmpVertex}applyToAabb(t){const s=t[0],i=t[1],r=t[2]+this.componentLocalOriginLength,e=t[3],o=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+i*i+r*r);t[0]+=s*h,t[1]+=i*h,t[2]+=r*h;const a=this.offset/Math.sqrt(e*e+o*o+n*n);return t[3]+=e*a,t[4]+=o*a,t[5]+=n*a,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),i=this.offset/s;return this.mbs[0]=t[0]+t[0]*i,this.mbs[1]=t[1]+t[1]*i,this.mbs[2]=t[2]+t[2]*i,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,i=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*i,this.obb.center[1]=s[1]+s[1]*i,this.obb.center[2]=s[2]+s[2]*i,l(this.obb.halfSize,t.halfSize,t.quaternion),m(this.obb.halfSize,this.obb.halfSize,t.center);const r=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*r,this.obb.halfSize[1]+=this.obb.halfSize[1]*r,this.obb.halfSize[2]+=this.obb.halfSize[2]*r,c(this.obb.halfSize,this.obb.halfSize,t.center),a(j,t.quaternion),l(this.obb.halfSize,this.obb.halfSize,j),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class q{constructor(t=0){this.offset=t,this.sphere=v(),this.tmpVertex=p()}applyToVertex(t,s,i){const r=this.objectTransform.transform;let e=r[0]*t+r[4]*s+r[8]*i+r[12],o=r[1]*t+r[5]*s+r[9]*i+r[13],n=r[2]*t+r[6]*s+r[10]*i+r[14];const h=this.offset/Math.sqrt(e*e+o*o+n*n);e+=e*h,o+=o*h,n+=n*h;const a=this.objectTransform.inverse;return this.tmpVertex[0]=a[0]*e+a[4]*o+a[8]*n+a[12],this.tmpVertex[1]=a[1]*e+a[5]*o+a[9]*n+a[13],this.tmpVertex[2]=a[2]*e+a[6]*o+a[10]*n+a[14],this.tmpVertex}applyToMinMax(t,s){const i=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*i,t[1]+=t[1]*i,t[2]+=t[2]*i;const r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*r,s[1]+=s[1]*r,s[2]+=s[2]*r}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const i=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*i,t[4]+=t[4]*i,t[5]+=t[5]*i,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),i=this.offset/s;return this.sphere[0]=t[0]+t[0]*i,this.sphere[1]=t[1]+t[1]*i,this.sphere[2]=t[2]+t[2]*i,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const x=new q;function _(s){return t(s)?(x.offset=s,x):null}const y=new T;function M(s){return t(s)?(y.offset=s,y):null}const d=new S;function V(s){return t(s)?(d.offset=s,d):null}const O=\"terrain\",j=f();export{T as I3SVerticalOffsetGlobalViewingMode,z as IntersectorTransform,q as Object3DVerticalOffsetGlobalViewingMode,O as TERRAIN_ID,S as TerrainVerticalOffsetGlobalViewingMode,M as getVerticalOffsetI3S,_ as getVerticalOffsetObject3D,V as getVerticalOffsetTerrain};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{i as o,t,s}from\"../../../../../chunks/mat4.js\";import{a as c,f,d as a}from\"../../../../../chunks/vec2.js\";import{s as i,b as u,a as m}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";const h=p();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){o(n),t(n,n,r),i(h,e,e,e),s(n,n,h)}function g(e,r){if(i(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)u(r,r,e[n]);m(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),c(n,U,x),f(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),a(w,y)}function T(e,r,n){return R(e,q,n),a(q,r)}const v=p(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{FoamIntensity as e}from\"./FoamRendering.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(e),r.fragment.code.add(t`const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\nvec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\nreturn 2.0 * texture2D(_tex, _uv).rg - 1.0;\n}\nfloat sampleNoiseTexture(vec2 _uv) {\nreturn texture2D(texWavePerturbation, _uv).b;\n}\nvec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\nreturn 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n}\nfloat computeProgress(vec2 uv, float time) {\nreturn fract(time);\n}\nfloat computeWeight(vec2 uv, float time) {\nfloat progress = computeProgress(uv, time);\nreturn 1.0 - abs(1.0 - 2.0 * progress);\n}\nvec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\nfloat flowStrength = waveParams[2];\nfloat flowOffset = waveParams[3];\nvec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\nfloat progress = computeProgress(uv, time + phaseOffset);\nfloat weight = computeWeight(uv, time + phaseOffset);\nvec2 result = uv;\nresult -= flowVector * (progress + flowOffset);\nresult += phaseOffset;\nresult += (time - progress) * FLOW_JUMP;\nreturn vec3(result, weight);\n}\nconst float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\nconst float TIME_NOISE_STRENGTH = 7.77;\nvec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\nfloat waveStrength = waveParams[0];\nvec2 waveMovement = time * -_waveDir;\nfloat timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\nvec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\nvec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\nvec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\nvec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\nvec3 mixNormal = normalize(normal_A + normal_B);\nmixNormal.xy *= waveStrength;\nmixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\nreturn mixNormal;\n}\nvec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\nfloat waveTextureRepeat = waveParams[1];\nvec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\nfloat foam  = normals2FoamIntensity(normal, waveParams[0]);\nreturn vec4(normal, foam);\n}`)}function a(e,t){e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}export{r as WaterDistortion,a as bindWaterDistortionUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{e as n}from\"../../chunks/earcut.js\";import{isClockwise as t}from\"./coordsUtils.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(t){const o=l(t.rings,t.hasZ,1),s=[];let i=0,c=0;for(const e of o.polygons){const t=e.count,r=e.index,l=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*t),h=e.holeIndices.map((n=>n-r)),f=new Uint32Array(n(l,h,3));s.push({position:l,faces:f}),i+=l.length,c+=f.length}const h=r(s,i,c),f=e(h.position.buffer,6,{originalIndices:h.faces});return h.position=new Float64Array(f.buffer),h.faces=f.indices,h}function r(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const c of n){for(let n=0;n<c.position.length;n++)o[l++]=c.position[n];for(let n=0;n<c.faces.length;n++)r[s++]=c.faces[n]+i;i=l/3}return{position:o,faces:r}}function l(n,t,e){const o=n.length,r=new Array(o),l=new Array(o),c=new Array(o);let h=0,f=0,g=0,a=0;for(let s=0;s<o;++s)a+=n[s].length;const u=new Float64Array(3*a);let p=0;for(let d=o-1;d>=0;d--){const a=n[d],y=1===e&&i(a);if(y&&1!==o)r[h++]=a;else{let n=a.length;for(let t=0;t<h;++t)n+=r[t].length;const e={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=a.length,a.length>0&&(c[g++]={index:p,count:a.length}),p=y?s(a,a.length-1,-1,u,p,a.length,t):s(a,0,1,u,p,a.length,t);for(let o=0;o<h;++o){const n=r[o];e.holeIndices[o]=p,e.pathLengths[o+1]=n.length,n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}h=0,e.count>0&&(l[f++]=e)}}for(let i=0;i<h;++i){const n=r[i];n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}return f<o&&(l.length=f),g<o&&(c.length=g),{position:u,polygons:l,outlines:c}}function s(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}function i(n){return!t(n,!1,!1)}export{l as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class h{constructor(e,t,i){this.editGeometry=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let h=\"redo\";e(this.addedVertex)&&(h=\"apply\",this.addedVertex=new i(this.component));const d=this.component.getLastVertex();if(e(d))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let i=null;d.right&&(this.originalEdge=d.right,i=this.originalEdge.right,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new s(this.component,d,this.addedVertex)),this.component.edges.push(this.left),d.right=this.left,t(this.originalEdge)&&t(i)&&(e(this.right)&&(this.right=new s(this.component,this.addedVertex,i)),this.component.edges.push(this.right),i.left=this.right),this.component.updateVertexIndex(this.addedVertex,d.index+1)}const n={addedVertices:[this.addedVertex],operation:h};this.editGeometry.emit(\"change\",n)}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.left.right=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.right.left=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.left.right=this.originalEdge,this.originalEdge.right.left=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.left,this.left.left.index):this.component.updateVertexIndex(this.addedVertex,0);const i={removedVertices:[this.addedVertex],operation:\"undo\"};this.editGeometry.emit(\"change\",i)}accumulate(){return!1}}export{h as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(o){o.fragment.code.add(t`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{OutputHighlight as o}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{NormalUtils as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{ReadShadowMap as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{Water as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";import{WaterDistortion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{symbolAlphaCutoff as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as m}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function p(p){const u=new m;return u.include(a,{linearDepth:!1}),u.attributes.add(\"position\",\"vec3\"),u.attributes.add(\"uv0\",\"vec2\"),u.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),u.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==p.output&&7!==p.output||(u.include(n,p),u.include(e,p),u.varyings.add(\"vuv\",\"vec2\"),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vnormal\",\"vec3\"),u.varyings.add(\"vtbnMatrix\",\"mat3\"),p.multipassTerrainEnabled&&u.varyings.add(\"depth\",\"float\"),u.vertex.code.add(c`\n      void main(void) {\n        if (waterColor.a < ${c.float(v)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        ${p.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===p.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),p.multipassTerrainEnabled&&(u.fragment.include(i),u.include(t,p)),7===p.output&&(u.include(r,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(c`\n        void main() {\n          discardBySlice(vpos);\n          ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===p.output&&(u.include(s,p),u.include(r,p),p.receiveShadows&&u.include(d,p),u.include(l,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),u.fragment.include(g),u.fragment.code.add(c`\n      void main() {\n        discardBySlice(vpos);\n        ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        float shadow = ${p.receiveShadows?c`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, lightingMainDirection, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${p.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===p.output&&(u.include(n,p),u.include(s,p),u.include(r,p),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vuv\",\"vec2\"),u.vertex.code.add(c`\n        void main(void) {\n          if (waterColor.a < ${c.float(v)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"timeElapsed\",\"float\"),u.fragment.code.add(c`void main() {\ndiscardBySlice(vpos);\nvec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\ntangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\ngl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n}`)),5===p.output&&(u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(c`\n        void main(void) {\n          if (waterColor.a < ${c.float(v)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(c`void main() {\ngl_FragColor = waterColor;\n}`)),4===p.output&&(u.include(o),u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(c`\n      void main(void) {\n        if (waterColor.a < ${c.float(v)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),u.include(r,p),u.fragment.code.add(c`void main() {\ndiscardBySlice(vpos);\noutputHighlight();\n}`)),u}var u=Object.freeze({__proto__:null,build:p});export{u as W,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function n(){const n=new o;return n.include(e),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(r`void main() {\nvec4 texColor = texture2D(tex, uv);\ngl_FragColor = texColor * color;\n}`),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as e}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{f as o,g as t,s as c}from\"../../../../chunks/vec3.js\";import{create as i}from\"../../../../geometry/support/ray.js\";import{sv3d as s}from\"../../../../geometry/support/vectorStacks.js\";function u(r,n,o=i()){return m(r,r.screenToRender(n,e(s.get())),o)}function m(t,c,u=i()){const m=e(n(s.get(),c));if(m[2]=0,!t.unprojectFromRenderScreen(m,u.origin))return null;const g=e(n(s.get(),c));g[2]=1;const p=t.unprojectFromRenderScreen(g,s.get());return r(p)?null:(o(u.direction,p,u.origin),u)}function g(r,n,o=i()){return p(r,r.screenToRender(n,e(s.get())),o)}function p(e,n,u=i()){t(u.origin,e.eye);const m=c(s.get(),n[0],n[1],1),g=e.unprojectFromRenderScreen(m,s.get());return r(g)?null:(o(u.direction,g,u.origin),u)}export{m as fromRender,p as fromRenderAtEye,u as fromScreen,g as fromScreenAtEye};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizeScaling as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as s}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function t(t){const c=new s;return c.include(o,{linearDepth:!1}),c.include(e,{}),c.include(r,t),c.fragment.include(l),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(n`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(n`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(n`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(i),c.include(a,t)),c.fragment.code.add(n`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(n`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(n`vec4 finalColor = color;`),c.fragment.code.add(n`\n      if (finalColor.a < ${n.float(d)}) {\n        discard;\n      }\n      ${7===t.output?n`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?n`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}var c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass i{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}export{i as IntersectorOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{I as r}from\"../../../../chunks/mat4f64.js\";import{b as s,m as e}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{fromPoints as a,copy as n}from\"../../../../geometry/support/ray.js\";import{IntersectorOptions as o}from\"./IntersectorInterfaces.js\";import{IntersectorResults as h,IntersectorResult as d}from\"./intersectorUtils.js\";import{IntersectorTransform as c,getVerticalOffsetObject3D as l}from\"./verticalOffsetUtils.js\";import{isInstanceHidden as f}from\"../materials/renderers/utils.js\";const m=1e-5;class u{constructor(t){this.options=new o,this.results=new h,this.transform=new c,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=m,this.verticalOffset=null,this._ray={origin:i(),direction:i()},this._rayEndPoint=i(),this._rayStartPointTransformed=i(),this._rayEndPointTransformed=i(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a(t,r,this._ray))}resetWithRay(t){t!==this._ray&&n(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r=null,s,e,i,a,n){this.point=s,this.camera=e,this.filterPredicate=a,this.tolerance=null==i?m:i;const o=l(this.verticalOffset);if(t(r)&&r.length>0){const s=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const e of r){const r=e.getSpatialQueryAccelerator&&e.getSpatialQueryAccelerator();t(r)?(t(o)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,s,o):r.forEachAlongRay(this._ray.origin,this._ray.direction,s),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(s)):e.objects.forAll((t=>s(t)))}}this.sortResults()}intersectObject(s){this._numObjectsTested++;const i=s.geometryRecords;if(!i)return;const a=s.id,n=s.transformation;let o;const h=l(this.verticalOffset);for(const c of i){const{geometry:i,material:l,instanceParameters:m}=c;if(f(m))continue;o=i.id,this.transform.setAndInvalidateLazyTransforms(n,c.getShaderTransformation()),e(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),e(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(h)&&(h.objectTransform=this.transform),l.intersect(i,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((e,i,n,h,c,l)=>{if(e>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,e))return;const f=`Object3D ${a}`;if(c)return void((null==this.results.hud.dist||e<this.results.hud.dist)&&this.results.hud.set(s,f,e,i,r,h,l,o,n));const m=t=>t.set(s,f,e,i,u,h,null,o,n);if((null==this.results.min.drapedLayerOrder||h>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||e<this.results.min.dist)&&m(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||h<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||e>this.results.max.dist)&&m(this.results.max),2===this.options.store){const t=new d(this._ray);m(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}u.DEFAULT_TOLERANCE=m;export{u as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as i}from\"../core/mathUtils.js\";import{ObjectStack as n}from\"../core/ObjectStack.js\";import{a as t,e as a,c as r,i as o}from\"./mat4.js\";import{c as e}from\"./mat4f64.js\";import{g as c,a as u,b as g,s as b,i as f,l,r as p,d as m,f as d,k as h,m as j,n as I,p as y}from\"./vec3.js\";import{c as P,a as v,f as N}from\"./vec3f64.js\";import{projectPointClamp as w,distance2 as M,create as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as A,copy as V,fromVectorsAndPoint as _,normal as x,fromValues as k,intersectRay as E,intersectLineSegment as O,intersectLineSegmentClamp as U,isPointInside as q,projectPoint as B,setOffsetFromPoint as F}from\"../geometry/support/plane.js\";import{distance2 as R}from\"../geometry/support/ray.js\";import{projectPointSignedLength as Y}from\"../geometry/support/vector.js\";import{sv3d as C}from\"../geometry/support/vectorStacks.js\";const L=s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class z{constructor(){this.plane=T(),this.origin=P(),this.basis1=P(),this.basis2=P()}}function G(s=vs){return{plane:T(s.plane),origin:v(s.origin),basis1:v(s.basis1),basis2:v(s.basis2)}}function W(s,i,n){const t=Ss.get();return t.origin=s,t.basis1=i,t.basis2=n,t.plane=A(0,0,0,0),K(t),t}function D(s,i=G()){return J(s.origin,s.basis1,s.basis2,i)}function H(s,i){c(i.origin,s.origin),c(i.basis1,s.basis1),c(i.basis2,s.basis2),V(s.plane,i.plane)}function J(s,i,n,t=G()){return c(t.origin,s),c(t.basis1,i),c(t.basis2,n),K(t),ys(t,\"fromValues()\"),t}function K(s){_(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,i,n){s!==n&&D(s,n);const t=u(C.get(),ms(s),i);return g(n.origin,n.origin,t),n.plane[3]-=i,n}function X(s,i,n){return Z(i,n),Q(n,gs(s,s.origin),n),n}function Z(s,i=G()){const n=(s[2]-s[0])/2,t=(s[3]-s[1])/2;return b(i.origin,s[0]+n,s[1]+t,0),b(i.basis1,n,0,0),b(i.basis2,0,t,0),k(0,0,1,0,i.plane),i}function $(s,i,n){return!!E(s.plane,i,n)&&hs(s,n)}function ss(s,i,n){if($(s,i,n))return n;const t=is(s,i,C.get());return g(n,i.origin,u(C.get(),i.direction,f(i.origin,t)/l(i.direction))),n}function is(s,n,t){const a=Ns.get();Ps(s,n,a,Ns.get());let r=Number.POSITIVE_INFINITY;for(const o of Ts){const e=Is(s,o,ws.get()),u=C.get();if(O(a,e,u)){const s=p(C.get(),n.origin,u),a=Math.abs(i(m(n.direction,s)));a<r&&(r=a,c(t,u))}}return r===Number.POSITIVE_INFINITY?ns(s,n,t):t}function ns(s,i,n){if($(s,i,n))return n;const t=Ns.get(),a=Ns.get();Ps(s,i,t,a);let r=Number.POSITIVE_INFINITY;for(const o of Ts){const e=Is(s,o,ws.get()),u=C.get();if(U(t,e,u)){const s=R(i,u);if(!q(a,u))continue;s<r&&(r=s,c(n,u))}}return rs(s,i.origin)<r&&ts(s,i.origin,n),n}function ts(s,i,n){const t=B(s.plane,i,C.get()),a=w(js(s,s.basis1),t,-1,1,C.get()),r=w(js(s,s.basis2),t,-1,1,C.get());return d(n,g(C.get(),a,r),s.origin),n}function as(s,i,n){const{origin:t,basis1:a,basis2:r}=s,o=d(C.get(),i,t),e=Y(a,o),c=Y(r,o),u=Y(ms(s),o);return b(n,e,c,u)}function rs(s,i){const n=as(s,i,C.get()),{basis1:t,basis2:a}=s,r=l(t),o=l(a),e=Math.max(Math.abs(n[0])-r,0),c=Math.max(Math.abs(n[1])-o,0),u=n[2];return e*e+c*c+u*u}function os(s,i){return Math.sqrt(rs(s,i))}function es(s,i){let n=Number.NEGATIVE_INFINITY;for(const t of Ts){const a=Is(s,t,ws.get()),r=M(a,i);r>n&&(n=r)}return Math.sqrt(n)}function cs(s,i){return q(s.plane,i)&&hs(s,i)}function us(s,i,n,t){return ds(s,n,t)}function gs(s,i){const n=-s.plane[3];return Y(ms(s),i)-n}function bs(s,i,n,t){const a=gs(s,i),r=u(Ms,ms(s),n-a);return g(t,i,r),t}function fs(s,i){return h(s.basis1,i.basis1)&&h(s.basis2,i.basis2)&&h(s.origin,i.origin)}function ls(s,i,n){return s!==n&&D(s,n),t(As,i),a(As,As),j(n.basis1,s.basis1,As),j(n.basis2,s.basis2,As),j(x(n.plane),x(s.plane),As),j(n.origin,s.origin,i),F(n.plane,n.origin,n.plane),n}function ps(s,i,n,t){return s!==t&&D(s,t),r(Vs,o(Vs),i,n),j(t.basis1,s.basis1,Vs),j(t.basis2,s.basis2,Vs),K(t),t}function ms(s){return x(s.plane)}function ds(s,i,n){switch(i){case 0:c(n,s.basis1),I(n,n);break;case 1:c(n,s.basis2),I(n,n);break;case 2:c(n,ms(s))}return n}function hs(s,i){const n=d(C.get(),i,s.origin),t=y(s.basis1),a=y(s.basis2),r=m(s.basis1,n),o=m(s.basis2,n);return-r-t<0&&r-t<0&&-o-a<0&&o-a<0}function js(s,i){const n=ws.get();return c(n.origin,s.origin),c(n.vector,i),n}function Is(s,i,n){const{basis1:t,basis2:a,origin:r}=s,o=u(C.get(),t,i.origin[0]),e=u(C.get(),a,i.origin[1]);g(n.origin,o,e),g(n.origin,n.origin,r);const c=u(C.get(),t,i.direction[0]),b=u(C.get(),a,i.direction[1]);return u(n.vector,g(c,c,b),2),n}function ys(s,i){Math.abs(m(s.basis1,s.basis2)/(l(s.basis1)*l(s.basis2)))>1e-6&&L.warn(i,\"Provided basis vectors are not perpendicular\"),Math.abs(m(s.basis1,ms(s)))>1e-6&&L.warn(i,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-m(ms(s),s.origin)-s.plane[3])>1e-6&&L.warn(i,\"Plane offset is not consistent with plane origin\")}function Ps(s,i,n,t){const a=ms(s);_(a,i.direction,i.origin,n),_(x(n),a,i.origin,t)}const vs={plane:T(),origin:N(0,0,0),basis1:N(1,0,0),basis2:N(0,1,0)},Ns=new n(T),ws=new n(S),Ms=P(),Ss=new n((()=>({origin:null,basis1:null,basis2:null,plane:null}))),Ts=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],As=e(),Vs=e();var _s=Object.freeze({__proto__:null,BoundedPlaneClass:z,create:G,wrap:W,copy:D,copyWithoutVerify:H,fromValues:J,updateUnboundedPlane:K,elevate:Q,setExtent:X,fromAABoundingRect:Z,intersectRay:$,intersectRayClosestSilhouette:ss,closestPointOnSilhouette:is,closestPoint:ns,projectPoint:ts,projectPointLocal:as,distance2:rs,distance:os,distanceToSilhouette:es,extrusionContainsPoint:cs,axisAt:us,altitudeAt:gs,setAltitudeAt:bs,equals:fs,transform:ls,rotate:ps,normal:ms,UP:vs});export{fs as A,z as B,vs as U,G as a,_s as b,D as c,H as d,cs as e,J as f,Z as g,os as h,$ as i,Q as j,ss as k,is as l,ns as m,ms as n,as as o,ts as p,rs as q,ps as r,X as s,ls as t,K as u,es as v,W as w,us as x,gs as y,bs as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{d as t}from\"../../../../chunks/mat4.js\";import{c as r}from\"../../../../chunks/mat4f64.js\";import{e as i,a as s,l as e,b as a,g as n,n as o}from\"../../../../chunks/vec3.js\";import{c as h,a as d}from\"../../../../chunks/vec3f64.js\";import{t as c}from\"../../../../chunks/vec4.js\";import{c as m}from\"../../../../chunks/vec4f64.js\";import{e as l}from\"../../../../chunks/boundedPlane.js\";import{create as u,copy as p}from\"../../../../geometry/support/ray.js\";import{Object3D as y}from\"./Object3D.js\";function g(t){return(r,s,e)=>(i(v,r,s,e),!l(t,v))}class f{constructor(){this.min=new j,this.max=new j,this.hud=new j,this.ground=new j}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class j{constructor(t){this.normal=h(),this.transformation=r(),this._ray=u(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return s(O,this.ray.direction,this.dist),e(O)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(s(O,this.ray.direction,this.dist),a(t,this.ray.origin,O),!0)}getTransformedNormal(t){return n(I,this.normal),I[3]=0,c(I,I,this.transformation),n(t,I),o(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?p(t,this._ray):this._ray=u()}set(r,i,s,e,a,o,h,c,m,l){r instanceof y&&(r={type:\"stage\",obj:r}),this.dist=s,n(this.normal,e),t(this.transformation,a),this.target=r,this.name=i,this.drapedLayerOrder=o,this.center=h?d(h):null,this.geometryId=c,this.triangleNr=m,this.drapedLayerGraphicOrder=l}copyFrom(r){p(r.ray,this._ray),this.dist=r.dist,this.target=r.target,this.name=r.name,this.drapedLayerOrder=r.drapedLayerOrder,this.center=r.center?d(r.center):null,this.geometryId=r.geometryId,this.triangleNr=r.triangleNr,this.intersector=r.intersector,this.drapedLayerGraphicOrder=r.drapedLayerGraphicOrder,n(this.normal,r.normal),t(this.transformation,r.transformation)}}const v=h(),O=h(),I=m();export{j as IntersectorResult,f as IntersectorResults,g as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n{\nvec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\nvec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\nreprojectedCoord.xy /= reprojectedCoord.w;\nreturn reprojectedCoord.xy * 0.5 + 0.5;\n}`)}function e(r,o){r.bindTexture(o.lastFrameColorTexture,\"lastFrameColorMap\"),r.setUniformMatrix4fv(\"reprojectionMat\",o.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",o.camera.projectionMatrix)}export{o as Reprojection,e as bindReprojectionUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as t,bindReprojectionUniforms as o}from\"./Reprojection.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function a(o,a){o.fragment.uniforms.add(\"nearFar\",\"vec2\"),o.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),o.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),o.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),o.fragment.include(e),o.include(t),o.fragment.code.add(r`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}function i(e,t){t.ssrEnabled&&(e.bindTexture(t.linearDepthTexture,\"depthMapView\"),e.setUniform2fv(\"nearFar\",t.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",t.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/t.camera.height),o(e,t))}export{a as ScreenSpaceReflections,i as bindSSRUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export{t as UnitNormalizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`vec3 getLocalUp(in vec3 pos, in vec3 origin) {\nreturn normalize(pos + origin);\n}`):n.vertex.code.add(e`vec3 getLocalUp(in vec3 pos, in vec3 origin) {\nreturn vec3(0.0, 0.0, 1.0);\n}`),1===r.viewingMode?n.vertex.code.add(e`mat3 getTBNMatrix(in vec3 n) {\nvec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\nvec3 b = normalize(cross(n, t));\nreturn mat3(t, b, n);\n}`):n.vertex.code.add(e`mat3 getTBNMatrix(in vec3 n) {\nvec3 t = vec3(1.0, 0.0, 0.0);\nvec3 b = normalize(cross(n, t));\nreturn mat3(t, b, n);\n}`)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{sign as e}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as t,unwrapOr as n}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o,castScreenPointArray as s,createScreenPointArray as c}from\"../../../../core/screenUtils.js\";import{g as l,l as a,f as i,d as u,a as p,b as m,c as d}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{intersectRay as y,fromPositionAndNormal as S,create as j}from\"../../../../geometry/support/plane.js\";import{create as E}from\"../../../../geometry/support/ray.js\";import{projectPoint as v}from\"../../../../geometry/support/vector.js\";import{sv2d as x}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as w}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as I}from\"../../support/geometryUtils/ray.js\";import{Intersector as C}from\"../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";function P(e,r){return k(e,(()=>r))}function h(e){return k(e,(e=>e.plane))}function k(e,n){const c=f(),l=f();let a=!1;return i=>{const u=n(i);if(\"start\"===i.action){const t=o(i.screenStart,s(x.get())),n=I(e.state.camera,t,K);r(n)&&(a=y(u,n,c))}if(!a)return null;const p=o(i.screenEnd,s(x.get())),m=I(e.state.camera,p,K);return t(m)?null:y(u,m,l)?{...i,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function R(e,n,o,s=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=e.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenStart.x,i.screenStart.y),n,o,l),r(a)&&r(s)&&!g(a,a,s)))return null;if(t(a))return null;const u=e.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenEnd.x,i.screenEnd.y),n,o,l);return r(u)?r(s)&&!g(u,u,s)?null:{...i,mapStart:a,mapEnd:u}:null}}function M(e,r,t,n=null,o=null){return R(e,t,b(r,e,t),n,o)}function T(e,r,t,n=null,o=null){return M(e,t,w(r),n,o)}function F(e,t,n,o){const s=t.toMap(e.screenStart,{include:[n]});return r(s)?T(t,n,s,o):null}function A(e,r){const t=B,n=J,o=j();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=d(o,t,i(n,r,e.state.camera.eye));return d(s,s,t),S(r,s,o)}function D(e,r,t){let n=null;const o=new U;return o.next(P(e,A(e,r))).next(q(e,r)).next(G(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function q(r,t){const n=f(),o=a(t);r.renderCoordsHelper.worldUpAtPosition(t,n);const s=f(),c=f(),d=s=>{if(i(s,s,t),v(n,s,s),\"global\"===r.viewingMode){a(s)*e(u(n,s))<.001-o&&i(s,p(s,n,.001),t)}return m(s,s,t),s};return e=>(e.renderStart=d(l(s,e.renderStart)),e.renderEnd=d(l(c,e.renderEnd)),e)}function G(e,t){const n=e.renderCoordsHelper;return e=>{const o=n.fromRenderCoords(e.renderStart,t),s=n.fromRenderCoords(e.renderEnd,t);return r(o)&&r(s)?{...e,mapStart:o,mapEnd:s}:null}}function O(e){let t=null;return n=>{switch(n.action){case\"start\":t=e.disableDisplay();break;case\"end\":case\"cancel\":r(t)&&(t.remove(),t=null)}return n}}function z(e,s=null){const l=new C(e.state.viewingMode);l.options.selectionMode=!0,l.options.store=0,l.options.hud=!1;const a=c(),i={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=f(),p=n(s,e.spatialReference),m=r=>{e.map.ground&&e.map.ground.opacity<1?i.exclude.add(H):i.exclude.delete(H),e.sceneIntersectionHelper.intersectIntersectorScreen(o(r,a),l,i);const t=l.results.min;let n;if(t.getIntersectionPoint(u))n=\"TerrainRenderer\"===t.intersector?0:1;else{if(!l.results.ground.getIntersectionPoint(u))return null;n=0}return{location:e.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:n}};let d;return e=>{if(\"start\"===e.action){const t=m(e.screenStart);d=r(t)?t.location:null}if(t(d))return null;const n=m(e.screenEnd);return r(n)&&r(n.location)?{...e,mapStart:d,mapEnd:n.location,surfaceType:n.surfaceType}:null}}const B=f(),J=f(),K=E();export{G as convertToMapCoordinates,O as hideManipulatorWhileDragging,q as projectToWorldUp,z as screenToMap3D,M as screenToMapXYAtLocation,F as screenToMapXYForGraphic,T as screenToMapXYForGraphicAtLocation,P as screenToRenderPlane,h as screenToRenderPlaneFromEvent,D as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`const float GAMMA = 2.2;\nconst float INV_GAMMA = 0.4545454545;\nvec4 delinearizeGamma(vec4 color) {\nreturn vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n}\nvec3 linearizeGamma(vec3 color) {\nreturn pow(color, vec3(GAMMA));\n}`)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as t}from\"./PhysicallyBasedRendering.glsl.js\";import{ScreenSpaceReflections as i}from\"./ScreenSpaceReflections.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function a(a,n){a.include(t,n),a.include(o),a.include(e),n.ssrEnabled&&a.include(i,n),a.fragment.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]).add(\"fresnelMaterial\",\"vec2\",[.02,.1]).add(\"roughness\",\"float\",.015).add(\"foamIntensityExternal\",\"float\",1.7).add(\"ssrIntensity\",\"float\",.65).add(\"ssrHeightFadeStart\",\"float\",3e5).add(\"ssrHeightFadeEnd\",\"float\",5e5).add(\"waterDiffusion\",\"float\",.775).add(\"waterSeeColorMod\",\"float\",.8).add(\"correctionViewingPowerFactor\",\"float\",.4).add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]).add(\"skyColor\",\"vec3\",[.67,.79,.9]),a.fragment.code.add(r`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),a.fragment.code.add(r`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\nfloat reflectionHit = 0.;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nspecular = shadingInfo.NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}`),n.ssrEnabled?a.fragment.code.add(r`vec4 viewPosition = vec4(positionView.xyz, 1.0);\nvec3 viewDir = normalize(viewPosition.xyz);\nvec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\nfloat correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\nvec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\nvec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\nreflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\nreflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n}\nfloat seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\nreturn tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n}`):a.fragment.code.add(r`return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n}`)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import{whenFalseOnce as o}from\"../../../core/watchUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{mayHaveHeightModelInfo as r,rejectLayerError as i}from\"../../../geometry/support/heightModelInfoUtils.js\";const p=p=>{let a=class extends p{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(s){super.postscript(s),r(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const s=o(this.view.defaultsFromMap,\"isHeightModelInfoSearching\");this.handles.add(s),await s;const e=i(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(e)throw e}};return s([e()],a.prototype,\"view\",void 0),s([e()],a.prototype,\"slicePlaneEnabled\",void 0),a=s([t(\"esri.views.3d.layers.LayerView3D\")],a),a};export{p as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{i as o,t,s}from\"../../../../../chunks/mat4.js\";import{a as c,f,d as a}from\"../../../../../chunks/vec2.js\";import{s as i,b as u,a as m}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";const h=p();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){o(n),t(n,n,r),i(h,e,e,e),s(n,n,h)}function g(e,r){if(i(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)u(r,r,e[n]);m(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),c(n,U,x),f(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),a(w,y)}function T(e,r,n){return R(e,q,n),a(q,r)}const v=p(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{formatDecimal as r,formatMetricLength as t,formatMetricVerticalLength as a,formatMetricArea as n,formatImperialLength as e,formatImperialVerticalLength as i,formatImperialArea as u,formatDMS as o}from\"./unitFormatUtils.js\";function l(t,a,n,e=2,i=\"abbr\"){return r(t,a.toUnit(n).value,n,e,i)}function f(r,a,n=2,e=\"abbr\"){if(\"length\"!==a.measure)throw new Error(\"quantity is not a length\");return t(r,a.value,a.unit,n,e)}function s(r,t,n=2,e=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return a(r,t.value,t.unit,n,e)}function m(r,t,a=2,e=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return n(r,t.value,t.unit,a,e)}function h(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return e(r,t.value,t.unit,a,n)}function b(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return i(r,t.value,t.unit,a,n)}function c(r,t,a=2,n=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return u(r,t.value,t.unit,a,n)}function g(r){if(\"angle\"!==r.measure)throw new Error(\"quantity is not an angle\");return o(r.value,r.unit)}export{g as formatDMS,l as formatDecimal,c as formatImperialArea,h as formatImperialLength,b as formatImperialVerticalLength,m as formatMetricArea,f as formatMetricLength,s as formatMetricVerticalLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{ColorConversion as r}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as d}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(o){const t=new d;return t.extensions.add(\"GL_OES_standard_derivatives\"),t.attributes.add(\"position\",\"vec3\"),t.attributes.add(\"uv0\",\"vec2\"),t.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),t.varyings.add(\"vUV\",\"vec2\"),o.multipassTerrainEnabled&&t.varyings.add(\"depth\",\"float\"),t.vertex.code.add(i`\n    void main(void) {\n      vUV = uv0;\n      ${o.multipassTerrainEnabled?\"depth = (view * vec4(position, 1.0)).z;\":\"\"}\n      gl_Position = proj * view * vec4(position, 1.0);\n    }\n  `),o.multipassTerrainEnabled&&(t.fragment.include(e),t.include(a,o)),t.fragment.uniforms.add(\"size\",\"vec2\").add(\"color1\",\"vec4\").add(\"color2\",\"vec4\"),t.fragment.include(r),t.fragment.code.add(i`\n    void main() {\n      ${o.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n      vec2 uvScaled = vUV / (2.0 * size);\n\n      vec2 uv = fract(uvScaled - 0.25);\n      vec2 ab = clamp((abs(uv - 0.5) - 0.25) / fwidth(uvScaled), -0.5, 0.5);\n      float fade = smoothstep(0.25, 0.5, max(fwidth(uvScaled.x), fwidth(uvScaled.y)));\n      float t = mix(abs(ab.x + ab.y), 0.5, fade);\n\n      gl_FragColor = mix(color2, color1, t);\n      ${o.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n    }\n  `),t}var t=Object.freeze({__proto__:null,build:o});export{t as C,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{e,f as t,n as s,g as r,b as i}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as c,projectVectorToVector as o}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as p}from\"../../../../../geometry/projectionEllipsoid.js\";import{sv3d as a}from\"../../../../../geometry/support/vectorStacks.js\";import{slerpTangent as h,slerp as d}from\"../../../support/mathUtils.js\";class _{constructor(e=n(),t=n()){this.startRenderSpace=e,this.endRenderSpace=t,this.type=\"euclidean\"}eval(r,i,n){return e(i,this.startRenderSpace,this.endRenderSpace,r),n&&(t(n,this.endRenderSpace,this.startRenderSpace),s(n,n)),i}createRenderGeometry(e,s){const r=[],i=[],n=(s,n)=>{const c=u;t(c,s,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=s.worldUpAtPosition(this.eval(.5,m),a.get());return n(this.startRenderSpace,c),n(this.endRenderSpace,c),{points:r,normals:i}}}class f{constructor(e,t,s){this.startRenderSpace=e,this.endRenderSpace=t,this.renderSpatialReference=s,this.type=\"geodesic\",this._start=n(),this._end=n(),this._pcpf=p(s),this._project=c(s,this._pcpf),this._projectIn(e,this._start),this._projectIn(t,this._end)}_projectIn(e,t){this._project?o(e,this.renderSpatialReference,t,this._pcpf):r(t,e)}eval(r,n,c){if(this._project)if(c){const e=u;h(this._start,this._end,r,n,e),i(R,n,e),o(n,this._pcpf,n,this.renderSpatialReference),o(R,this._pcpf,R,this.renderSpatialReference),t(c,R,n),s(c,c)}else d(this._start,this._end,r,n),o(n,this._pcpf,n,this.renderSpatialReference);else e(n,this._start,this._end,r),c&&(t(c,this._end,this._start),s(c,c));return n}createRenderGeometry(e,s){const r=[],i=[],n=(s,n)=>{const c=R;t(c,s,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=128+1&-2;for(let t=0;t<c;++t){const e=t/(c-1),r=m,i=u;this.eval(e,r),s.worldUpAtPosition(r,i),n(r,i)}return{points:r,normals:i}}}function l(e,t,s,r){switch(e){case\"euclidean\":return new _(t,s);case\"geodesic\":return new f(t,s,r)}}const m=n(),u=n(),R=n();export{_ as EuclideanSegment,f as GeodesicSegment,l as createSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../../core/maybe.js\";function e(e){return r(e)?e:e.slice()}function n(r){return[r,r]}export{e as createStipplePattern,n as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import _ from\"../../../core/Accessor.js\";import{property as I}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let S=class extends _{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED=!0,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([I()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([I()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([I()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED\",void 0),E([I()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([I()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([I()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([I()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([I()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([I()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([I()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([I()],S.prototype,\"SHOW_POI\",void 0),E([I()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([I()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([I()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([I()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([I()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([I()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([I()],S.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),E([I()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([I()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([I()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([I()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([I()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([I()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([I()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const T=new S;export default T;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as e}from\"../../../core/mathUtils.js\";import{s as t}from\"../../../chunks/vec4.js\";import{create as s,offset as r,set as i}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as a}from\"../webgl-engine/lib/localOrigin.js\";class n{constructor(e,t){this.index=e,this.renderTargets=t,this.extent=s(),this.resolution=0,this.viewport=s(),this.renderLocalOrigin=a(0,0,0,\"O\"),this.pixelRatio=1,this.canvasGeometries={extents:[s(),s(),s()],numViews:0},this.validTargets=null,this.hasDrapedFeatureSource=!1,this.hasDrapedRasterSource=!1,this.hasTargetWithoutRasterImage=!1,this.index=e,this.validTargets=new Array(t.renderTargets.length).fill(!1)}getValidTarget(e){return this.validTargets[e]?this.renderTargets.getTarget(e):null}get needsColorWithoutRasterImage(){return this.hasDrapedRasterSource&&this.hasDrapedFeatureSource&&this.hasTargetWithoutRasterImage}getColorTexture(e){const t=1===e?this.renderTargets.getTarget(0):2===e?this.renderTargets.getTarget(2):this.renderTargets.getTarget(4);return t?t.getTexture():null}getNormalTexture(e){const t=1===e?this.renderTargets.getTarget(3):null;return t?t.getTexture():null}draw(e,t){const s=this.computeRenderTargetValidityBitfield(),r=this.needsColorWithoutRasterImage;for(const i of this.renderTargets.renderTargets)1===i.type&&!1===r?this.validTargets[i.type]=!1:this.validTargets[i.type]=e.drawTarget(this,i,t);return s^this.computeRenderTargetValidityBitfield()?0:1}computeRenderTargetValidityBitfield(){const e=this.validTargets;return+e[0]|+e[1]<<1|+e[2]<<2|+e[3]<<3|+e[4]<<4}setupGeometryViewsCyclical(e){this.setupGeometryViewsDirect();const t=.001*e.range;if(this.extent[0]-t<=e.min){const t=this.canvasGeometries.extents[this.canvasGeometries.numViews++];r(this.extent,e.range,0,t)}if(this.extent[2]+t>=e.max){const t=this.canvasGeometries.extents[this.canvasGeometries.numViews++];r(this.extent,-e.range,0,t)}}setupGeometryViewsDirect(){this.canvasGeometries.numViews=1,i(this.canvasGeometries.extents[0],this.extent),t(this.viewport,0,0,this.resolution,this.resolution)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}applyViewport(e){const t=this.viewport;0===this.index?e.setViewport(t[0],t[1],t[2],t[3]):e.setViewport(t[0]+this.resolution,t[1],t[2],t[3])}}function o(t,s,r){return Math.min(e(Math.max(t,s)+256),r)}export{n as Overlay,o as computeOverlayResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/vec2f32.js\";import\"../../webgl/BufferObject.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../../core/has.js\";import\"../../webgl/enums.js\";import\"../../webgl/RenderingContext.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import\"../../webgl/VertexArrayObject.js\";class i{constructor(e,i){this.size=t(),this._fbo=null,this._fbo=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:i,maxAnisotropy:8,width:0,height:0})}dispose(){this._fbo=e(this._fbo)}getTexture(){return this._fbo?this._fbo.colorTexture:null}isValid(){return null!==this._fbo}resize(e,t){this.size[0]=e,this.size[1]=t,this._fbo.resize(this.size[0],this.size[1])}bind(e){e.bindFramebuffer(this._fbo)}generateMipMap(){this._fbo.colorTexture.descriptor.hasMipmap&&this._fbo.colorTexture.generateMipmap()}disposeRenderTargetMemory(){var e;null==(e=this._fbo)||e.resize(0,0)}get gpuMemoryUsage(){var e,t;return null!=(e=null==(t=this._fbo)?void 0:t.gpuMemoryUsage)?e:0}}export{i as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{OverlayFramebufferObject as e}from\"./OverlayFramebufferObject.js\";class r{constructor(r){this.renderTargets=null;const s=(s,t,o=!0)=>({type:t,fbo:new e(r,o),renderPass:s,valid:!1,lastUsed:1/0});this.renderTargets=[s(0,0),s(0,1),s(5,2,!1),s(3,3),s(0,4)]}getTarget(e){return this.renderTargets[e].fbo}dispose(){for(const e of this.renderTargets)e.fbo.dispose()}disposeRenderTargetMemory(){for(const e of this.renderTargets)e.fbo.disposeRenderTargetMemory()}validateUsageForTarget(e,r,t){if(e)r.lastUsed=t;else if(t-r.lastUsed>s)r.fbo.disposeRenderTargetMemory(),r.lastUsed=1/0;else if(r.lastUsed<1/0)return!0;return!1}get gpuMemoryUsage(){return this.renderTargets.reduce(((e,r)=>e+r.fbo.gpuMemoryUsage),0)}}const s=1e3;export{r as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../../core/maybe.js\";class r{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class s{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,t){const s=t.key;let n=this._perConstructorInstances.get(e);n||(n=new Map,this._perConstructorInstances.set(e,n));let o=n.get(s);if(void 0===o){const c=new e(this._context,t,(()=>this.release(c)));o=new r(c),n.set(s,o)}return++o.refCount,o.technique}releaseAndAcquire(t,r,s){if(e(s)){if(r.key===s.key)return s;s.release()}return this.acquire(t,r)}release(e){if(t(e))return;const r=this._perConstructorInstances.get(e.constructor).get(e.key);--r.refCount,0===r.refCount&&(r.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{const s=async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))};e.push(s(t,r))})),await Promise.all(e)}}export{s as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{getShaderOutputID as i,ShaderOutputTypes as r}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{assert as a}from\"./Util.js\";const s=e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,a(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}class n{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const r=i(e.id,t);let a=this._id2glMaterialRef.get(r);if(null==a){const i=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(i),a.incRefCnt(),this._id2glMaterialRef.set(r,a),i}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const r=i(e.id,t),a=this._id2glMaterialRef.get(r);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(r)}}materialChanged(e){for(const t of r)if(5!==t.output&&6!==t.output){const r=this._id2glMaterialRef.get(i(e.id,t.output));if(r&&r.getGLMaterial()){const e=r.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(e){t(e.materialRepository)&&e.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),e.materialRepository=this}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{f as s}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as e}from\"../../../../geometry/projection.js\";import{Geometry as o}from\"./Geometry.js\";import{fromValues as n}from\"./localOrigin.js\";import{Object3D as a}from\"./Object3D.js\";import{WebGLLayer as h}from\"./WebGLLayer.js\";import{RibbonLineMaterial as c}from\"../materials/RibbonLineMaterial.js\";let _=0;const m=\"rg_\";class d{constructor(t){this._originSR=t,this.ROOT_ORIGIN_ID=m+\"root_\"+_++,this._origins=new Map,this._gridSize=125e4,this._objects=new Map}getOrigin(i){const r=this._origins.get(this.ROOT_ORIGIN_ID);if(null==r){if(t(g))return this._origins.set(this.ROOT_ORIGIN_ID,n(g[0],g[1],g[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i);const s=n(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,s),s}const e=this._gridSize,o=Math.round(i[0]/e),a=Math.round(i[1]/e),h=Math.round(i[2]/e),c=`${m}${o}/${a}/${h}`;let _=this._origins.get(c);const d=.5*e;if(s(f,i,r.vec3),f[0]=Math.abs(f[0]),f[1]=Math.abs(f[1]),f[2]=Math.abs(f[2]),f[0]<d&&f[1]<d&&f[2]<d){if(_){const t=Math.max(...f);s(f,i,_.vec3),f[0]=Math.abs(f[0]),f[1]=Math.abs(f[1]),f[2]=Math.abs(f[2]);if(Math.max(...f)<t)return _}return r}return _||(_=n(o*e,a*e,h*e,c),this._origins.set(c,_)),_}_drawOriginBox(t,s=[1,1,0,1]){const r=window.view,n=r._stage,_=s.toString();if(!this._objects.has(_)){this._material=new c({width:2,color:s}),n.add(this._material);const t=new h({isPickable:!1}),i=new a({castShadow:!1});n.add(i),t.add(i),n.add(t),this._objects.set(_,i)}const m=this._objects.get(_),d=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],g=d.length,O=new Array(3*g),f=new Uint16Array(2*(g-1)),l=.5*this._gridSize;for(let i=0;i<g;i++)O[3*i+0]=t[0]+(1&d[i]?l:-l),O[3*i+1]=t[1]+(2&d[i]?l:-l),O[3*i+2]=t[2]+(4&d[i]?l:-l),i>0&&(f[2*i+0]=i-1,f[2*i+1]=i);e(O,this._originSR,0,O,r.renderSpatialReference,0,g);const I=new o([[\"position\",{size:3,data:O,exclusive:!0}]],[[\"position\",f]],2);n.add(I),m.addGeometry(I,this._material,i)}get test(){const t=this;return{get gridSize(){return t._gridSize},set gridSize(i){t._gridSize=i}}}}let g=null;function O(t){g=t}const f=r();export{d as GridLocalOriginFactory,O as setTestRootOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";class e{constructor(e){this.rctx=e,this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=r,this.hasOccludees=!1}resetRenderOccludedMask(){this.renderOccludedMask=r}get isHighlightPass(){return 5===this.pass}}class t extends e{constructor(s,e,t,r,i,h){super(s),this.offscreenRenderingHelper=e,this.scenelightingData=t,this.shadowMap=r,this.ssaoHelper=i,this.sliceHelper=h}}const r=13;export{e as OverlayRenderContext,t as RenderContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";class r{constructor(){this.adds=new e,this.removes=new e,this.updates=new e({allocator:e=>e||new s,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}}class s{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}export{r as ChangeSet,t as MaterialChangeSet,s as RenderGeometryUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{MaterialChangeSet as e}from\"./ChangeSet.js\";function r(r){const n=new Map,a=r=>{let t=n.get(r);return t||(t=new e,n.set(r,t)),t};return r.adds.forAll((e=>{t(e)&&a(e.material).adds.push(e)})),r.removes.forAll((e=>{t(e)&&a(e.material).removes.push(e)})),r.updates.forAll((e=>{t(e.renderGeometry)&&a(e.renderGeometry.material).updates.push(e)})),n}function t(e){return e.data.indexCount>=1}export{r as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindOutputHighlight as e}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindMultipassTerrainTexture as i}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindReadShadowMapUniforms as o}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{bindSSRUniforms as s}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{bindWaterDistortionUniforms as a}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{bindProjectionMatrix as n,bindView as p,bindCameraPosition as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as h}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as d,parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as m}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as g,OITBlending as f,OITDepthTest as b,OITDepthWrite as y,getOITPolygonOffset as v}from\"../lib/OrderIndependentTransparency.js\";import{Program as T}from\"../lib/Program.js\";import{W as S}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as w,defaultDepthWriteParams as j,defaultColorWriteParams as x}from\"../../../webgl/renderState.js\";class P extends l{constructor(r,t,e){super(r,t,e),this._textureRepository=r.waterTextureRepository}initializeProgram(r){const t=P.shader.get(),e=this.configuration,i=t.build({OITEnabled:0===e.transparencyPassType,output:e.output,viewingMode:r.viewingMode,slicePlaneEnabled:e.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:e.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:e.useSSR,highStepCount:!0,multipassTerrainEnabled:e.multipassTerrainEnabled,cullAboveGround:e.cullAboveGround});return new T(r.rctx,i,m)}ensureResource(r){return this._textureRepository.ready||this._textureRepository.updating||this._textureRepository.loadTextures(r),this._textureRepository.ready?2:1}bindPass(r,t){n(this.program,t.camera.projectionMatrix),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),i(this.program,t)),0===this.configuration.output&&(t.lighting.setUniforms(this.program,!1),s(this.program,t)),0!==this.configuration.output&&2!==this.configuration.output||(a(this.program,r),this._textureRepository.bind(this.program)),this.program.setUniform4fv(\"waterColor\",r.color),4===this.configuration.output&&e(this.program,t)}bindDraw(r){p(this.program,r),this.program.rebindTextures(),0!==this.configuration.output&&7!==this.configuration.output||u(this.program,r.origin,r.camera.viewInverseTransposeMatrix),0===this.configuration.output&&o(this.program,r),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||t(this.program,this.configuration,r)}setPipelineState(r){const t=this.configuration,e=3===r,i=2===r;return w({blending:2!==t.output&&4!==t.output&&t.transparent?e?g:f(r):null,depthTest:{func:b(r)},depthWrite:e?t.writeDepth&&j:y(r),colorWrite:x,polygonOffset:e||i?null:v(t.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}P.shader=new h(S,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class R extends d{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}r([c({count:8})],R.prototype,\"output\",void 0),r([c()],R.prototype,\"receiveShadows\",void 0),r([c()],R.prototype,\"slicePlaneEnabled\",void 0),r([c()],R.prototype,\"transparent\",void 0),r([c()],R.prototype,\"enableOffset\",void 0),r([c()],R.prototype,\"writeDepth\",void 0),r([c()],R.prototype,\"useSSR\",void 0),r([c()],R.prototype,\"isDraped\",void 0),r([c({count:4})],R.prototype,\"transparencyPassType\",void 0),r([c()],R.prototype,\"multipassTerrainEnabled\",void 0),r([c()],R.prototype,\"cullAboveGround\",void 0);export{P as WaterTechnique,R as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{WaterTechnique as t}from\"./WaterTechnique.js\";class a extends e{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(t,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(2===this._output)return 22===e;if(5===this._output)return null==e;if(4===this._output)return 3===e;let t=3;return this._material.params.transparent&&(t=this._material.params.writeDepth?5:8),e===t}setElapsedTimeUniform(e){const t=.001*this._material.animation.time;e.setUniform1f(\"timeElapsed\",t*this._material.params.animationSpeed)}_updateShadowState(e){e.shadowMappingEnabled!==this._material.params.receiveShadows&&this._material.setParameterValues({receiveShadows:e.shadowMappingEnabled})}_updateSSRState(e){e.ssrEnabled!==this._material.params.ssrEnabled&&this._material.setParameterValues({ssrEnabled:e.ssrEnabled})}ensureResources(e){return this._technique.ensureResource(e)}ensureParameters(e){0===this._output&&(this._updateShadowState(e),this._updateSSRState(e)),this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.params,e),2!==this._output&&0!==this._output||this.setElapsedTimeUniform(this._technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as t,e as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,f,m,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=f,this.hasOccludees=m,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){return t.first+t.count>=o.from}function f(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n(s,o)){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o))}export{s as Instance,f as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/PerformanceSampler.js\";import{once as s}from\"../../../../core/accessorSupport/utils.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends t{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new t(\"gpu\",9),this.renderPassTimings=i.map((e=>new t(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:s((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{someMap as e}from\"../../../../../core/MapUtils.js\";import{isNone as t,isSome as s}from\"../../../../../core/maybe.js\";import{m as a,a as i,e as r}from\"../../../../../chunks/mat4.js\";import{c as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{ResizableFloat32Array as d}from\"../../lib/ResizableFloat32Array.js\";import{assert as l,setMatrixTranslation3 as h}from\"../../lib/Util.js\";import{WaterGLMaterial as m}from\"../WaterGLMaterial.js\";import{Instance as c,sortInstancesAccordingToRange as u,addOrMerge as g}from\"./Instance.js\";import{acquireMaterials as f,releaseMaterials as p,calculateTransformRelativeToOrigin as w}from\"./utils.js\";import{addToRenderStats as b}from\"../../statistics/RendererPerformanceInfo.js\";import C from\"../../../../webgl/BufferObject.js\";import{getStride as y}from\"../../../../webgl/Util.js\";import _ from\"../../../../webgl/VertexArrayObject.js\";class v{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=f(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){p(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&e(this._glMaterials,(e=>e instanceof m))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.updates),this.addAndRemoveGeometries(e.adds,e.removes),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=H(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let d=r.get(t);if(null==d)l(s>0),d=this.createData(a,s,e.origin),r.set(t,d);else if(0===s)return d.vao.dispose(!0),d.vao=null,void r.delete(t);const m=s<e.sparseCount/2,c=m?s:o,u=R,g=d.buffer.size,f=d.buffer.array,p=d.buffer.resize(c,!1);m||p?this.removeAndRebuild(d,e.toRemove,i,f,u):e.toRemove.length>0?(this.removeByErasing(d,e.toRemove,i,u),e.toAdd.length>0&&(u.end=g)):(u.begin=g,u.end=g);const w=B;h(w,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(d,e.toAdd,i,w,u);const b=d.vao.vertexBuffers.geometry;if(b.byteSize!==d.buffer.array.buffer.byteLength)b.setData(d.buffer.array);else{const{begin:e,end:t}=u;if(e<t){const s=d.buffer.array,a=4,i=e*a,r=t*a;b.setSubData(s,i,i,r)}}d.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.id);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;w(i,D,j),t.write({transformation:D,invTranspTransformation:j},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),l(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((t=>{t.hasHiddenInstances=!1,t.hasHighlights=!1,t.hasOccludees=!1,e(t.instances,(e=>(e.isVisible?(e.hasHighlights&&(this._hasHighlights=!0,t.hasHighlights=!0),e.hasOccludees&&(this._hasOccludees=!0,t.hasOccludees=!0)):t.hasHiddenInstances=!0,t.hasHiddenInstances&&t.hasHighlights&&t.hasOccludees)))}));const t=e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.drawCommandsShadowHighlightRest=null,e.stats={default:0,highlight:0,occludees:0,shadowHighlightRest:0},0===e.instances.size)return;if(!O(e)){const t=4*e.buffer.size/y(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0,shadowHighlightRest:0})}const t=u([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[],e.drawCommandsShadowHighlightRest=[];for(const a of t)a.isVisible&&(a.hasOccludees?g(e.drawCommandsOccludees,a):g(e.drawCommandsDefault,a),a.hasHighlights?g(e.drawCommandsHighlight,a):g(e.drawCommandsShadowHighlightRest,a));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees),shadowHighlightRest:s(e.drawCommandsShadowHighlightRest)}};this._dataByOrigin.forEach((e=>{e.drawCommandsDirty&&(t(e),e.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(e,a,i,r){const n=this._rctx,o=this._glMaterials.get(a),d=5===a||7===a,l=6===a,h=!(d||l);if(3===a&&null===e&&(e=22),!o||2!==o.ensureResources(n)||null!=e&&!o.beginSlot(e)||d&&!this._hasHighlights)return!1;o.ensureParameters(i);const m=o.getPipelineState(e,!1);n.setPipelineState(m);const c=o.technique;n.useProgram(c.program),o.bind(i);let u=!1;return this._dataByOrigin.forEach((a=>{if(t(a.drawCommandsDefault)&&t(a.drawCommandsHighlight)&&t(a.drawCommandsOccludees)&&t(a.drawCommandsShadowHighlightRest))return;if(d&&!a.hasHighlights)return;i.origin=a.origin,c.bindDraw(i,{},{}),c.ensureAttributeLocations(a.vao),n.bindVAO(a.vao);const g=c.primitiveType,f=d?a.drawCommandsHighlight:l&&O(a)?a.drawCommandsShadowHighlightRest:a.drawCommandsDefault;if(s(f)){this.renderCommands(n,g,f);const e=d?a.stats.highlight:l&&O(a)?a.stats.shadowHighlightRest:a.stats.default;b(f.length,e,r),u=!0}if(h){const t=a.drawCommandsOccludees;if(s(t)){const s=o.getPipelineState(e,!0);n.setPipelineState(s),this.renderCommands(n,g,t),n.setPipelineState(m),b(t.length,a.stats.occludees,r),u=!0}}})),u}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new _(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:C.createVertex(this._rctx,35044)}),buffer:new d(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,drawCommandsShadowHighlightRest:null,stats:{default:0,highlight:0,occludees:0,shadowHighlightRest:0}}}removeAndRebuild(e,t,s,a,i){for(const h of t){const t=h.id,a=e.instances.get(t);e.optimalCount-=(a.to-a.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,d=-1,l=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==d&&d!==t?(n.set(a.subarray(o,d),l),l+=d-o,o=t):-1===o&&(o=t),d=i,e.from=r/s,r+=h,e.to=r/s})),o!==d&&n.set(a.subarray(o,d),l),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.id,o=e.instances.get(t),d=o.from*s,l=o.to*s;i!==r&&r!==d?(e.buffer.erase(i,r),i=d):-1===i&&(i=d),r=l,e.instances.delete(t),e.optimalCount-=l-d,d<a.begin&&(a.begin=d),l>a.end&&(a.end=l)}i!==r&&e.buffer.erase(i,r)}append(e,t,n,o,d){const h=this._bufferWriter;for(const m of t){const t=s(m.transformation)?a(D,o,m.transformation):o;i(j,t),r(j,j);const u=d.end;h.write({transformation:t,invTranspTransformation:j},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),d.end/n);const g=h.elementCount(m.data)*n,f=u+g;l(null==e.instances.get(m.id));const p=m.instanceParameters.visible,w=!!m.instanceParameters.highlights&&p,b=!!m.instanceParameters.occludees,C=new c(u/n,f/n,p,w,b);e.instances.set(m.id,C),e.optimalCount+=g,d.end+=g}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}function H(e,s,a,i){const r=new Map,n=s.vertexBufferLayout.stride/4,o=(a,i)=>{const o=a.origin;if(t(o))return;const d=e.get(o.id);let l=r.get(o.id);null==l&&(l={optimalCount:null==d?0:d.optimalCount,sparseCount:null==d?0:d.buffer.size,toAdd:[],toRemove:[],origin:o.vec3},r.set(o.id,l));const h=s.elementCount(a.data)*n;i?(l.optimalCount+=h,l.sparseCount+=h,l.toAdd.push(a)):(l.optimalCount-=h,l.toRemove.push(a))};for(const t of a)o(t,!0);for(const t of i)o(t,!1);return r}function O(e){return e.hasOccludees||e.hasHighlights||e.hasHiddenInstances}const R={begin:0,end:0},B=n(),D=n(),j=n();export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{someMap as t}from\"../../../../core/MapUtils.js\";import{applySome as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ChangeSet as d}from\"./ChangeSet.js\";import{materialPredicate as h}from\"./Material.js\";import{splitRenderGeometryChangeSetByMaterial as o}from\"./rendererUtils.js\";import l from\"../materials/renderers/MergedRenderer.js\";let p=class extends r{constructor(){super(...arguments),this._pending=new m,this._changes=new d,this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._changes.prune(),this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear()}get updating(){return!this._pending.empty||this._changes.updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return t(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((r=>s(r.material.animation,(r=>r.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){if(!this.updating)return!1;this._processAddsRemoves();const e=o(this._changes);let r=!1,s=!1,i=!1;return e.forEach(((e,t)=>{let a=this._materialRenderers.get(t);if(!a&&e.adds.length>0&&(a=new l(this.rctx,this.materialRepository,t),this._materialRenderers.set(t,a),r=!0,s=!0,i=!0),!a)return;const n=s||a.hasHighlights,d=i||a.hasWater;a.modify(e),s=s||n!==a.hasHighlights,i=i||d!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(t),a.dispose(),r=!0)})),this._changes.clear(),r&&this.updateSortedMaterialRenderers(),s&&(this._hasHighlights=t(this._materialRenderers,(e=>e.hasHighlights))),i&&(this._hasWater=t(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const r=this._pending.empty;for(const t of e)this._pending.adds.add(t);r&&this.notifyChange(\"updating\")}remove(e){const r=this._pending.empty;for(const t of e)this._pending.adds.has(t)?(this._pending.removed.add(t),this._pending.adds.delete(t)):this._pending.removed.has(t)||this._pending.removes.add(t);r&&!this._pending.empty&&this.notifyChange(\"updating\")}modify(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=s,e.updateType=r}t&&this._changes.updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let r=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:t})=>{t.updateLogic&&t.updateLogic(e)&&(r=!0)})),r}render(e,r){for(let t=0;t<this._sortedMaterialRenderers.length;t++){const s=this._sortedMaterialRenderers.data[t];h(s.material,e)&&s.materialRenderer.render(null,e.pass,r,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((r,t)=>{t.insertOrder=e++,this._sortedMaterialRenderers.push({material:t,materialRenderer:r})})),this._sortedMaterialRenderers.sort(((e,r)=>{const t=r.material.renderPriority-e.material.renderPriority;return 0!==t?t:e.material.insertOrder-r.material.insertOrder}))}_processAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._changes.adds.pushArray(Array.from(this._pending.adds)),this._changes.removes.pushArray(Array.from(this._pending.removes));for(let e=0;e<this._changes.updates.length;){const r=this._changes.updates.data[e];this._pending.has(r.renderGeometry)?this._changes.updates.removeUnorderedIndex(e):e++}this._pending.clear()}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([a()],p.prototype,\"rctx\",void 0),e([a()],p.prototype,\"materialRepository\",void 0),e([a()],p.prototype,\"updating\",null),p=e([n(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);class m{constructor(){this.adds=new Set,this.removes=new Set,this.removed=new Set}get empty(){return 0===this.adds.size&&0===this.removes.size&&0===this.removed.size}has(e){return this.adds.has(e)||this.removes.has(e)||this.removed.has(e)}clear(){this.adds.clear(),this.removes.clear(),this.removed.clear()}}export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{T as r}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"./DefaultVertexAttributeLocations.js\";import{Program as n}from\"./Program.js\";import{makePipelineState as l,separateBlendingParams as h,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new n(e.rctx,r,a)}initializePipeline(){return this.configuration.hasAlpha?l({blending:h(770,1,771,771),colorWrite:c}):l({colorWrite:c})}}u.shader=new o(r,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends i{constructor(){super(...arguments),this.hasAlpha=!1}}e([s()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(t=s()){this.intensity=t}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=i,this.direction=c}}class o{constructor(i=s(),c=t(.57735,.57735,.57735),o=!0){this.intensity=i,this.direction=c,this.castShadows=o}}class r{constructor(){this.r=[0],this.g=[0],this.b=[0]}}export{i as AmbientLight,c as FillLight,o as MainLight,r as SphericalHarmonicsAmbientLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{o as n,s as o,g as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{elementwiseProduct as r,scalarProduct as e,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as u}from\"./Lightsources.js\";function g(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function y(t,n,o){const i=t[0],s=t[1],r=t[2],e=o||[];return e.length=g(n),n>=0&&(e[0]=.28209479177),n>=1&&(e[1]=.4886025119*i,e[2]=.4886025119*r,e[3]=.4886025119*s),n>=2&&(e[4]=1.09254843059*i*s,e[5]=1.09254843059*s*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*i*r,e[8]=.54627421529*(i*i-s*s)),e}function m(t,n){const o=g(t),i=n||{r:[],g:[],b:[]};i.r.length=i.g.length=i.b.length=o;for(let s=0;s<o;s++)i.r[s]=i.g[s]=i.b[s]=0;return i}function p(t,o){const i=l(o.r.length);for(const s of t)n(v,s.direction),y(v,i,P),r(P,w),e(P,s.intensity[0],k),c(o.r,k),e(P,s.intensity[1],k),c(o.g,k),e(P,s.intensity[2],k),c(o.b,k);return o}function b(t,n){y(v,0,P);for(const o of t)n.r[0]+=P[0]*w[0]*o.intensity[0]*4*Math.PI,n.g[0]+=P[0]*w[0]*o.intensity[1]*4*Math.PI,n.b[0]+=P[0]*w[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,s,r){m(n,r),o(s.intensity,0,0,0);let e=!1;const g=d,l=j,y=I;g.length=0,l.length=0,y.length=0;for(const o of t)o instanceof f&&!e?(i(s.direction,o.direction),s.intensity[0]=o.intensity[0],s.intensity[1]=o.intensity[1],s.intensity[2]=o.intensity[2],s.castShadows=o.castShadows,e=!0):o instanceof f||o instanceof h?g.push(o):o instanceof a?l.push(o):o instanceof u&&y.push(o);p(g,r),b(l,r);for(const o of y)c(r.r,o.r),c(r.g,o.g),c(r.b,o.b)}const d=[],j=[],I=[],P=[0],k=[0],v=s(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,y as computeCoefficients,m as initSHCoefficients,g as numberOfCoefficients,l as orderFromNumberOfCoefficients,b as projectAmbientLights,p as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{g as i,a as t,b as n}from\"../../../../chunks/vec3.js\";import{c as s,f as o}from\"../../../../chunks/vec3f64.js\";import{SphericalHarmonicsAmbientLight as r}from\"./Lightsources.js\";import{combineLights as h}from\"./SphericalHarmonics.js\";class e{constructor(){this._shOrder=2,this._ambientBoost=.4,this._oldSunlight={direction:s(),ambient:{color:s(),intensity:1},diffuse:{color:s(),intensity:1}},this.globalFactor=.5,this.groundLightingFactor=.5,this._sphericalHarmonics=new r,this._mainLight={intensity:s(),direction:o(1,0,0),castShadows:!1}}get lightingMainDirection(){return this._mainLight.direction}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._mainLight.direction)}setUniforms(i,t=!1){const n=t?(1-this.groundLightingFactor)*(1-this.globalFactor):0;i.setUniform1f(\"lightingFixedFactor\",n),i.setUniform1f(\"lightingGlobalFactor\",this.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._mainLight.intensity),i.setUniform1f(\"ambientBoostFactor\",this._ambientBoost);const s=this._sphericalHarmonics;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",s.r[0],s.g[0],s.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",s.r[0],s.r[1],s.r[2],s.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",s.g[0],s.g[1],s.g[2],s.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",s.b[0],s.b[1],s.b[2],s.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",s.r[0],s.g[0],s.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",s.r[1],s.r[2],s.r[3],s.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",s.g[1],s.g[2],s.g[3],s.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",s.b[1],s.b[2],s.b[3],s.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",s.r[5],s.r[6],s.r[7],s.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",s.g[5],s.g[6],s.g[7],s.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",s.b[5],s.b[6],s.b[7],s.b[8]))}set(s){h(s,this._shOrder,this._mainLight,this._sphericalHarmonics),i(this._oldSunlight.direction,this._mainLight.direction);const o=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*o,this._oldSunlight.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*o,this._oldSunlight.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*o,t(this._oldSunlight.diffuse.color,this._mainLight.intensity,o),i(g,this._oldSunlight.diffuse.color),t(g,g,this._ambientBoost*this.globalFactor),n(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,g)}get old(){return this._oldSunlight}}const g=s();export{e as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,isNone as t,isSome as r}from\"../../../../core/maybe.js\";import\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/enums.js\";import\"../../../webgl/RenderingContext.js\";import\"../../../../chunks/builtins.js\";import n from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";class s{constructor(e){this._rctx=e,this.cache=new Map}dispose(){this.cache.forEach((t=>t.texture=e(t.texture))),this.cache.clear()}acquire(e){if(t(e))return null;const r=this.patternId(e),s=this.cache.get(r);if(s)return s.refCount++,s.bind;const i=2,o=this.patternToTextureData(e,2),a=o.length/i,c={refCount:1,texture:null,bind:e=>(t(c.texture)&&(c.texture=new n(this._rctx,{width:o.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},o)),e.bindTexture(c.texture,\"stipplePatternTexture\"),a)};return this.cache.set(r,c),c.bind}release(e){if(t(e))return;const n=this.patternId(e),s=this.cache.get(n);s&&(s.refCount--,0===s.refCount&&(r(s.texture)&&s.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let s=!0,i=0;for(const o of e){for(let e=0;e<o*t;e++)n[i++]=s?255:0;s=!s}return n}}export{s as StippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Handles.js\";import s from\"../../../core/Logger.js\";import{someMap as i}from\"../../../core/MapUtils.js\";import{releaseMaybe as a,disposeMaybe as n,isSome as o,unwrapOr as h,isNone as l,unwrap as d}from\"../../../core/maybe.js\";import u from\"../../../core/PooledArray.js\";import{someSet as g}from\"../../../core/SetUtils.js\";import{init as c}from\"../../../core/watchUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{o as m,i as _,t as f}from\"../../../chunks/mat4.js\";import{a as R}from\"../../../chunks/vec2f64.js\";import{f as T,c as b}from\"../../../chunks/vec3f64.js\";import w from\"../support/debugFlags.js\";import{Overlay as x}from\"./Overlay.js\";import{OverlayFramebufferObject as v}from\"./OverlayFramebufferObject.js\";import{OverlayRenderTarget as O}from\"./OverlayRenderTarget.js\";import{ShaderTechniqueRepository as C}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import{AutoDisposableMixin as j,autoDispose as L}from\"../webgl-engine/lib/AutoDisposable.js\";import S from\"../webgl-engine/lib/Camera.js\";import G from\"../webgl-engine/lib/GLMaterialRep.js\";import{createEmptyDepthTexture as V,createQuadVAO as D}from\"../webgl-engine/lib/glUtil3D.js\";import{GridLocalOriginFactory as P}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{IntersectorResult as M}from\"../webgl-engine/lib/intersectorUtils.js\";import{OverlayRenderContext as A}from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as E}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as U,TextureTechnique as W}from\"../webgl-engine/lib/TextureTechnique.js\";import{AmbientLight as H}from\"../webgl-engine/lighting/Lightsources.js\";import{SceneLighting as q}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as F}from\"../webgl-engine/materials/StippleTextureRepository.js\";import{TaskPriority as B,noBudget as k}from\"../../support/Scheduler.js\";import z from\"../../webgl/Texture.js\";import{vertexCount as I}from\"../../webgl/Util.js\";const X=s.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let Y=class extends(j(r)){constructor(e){super(e),this._overlays=null,this._overlayRenderTarget=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new q,this._handles=new t,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new u,this._geometries=new Map,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){const e=this.view._stage.renderView;this._rctx=e.renderingContext,this._renderContext=new A(this._rctx);const r=e.waterTextureRepository;this._stippleTextureRepository=new F(e.renderingContext),this._shaderTechniqueRepository=new C({rctx:this._rctx,viewingMode:2,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:r}),this._handles.add([c(r,\"loadingState\",(()=>this.emitContentChanged())),c(this,\"spatialReference\",(e=>this._localOrigins=new P(e)))]),this._materialRepository=new G(e.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&ee)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._lighting.groundLightingFactor=1,this._lighting.globalFactor=0,this._lighting.set([new H(T(1,1,1))]),this._bindParameters={slot:null,highlightDepthTexture:V(this._rctx),camera:N,inverseViewport:R(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,lastFrameColorTexture:null,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3,terrainLinearDepthTexture:null,geometryLinearDepthTexture:null,multipassTerrainEnabled:!1,cullAboveGround:!1,multipassGeometryEnabled:!1,highlightColorTexture:null},this._handles.add(this.view.resourceController.scheduler.registerTask(B.STAGE,this))}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._debugTextureTechnique=a(this._debugTextureTechnique),this._debugPatternTexture=n(this._debugPatternTexture),this._bindParameters.highlightDepthTexture=n(this._bindParameters.highlightDepthTexture),this._shaderTechniqueRepository=n(this._shaderTechniqueRepository),this._temporaryFBO=n(this._temporaryFBO),this._quadVAO=n(this._quadVAO),this._overlayRenderTarget=n(this._overlayRenderTarget)}get updating(){return this._sortedLayerRenderersDirty||i(this._layerRenderers,(e=>e.updating))}get hasOverlays(){return o(this._overlays)&&o(this._overlayRenderTarget)}get gpuMemoryUsage(){return o(this._overlayRenderTarget)?this._overlayRenderTarget.gpuMemoryUsage:0}collectUnusedRenderTargetMemory(e){let r=!1;if(o(this._overlayRenderTarget))for(const t of this._overlayRenderTarget.renderTargets){const s=this.overlays[0].validTargets[t.type]||!this.overlays[1].validTargets[t.type];r=this._overlayRenderTarget.validateUsageForTarget(s,t,e)||r}return r}get overlays(){return h(this._overlays,[])}ensureDrapeTargets(e){o(this._overlays)&&this._overlays.forEach((r=>{r.hasTargetWithoutRasterImage=g(e,(e=>1===e.drapeTargetType))}))}ensureDrapeSources(e){o(this._overlays)&&this._overlays.forEach((r=>{r.hasDrapedFeatureSource=i(e,((e,r)=>1===r.drapeSourceType)),r.hasDrapedRasterSource=i(e,((e,r)=>0===r.drapeSourceType))}))}ensureOverlays(e,r){l(this._overlays)&&(this._overlayRenderTarget=new O(this._rctx),this._overlays=[new x(0,this._overlayRenderTarget),new x(1,this._overlayRenderTarget)]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r)}disposeOverlays(){o(this._overlayRenderTarget)&&this._overlayRenderTarget.disposeRenderTargetMemory()}get running(){return this.updating}runTask(e,r=(()=>!0)){let t=!1;for(const[s,i]of this._layerRenderers){if(e.done)break;r(s)&&(i.commitChanges()&&(t=!0,e.madeProgress()),i.isEmpty&&(this._sortedLayerRenderersDirty=!0,this._layerRenderers.delete(s),this._handles.remove(s)))}this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),t=!0),t&&(o(this._overlays)&&0===this._layerRenderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}processSyncLayers(){this.runTask(k,(e=>1===e.updatePolicy))}addGeometries(e,r,t){for(const s of e)l(s.origin)&&(s.origin=this._localOrigins.getOrigin(s.boundingSphere)),this._geometries.set(s.id,s);this.ensureLayerRenderer(r).add(e),2===t&&this.notifyGraphicGeometryChanged(e,r)}removeGeometries(e,r,t){for(const i of e)this._geometries.delete(d(i.id));const s=this._layerRenderers.get(r);s&&(s.remove(e),2===t&&this.notifyGraphicGeometryChanged(e,r))}updateGeometries(e,r,t){const s=this._layerRenderers.get(r);if(s)switch(s.modify(e,t),t){case 4:case 2:return this.notifyGraphicGeometryChanged(e,r);case 1:return this.notifyGraphicVisibilityChanged(e,r)}else X.warn(\"Attempted to update geometry for nonexistent layer\")}notifyGraphicGeometryChanged(e,r){if(l(r.notifyGraphicGeometryChanged))return;let t;for(const s of e){const e=s.graphicUid;o(e)&&e!==t&&(r.notifyGraphicGeometryChanged(e),t=e)}}notifyGraphicVisibilityChanged(e,r){if(l(r.notifyGraphicVisibilityChanged))return;let t;for(const s of e){const e=s.graphicUid;o(e)&&e!==t&&(r.notifyGraphicVisibilityChanged(e),t=e)}}updateHighlights(e,r){const t=this._layerRenderers.get(r);t?t.modify(e,8):X.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!w.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let r=!1;return this._layerRenderers.forEach((t=>{t.updateLogic(e)&&(r=!0)})),r}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawTarget(e,r,t){const s=e.canvasGeometries;if(0===s.numViews)return!1;const i=e.pixelRatio*t;this._screenToWorldRatio=i*Math.abs(s.extents[0][2]-s.extents[0][0])/Math.abs(e.viewport[2]-e.viewport[0]);const a=r.renderPass;if(this.isEmpty()||5===a&&!this.hasHighlights||3===a&&!this.hasWater)return!1;if(!e.hasSomeSizedView())return!1;const n=r.fbo,h=2*e.resolution,l=e.resolution,u=1===r.type?2:4===r.type?1:0;if(!n.isValid())return!1;n.resize(h,l);const g=this._rctx;if(N.pixelRatio=i||1,this._renderContext.pass=a,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,e.applyViewport(this._rctx),n.bind(g),0===e.index&&(g.setClearColor(0,0,0,0),g.clearSafe(16384)),1===u&&(this._renderContext.renderOccludedMask=ee),w.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==u)for(let o=0;o<s.numViews;o++)this.setViewParameters(s.extents[o],e,N),this.drawDebugTexture(e.resolution,K[e.index%K.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:r,renderer:t})=>{if(2===u&&o(r)&&0===r.drapeSourceType)return;const i=o(r)&&o(r.fullOpacity)&&r.fullOpacity<1&&0===a;i&&(this.bindTemporaryFramebuffer(this._rctx,h,l),g.clearSafe(16384));for(let a=0;a<s.numViews;a++)this.setViewParameters(s.extents[a],e,N),t.render(this._renderContext,this._bindParameters);i&&o(this._temporaryFBO)&&(n.bind(g),this.view._stage.renderView.compositingHelper.composite(this._temporaryFBO.getTexture(),2,d(d(r).fullOpacity),3,e.index))})),g.bindFramebuffer(null),n.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,r,t){l(this._temporaryFBO)&&(this._temporaryFBO=new v(e,!1)),this._temporaryFBO.resize(r,t),this._temporaryFBO.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,r,t){let s=0;this._geometries.forEach((i=>{if(t&&!t(i))return;this.intersectRenderGeometry(i,r,0,e,s);const a=this.longitudeCyclical;a&&(i.boundingSphere[0]-i.boundingSphere[3]<a.min&&this.intersectRenderGeometry(i,r,a.range,e,s),i.boundingSphere[0]+i.boundingSphere[3]>a.max&&this.intersectRenderGeometry(i,r,-a.range,e,s)),s++}))}intersectRenderGeometry(e,r,t,s,i){if(!e.instanceParameters.visible)return;let a=0;o(e.transformation)&&(t+=e.transformation[12],a=e.transformation[13]),Q[0]=r[0]-t,Q[1]=r[1]-a,Q[2]=1,Z[0]=r[0]-t,Z[1]=r[1]-a,Z[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),s,Q,Z,((r,t,a)=>{this.addIntersectionResult(a,e.material.renderPriority,i,s,e.layerUid,e.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,r,t,s,i,a){const n={type:\"external\",metadata:{layerUid:i,graphicUid:a}},o=i=>{i.set(n,null,s.results.ground.dist,s.results.ground.normal,s.results.ground.transformation,r,null,null,e,t),i.intersector=\"OverlayRenderer\"};if((null==s.results.min.drapedLayerOrder||r>=s.results.min.drapedLayerOrder)&&(null==s.results.min.dist||s.results.ground.dist<=s.results.min.dist)&&o(s.results.min),0!==s.options.store&&(null==s.results.max.drapedLayerOrder||r<s.results.max.drapedLayerOrder)&&(null==s.results.max.dist||s.results.ground.dist>s.results.max.dist)&&o(s.results.max),2===s.options.store){const e=new M(s.ray);o(e),s.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((r=>r.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let r=this._layerRenderers.get(e);return r||(r=new E({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,r),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(c(r,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),r}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const e=new Set(this._layerRenderers.values());this.view.allLayerViews.forEach((r=>{const t=r,s=this._layerRenderers.get(t);s&&(this._sortedLayerRenderers.push(new J(t,s)),e.delete(s))})),e.forEach((e=>this._sortedLayerRenderers.push(new J(null,e))))}setViewParameters(e,r,t){t.viewport=r.viewport,m(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),_(t.viewMatrix),f(t.viewMatrix,t.viewMatrix,[-e[0],-e[1],0]),this._renderContext.camera=t,this._bindParameters.camera=t,this._bindParameters.inverseViewport[0]=1/t.fullViewport[2],this._bindParameters.inverseViewport[1]=1/t.fullViewport[3]}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=i(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e,this.onHasWaterChanged&&this.onHasWaterChanged(e))}updateHasHighlights(){const e=i(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=i(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,r){const t=this._rctx;this.ensureDebugPatternResources(e,e);const s=this._debugTextureTechnique.program;t.useProgram(s),t.setPipelineState(this._debugTextureTechnique.pipeline),s.setUniform4f(\"color\",r[0],r[1],r[2],1),s.bindTexture(this._debugPatternTexture,\"tex\"),t.bindVAO(this._quadVAO),t.drawArrays(5,0,I(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,r){if(this._debugPatternTexture)return;const t=new Uint8Array(e*r*4);let s=0;for(let a=0;a<r;a++)for(let i=0;i<e;i++){const n=Math.floor(i/10),o=Math.floor(a/10);n<2||o<2||10*n>e-20||10*o>r-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&n&&1&o?1&i^1&a?0:255:1&n^1&o?0:128)}this._debugPatternTexture=new z(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:r},t);const i=new U;i.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquire(W,i),this._quadVAO=D(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([L()],Y.prototype,\"_shaderTechniqueRepository\",void 0),e([L()],Y.prototype,\"_stippleTextureRepository\",void 0),e([p({constructOnly:!0})],Y.prototype,\"view\",void 0),e([p()],Y.prototype,\"globalUnitScale\",void 0),e([p()],Y.prototype,\"spatialReference\",void 0),e([p({type:Boolean,readOnly:!0})],Y.prototype,\"updating\",null),Y=e([y(\"esri.views.3d.terrain.OverlayRenderer\")],Y);class J{constructor(e,r){this.layerView=e,this.renderer=r}}const K=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],N=new S;N.near=1,N.far=1e4,N.relativeElevation=null;const Q=b(),Z=b(),$=-2,ee=4;export{$ as DRAPED_Z,Y as OverlayRenderer,ee as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../../../core/mathUtils.js\";import{isNone as o,isSome as e,unwrapOr as n}from\"../../../../core/maybe.js\";import{slice as r}from\"../../../../core/typedArrayUtil.js\";import{s as i,n as s,d as a,a as u}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{WHITE_UNIT as f}from\"./constants.js\";import{applyPerVertexElevationAlignment as h}from\"./elevationAlignmentUtils.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{Geometry as y}from\"../../webgl-engine/lib/Geometry.js\";function b(t){const o=[],e=[];j(t,e,o);const n=e[0][1].data,r=o[0][1].length,i=new Uint16Array(r);return A(t,e,o),F(t,e,o,i),w(t,e,o,i),v(t,e,o,i),D(t,e,o,i),P(t,e,o,i),U(t,e,o,n),new y(e,o,2)}function g(t,o,e,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:s,outlines:a}=l(i,t.hasZ,r),u=new Float64Array(s.length),c=h(s,t.spatialReference,0,u,0,s,0,s.length/3,o,e,n),p=null!=c;return{lines:p?d(a,s,u):[],projectionSuccess:p,sampledElevation:c}}function d(t,o,e){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,s=t+3*i;n.push({position:o.subarray(t,s),mapPosition:e?e.subarray(t,s):void 0})}return n}function z(t,o){const e=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,e),s=p(r,t.spatialReference,0,r,o,0,r.length/3);for(let a=2;a<r.length;a+=3)r[a]=m;return{lines:s?d(i,r):[],projectionSuccess:s}}function j(t,o,e){const{attributeData:{position:n},removeDuplicateStartEnd:i}=t,s=M(n)&&1===i,a=n.length/3-(s?1:0),u=new Uint32Array(2*(a-1)),c=s?r(n,0,n.length-3):n;let p=0;for(let r=0;r<a-1;r++)u[p++]=r,u[p++]=r+1;o.push([\"position\",{size:3,data:c,exclusive:s}]),e.push([\"position\",u])}function A(t,e,n){const r=t.attributeData.mapPosition;o(r)||(n.push([\"mapPos\",n[0][1]]),e.push([\"mapPos\",{size:3,data:r}]))}function F(t,o,r,i){if(e(t.attributeData.colorFeature))return;const s=t.attributeData.color;o.push([\"color\",{size:4,data:n(s,f)}]),r.push([\"color\",i])}function v(t,e,n,r){const i=t.attributeData.colorFeature;o(i)||(e.push([\"colorFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"color\",r]))}function w(t,o,r,i){if(e(t.attributeData.sizeFeature))return;const s=t.attributeData.size;o.push([\"size\",{size:1,data:[n(s,1)]}]),r.push([\"size\",i])}function D(t,e,n,r){const i=t.attributeData.sizeFeature;o(i)||(e.push([\"sizeFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"sizeFeatureAttribute\",r]))}function P(t,e,n,r){const i=t.attributeData.opacityFeature;o(i)||(e.push([\"opacityFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"opacityFeatureAttribute\",r]))}function U(o,e,r,c){if(\"round\"!==o.join)return;const p=c.length/3,l=new Float32Array(p),f=S,h=R;i(f,0,0,0);const m=n(o.uniformSize,1);for(let n=-1;n<p;++n){const o=n<0?p+n:n,e=(n+1)%p;if(i(h,c[3*e+0]-c[3*o+0],c[3*e+1]-c[3*o+1],c[3*e+2]-c[3*o+2]),s(h,h),n>=0){const o=1*((Math.PI-t(a(f,h)))*k)*x(m);l[n]=Math.max(Math.floor(o),0)}u(f,h,-1)}e.push([\"subdivisions\",{size:1,data:l}]),r.push([\"subdivisions\",r[0][1]])}function x(t){return 1.863798+-2.0062872/(1+t/18.2313)**.8856294}function M(t){const o=t.length;return t[0]===t[o-3]&&t[1]===t[o-2]&&t[2]===t[o-1]}const S=c(),R=c(),k=4/Math.PI;export{b as createGeometry,g as geometryToRenderInfo,z as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{i as r,t as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{Z as n,c as l}from\"../../../../chunks/vec3f64.js\";import{g as h,c as a}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as _}from\"./Object3DVisualElement.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class m extends _{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,r=l(),s=l(),i=100,n=[];o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=l(),h=l(),a=l(),p=l();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;r(g),s(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=n){r(g),s(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(a(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&h(r,this._innerColor)||(this._innerColor=a(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!h(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new u(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=i();export{m as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends e{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:n,y1:a,y2:p}=this.calculateCoordinates(h),l=`stroke: ${this.strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this.lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:a,x2:n,y2:p,style:l})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;const e=this.calculateCoordinates(h);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([s()],r.prototype,\"startX\",void 0),t([s()],r.prototype,\"startY\",void 0),t([s()],r.prototype,\"endX\",void 0),t([s()],r.prototype,\"endY\",void 0),t([s()],r.prototype,\"startPosition\",null),t([s()],r.prototype,\"endPosition\",null),t([s()],r.prototype,\"width\",void 0),t([s()],r.prototype,\"color\",void 0),t([s()],r.prototype,\"visible\",void 0),t([s({readOnly:!0})],r.prototype,\"strokeStyle\",null),r=t([i(\"esri.views.overlay.LineOverlayItem\")],r);const h={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};var n=r;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends e{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,c=this.y+l.y*a;this.roundedRect(t,x,c,n,a,i),t.fillStyle=this.backgroundColor,t.fill();const p=this.x+(l.x+.5)*n,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,p,d),t.fillStyle=this.textColor,t.fillText(this.text,p,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/n.length})`;const r=this.textShadowSize;for(const[s,l]of n)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([o()],l.prototype,\"x\",void 0),t([o()],l.prototype,\"y\",void 0),t([o()],l.prototype,\"position\",null),t([o()],l.prototype,\"text\",void 0),t([o()],l.prototype,\"fontSize\",void 0),t([o()],l.prototype,\"anchor\",void 0),t([o()],l.prototype,\"visible\",void 0),t([o()],l.prototype,\"padding\",null),l=t([i(\"esri.views.overlay.TextOverlayItem\")],l);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},n=[];{const t=16;for(let e=0;e<360;e+=360/t)n.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{isSome as e,unwrap as s}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as i,createRenderScreenPointArray3 as o,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{i as a,s as n,b as h,n as c,f as l,l as m,a as _}from\"../../../../chunks/vec2.js\";import{b as u}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{screenSpaceTangent as d}from\"../measurementTools/support/viewUtils.js\";import{VisualElement as x}from\"./VisualElement.js\";import f from\"../../../overlay/LineOverlayItem.js\";import b from\"../../../overlay/TextOverlayItem.js\";class v extends x{constructor(e){super(e.view),this._handles=new t,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(e)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}overlaps(t){return!!this.attached&&(this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem))}_updateLabelPosition(){if(this.attached){if(this._showText=!1,this._showCallout=!1,e(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":if(this._computeLabelPositionFromPoint(this.geometry.point,k)){if(this.geometry.callout){const t=this.view.state.camera,e=this.geometry.callout.distance;a(R,R,[0,this.geometry.callout.offset]),t.renderToScreen(R,k),n(j,0,1),h(j,j,e*t.pixelRatio),a(j,j,R),t.renderToScreen(j,z),this._showCallout=this._updatePosition(k,z)}else this._textItem.position=[k[0],k[1]],this._textItem.anchor=\"center\";this._showText=!0}break;case\"corner\":this._computeLabelPositionFromCorner(this.geometry,this._distance,k,z)&&(this._showCallout=this._updatePosition(k,z),this._showText=!0);break;case\"segment\":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,k,z)&&(this._showText=!0,this._showCallout=this._updatePosition(k,z))}this.updateVisibility(this.visible)}}_computeLabelPositionFromPoint(t,e){const s=this.view.state.camera;return s.projectToRenderScreen(t,R),!(R[2]<0||R[2]>1)&&(s.renderToScreen(R,e),!0)}_computeLabelPositionFromCorner(t,e,s,i){if(!t)return!1;const o=this.view.state.camera;return w(t.left,1,o,P),c(P,P),w(t.right,0,o,T),a(j,P,T),c(j,j),l(j,j),o.projectToRenderScreen(t.left.endRenderSpace,R),!(R[2]<0||R[2]>1)&&(o.renderToScreen(R,s),h(j,j,e*o.pixelRatio),a(j,j,R),o.renderToScreen(j,i),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const r=t.segment,l=this.view.state.camera;d(r.startRenderSpace,r.endRenderSpace,P,l),n(j,-P[1],P[0]);let _=!1;switch(s){case\"top\":_=j[1]<0;break;case\"bottom\":_=j[1]>0;break;case\"left\":_=j[0]>0;break;case\"right\":_=j[0]<0}if(_&&c(j,j),0===m(j))switch(s){case\"top\":j[1]=1;break;case\"bottom\":j[1]=-1;break;case\"left\":j[0]=-1;break;case\"right\":j[0]=1}return r.eval(O[t.sampleLocation],L),l.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(l.renderToScreen(R,i),h(j,j,e*l.pixelRatio),a(j,j,R),l.renderToScreen(j,o),!0)}_updatePosition(t,e){if(e){const s=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(s)>Math.abs(i)?s>0?\"left\":\"right\":i>0?\"top\":\"bottom\",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor=\"center\",!1}createResources(){this._textItem=new b({visible:!0}),this._textItem.text=s(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new f({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateLabelPosition())))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function w(t,e,s,i){t.eval(e,y,S),u(I,y,S),s.projectToRenderScreen(y,C),s.projectToRenderScreen(I,M),_(i,V,F),l(i,i)}function g(t){switch(t){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}const y=p(),I=p(),S=p(),P=i(),T=i(),j=i(),L=p(),R=o(),k=r(),z=r(),C=o(),F=C,M=o(),V=M,O={start:0,center:.5,end:1};export{v as LabelVisualElement,g as mirrorPosition,w as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as u}from\"../../../chunks/mat3.js\";import{c as _}from\"../../../chunks/mat3f64.js\";import{d as g,h as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as v}from\"../../../chunks/mat4f64.js\";import{j as b}from\"../../../chunks/vec2.js\";import{b as y,t as j,m as L,a as S,g as R,h as w,s as O,f as T}from\"../../../chunks/vec3.js\";import{c as E,Z as A}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeLatLonToENURotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as P}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as I}from\"../../../geometry/support/aaBoundingRect.js\";import{distance2 as M,fromPoints as C,closestRayDistance2 as x,create as B}from\"../../../geometry/support/lineSegment.js\";import{fromPositionAndNormal as W,intersectRay as V,create as H}from\"../../../geometry/support/plane.js\";import{create as U}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as Z}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as q}from\"../support/ElevationProvider.js\";import{fromScreen as J}from\"../support/geometryUtils/ray.js\";import K from\"../webgl-engine/lib/Camera.js\";import{Object3D as N}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import X from\"../../../geometry/Point.js\";class Y{constructor(e){this.idHint=0,this.camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=v(),this._worldFrame=null,this._renderLocation=E(),this._renderLocationDirty=!0,this._location=new X({x:0,y:0,z:0}),this._elevationAlignedLocation=new X,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){$(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=v()),ee(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){Z(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Z(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if($(this._modelTransform)){const t=this._calculateModelTransformOffset(_e);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,te),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(b(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ne),a=r*this.screenLocation.pixelSize,c=J(this.camera,s,se);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],i);for(let t=1;t<s.length;t++){const o=L(le,s[t],i),r=x(C(e,o,ie),c);if(null!=r&&r<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this.camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:A,i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,ne),l=r*this.screenLocation.pixelSize,h=J(this.camera,s,se);if(o(h))return null;const d=u(oe,c),_=j(de,e,d),g=L(ue,t,c);W(g,_,ae);const m=he;if(V(ae,h,m)&&w(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,ne),c=r*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=J(this.camera,s,se);if(o(l))return null;const d=u(oe,a),_=j(de,t,d),g=this._calculateModelTransformPosition(ue);W(g,_,ae);const m=he;if(!V(ae,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],a);for(let t=1;t<s.length;t++){const i=L(le,s[t],a),o=M(C(e,i,ie),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this.camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:1});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new X({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,ge,e.spatialReference),I(e.extent,ge)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(q(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(q(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(q(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ne;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=!(0!=(15&r))||(s&r)==(15&r),i=!(0!=(65520&r))||(this.state&r)==(65520&r);if(e&&i)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new N({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function $(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ee(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=P(e.renderCoordsHelper.spatialReference);return z(t,0,ce,0,o.radius),k(i(ce[1]),i(ce[0]),s),!0}}}const te=a(),ie=B(),se=U(),oe=_(),re=v(),ne=v(),ae=H(),ce=E(),le=E(),he=E(),de=E(),ue=E(),_e=E(),ge=new X({x:0,y:0,z:0,spatialReference:null});export{Y as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{c as r}from\"../../../../chunks/vec4f64.js\";import{bindScreenSizeScalingUniforms as i}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as o}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as s,bindView as a,bindCameraPosition as n}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as d,parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{Program as b}from\"../lib/Program.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{makePipelineState as v,cullingParams as y,defaultDepthWriteParams as T,defaultColorWriteParams as E}from\"../../../webgl/renderState.js\";class S extends p{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new b(e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;s(this.program,r.camera.projectionMatrix),this.program.setUniform4fv(\"color\",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),o(this.program,r)),a&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(w,l,n)),this.program.setUniform3fv(\"shadingDirection\",p),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix)),t&&i(this.program,e,r)}bindDraw(e){a(this.program,e),n(this.program,e.origin,e.camera.viewInverseTransposeMatrix),t(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return v({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:y(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&T:u(e),colorWrite:E,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}S.shader=new l(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends d{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([c({count:8})],j.prototype,\"output\",void 0),e([c({count:3})],j.prototype,\"cullFace\",void 0),e([c()],j.prototype,\"slicePlaneEnabled\",void 0),e([c()],j.prototype,\"transparent\",void 0),e([c()],j.prototype,\"writeDepth\",void 0),e([c()],j.prototype,\"screenSizeEnabled\",void 0),e([c()],j.prototype,\"shadingEnabled\",void 0),e([c({count:4})],j.prototype,\"transparencyPassType\",void 0),e([c()],j.prototype,\"multipassTerrainEnabled\",void 0),e([c()],j.prototype,\"cullAboveGround\",void 0);const P=new Map([[\"position\",0],[\"normal\",1],[\"offset\",2]]),w=r();export{S as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as h,materialParametersDefaults as f}from\"../lib/Material.js\";import{assert as l}from\"../lib/Util.js\";import{writeDefaultAttributes as p,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as d}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as b,ShadedColorMaterialVertexAttrLocations as g,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends h{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new b,this._vertexAttributeLocations=g}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,s,o,u,c,h,f){if(this.params.screenSizeEnabled){const o=e.vertexAttributes.get(\"offset\"),l={applyToVertex:(e,s,a,n)=>{const c=t(P,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),h=t(x,e,s,a);return r(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),i(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=a(e,P);return n(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};d(e,s,u,c,h,l,f)}else d(e,s,u,c,h,void 0,f)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new S(this.params.screenSizeEnabled)}}class E extends c{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(q,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(4===this._output)return 3===e;let t=3;return this._technique.configuration.transparent&&(t=this._technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(s(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class S{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(p(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),a=t.indices.get(\"offset\");l(3===s.size);const n=r.getField(\"offset\",o);if(!n)throw new Error(\"unable to acquire view for offset\");m(a,s.data,e.invTranspTransformation,n,i)}}}}const P=s(),x=s();export{v as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{f as n,c as o,m as c,n as a}from\"../../../chunks/vec3.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as l}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as u}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4,r=!0){const n=i(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new h({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t}):new f({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=i(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new u({view:e,renderObjects:[{geometry:g.createSphereGeometry(1,32,32),material:d(i(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,a,i){const m=n(s.get(),e,a),u=b(m,o(s.get(),i,m),a,l.get());r(u,u);const p=c(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,n){const c=a(s.get(),e),i=a(s.get(),t),l=o(s.get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:F(r,n.geometry)}function F(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:p(r);t(n)||(e.location=m(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,v as placeAtGraphic};\n"],"sourceRoot":""}