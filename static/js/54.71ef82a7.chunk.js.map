{"version":3,"sources":["../node_modules/@arcgis/core/views/3d/layers/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/layers/analysis/DirectLineMeasurement/DirectLineMeasurementView.js","../node_modules/@arcgis/core/views/3d/layers/DirectLineMeasurementLayerView3D.js","../node_modules/@arcgis/core/layers/DirectLineMeasurementLayer.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DModel.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DView.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/PickResult.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/PickRequest.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js","../node_modules/@arcgis/core/widgets/DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js","../node_modules/@arcgis/core/widgets/DirectLineMeasurement3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/chunks/earcut.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js","../node_modules/@arcgis/core/views/3d/interactive/measurementTools/support/viewUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/geometry/support/triangulationUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js","../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js","../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js","../node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js","../node_modules/@arcgis/core/chunks/boundedPlane.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Reprojection.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js","../node_modules/@arcgis/core/core/Quantity.js","../node_modules/@arcgis/core/views/3d/layers/analysis/support/UnitNormalizer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/analysis/support/viewUtils.js","../node_modules/@arcgis/core/core/quantityFormatUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/support/Segment.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../node_modules/@arcgis/core/views/3d/layers/graphics/constants.js","../node_modules/@arcgis/core/views/3d/support/debugFlags.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/localOrigin.js","../node_modules/@arcgis/core/views/3d/terrain/Overlay.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTarget.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutputOptions.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRep.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ResizableFloat32Array.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js","../node_modules/@arcgis/core/views/3d/webgl-engine/statistics/RendererPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/StippleTextureRepository.js","../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js","../node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/libs/maquette/h.js","../node_modules/@arcgis/core/views/overlay/LineOverlayItem.js","../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LabelVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js"],"names":["A","e","_unitNormalizer","k","_handles","s","_tempStartPosition","u","_tempEndPosition","_tempCornerPosition","this","add","l","view","_initialize","a","spatialReference","t","v","D","z","_sphericalPCPF","i","g","d","result","_computedResult","viewData","layer","startPoint","endPoint","n","_euclideanDistances","_exactGeodesicDistanceAndAngle","horizontal","value","directDistance","direct","horizontalDistance","verticalDistance","vertical","geodesicDistance","distance","geodesicAngle","angle","clone","r","o","j","m","h","p","Math","abs","normalizeDistance","f","_","y","c","addPath","isGeographic","P","b","isWebMercator","_fallbackGeodesicAngle","_fallbackGeodesicDistance","w","metersPerDegree","R","G","sin","cos","M","prototype","shader","get","build","rctx","program","camera","projectionMatrix","setUniform1f","width","outlineSize","setUniform4fv","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","rebindTextures","polygonOffset","configuration","polygonOffsetEnabled","factor","units","depthTest","func","depthWrite","colorWrite","arguments","techniqueConfig","params","output","updateParameters","_technique","_techniqueRep","releaseAndAcquire","_material","getTechniqueConfig","bindPass","getPassParameters","vec3f","vec2f","f32","q","x","C","vertexBufferLayout","createBuffer","indices","length","vertexAttributes","data","console","warn","transformation","invTranspTransformation","position","L","normal","uv0","setVec","set","T","auxpos1","_parameters","_origin","_originTransform","_arrowCenter","_renderOccluded","_geometry","_stripeLength","_stripesEnabled","applyProps","_arrowMaterial","setParameterValues","renderOccluded","geometryChanged","attached","arrowStripeEvenColor","arrowStripeOddColor","arrowOutlineColor","state","watch","viewChanged","destroy","startRenderSpace","endRenderSpace","_createArrowGeometry","addGeometry","renderCoordsHelper","push","type","eval","worldUpAtPosition","arrowSubdivisions","createPolylineGeometry","recreateGeometry","ready","computeScreenPixelSizeAt","arrowWidth","arrowOutlineWidth","arrowStripeLength","U","_params","Q","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","_segmentLabel","_verticalLabel","_horizontalLabel","_startPosition","E","_endPosition","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","_state","_segmentLabelDisplayedMeasurement","_triangleOrientationOverride","messages","viewMode","visualizedMeasurement","actualVisualizedMeasurement","visualElementOrientation","triangleCollapseRatioThreshold","layerView","geodesicDistanceThreshold","visible","suspended","_getActualVisualElementsOrientation","labels","Error","O","geometry","triangleLineWidth","color","triangleColor","W","stippleIntegerRepeats","geodesicProjectionLineWidth","geodesicProjectionLineColor","stipplePattern","guideStippleLengthPixels","guideLineWidth","fontSize","direcLabelFontSize","verticalLabelFontSize","horizontalLabelFontSize","S","_updateGeometryAndViewMode","_updateVisualElementVisibility","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","_updateMessageBundle","whenReady","equals","toRenderCoords","_updateActualVisualizedMeasurement","_computeViewMode","getAltitude","_updateSegment","_updateSegmentAndTriangle","_updateSegmentAndProjection","anchor","segment","sampleLocation","V","previous","center","next","B","I","projectToRenderScreen","J","K","H","N","F","setAltitude","setGeometryFromSegment","text","_getLabelsText","euclideanDistance","notifyChange","unit","_measurementArrowStripeLength","stripesEnabled","_geodesicDistanceExceeded","_requiresGeodesicGuideAt","min","aboveGround","toUnit","then","readOnly","laserLineGlowColor","laserLineGlowWidth","laserLineGlowFalloff","laserLineInnerColor","laserLineInnerWidth","laserLineGlobalAlpha","laserLineEnabled","handleColor","handleOpacity","handleRadius","triangleCornerSize","triangleSubdivisions","guideLineColor","labelDistance","_userUnit","_defaultUnit","_analysisView","allowVisualElementsOrientationChange","testData","_analysisController","whenMessages","json","read","listMode","cursorPoint","active","sceneView","map","reset","remove","_set","startPointSurfaceLocation","endPointSurfaceLocation","clearMeasurement","_clearOverride","_isOverridden","measurementSurfaceLocation","_override","constructOnly","scenePoint","mapPoint","Manipulators","AnalysisViewDestroyed","AnalysisView","_visible","_laserLine","_cursorPosition","_lastDraggedHandle","analysisView","_view","model","_intersector","viewingMode","options","store","_promise","Promise","reject","whenLayerView","_updateVisibility","_connectToAnalysisView","hide","show","destroyed","_cachedUnit","laserLineRenderer","heightManifoldEnabled","heightManifoldTarget","pointDistanceEnabled","pointDistanceOrigin","pointDistanceTarget","lineVerticalPlaneEnabled","directLabelText","horizontalLabelText","verticalLabelText","available","radius","location","grabbing","_updateLaserLine","events","on","start","end","finishMeasurement","_updateCursorPosition","_updateStartPosition","_updateEndPosition","style","innerColor","innerWidth","glowColor","glowWidth","glowFalloff","globalAlpha","cursor","screenPoint","sceneIntersectionHelper","intersectToolIntersectorScreen","results","getIntersectionPoint","fromRenderCoords","intersector","basemapTerrain","elevationProvider","_getFocusPosition","pointDistanceLine","origin","_getFocusSpherePosition","target","lineVerticalPlaneSegment","_cachedPickRequest","_cachedPickResult","_isAnyPointerDown","startManipulator","endManipulator","measurementView","when","createManipulators","action","mapEnd","_surfaceLocation","surfaceType","forEach","manipulators","complete","finishToolCreation","startToolCreation","isMeasuring","validMeasurement","toolState","created","_updateManipulatorVisibility","_handleImmediateClick","_handlePointerMove","_handlePointerDown","_handlePointerUp","_clearCachedPickRequest","pointerType","_hoverAt","emit","stopPropagation","button","interactive","requiresCursorPoint","_pick","pick","getElevation","getLogger","supportedViewType","_userUnitOptions","tool","isDisabled","mode","_filteredOrAllUnits","_findSelectableUnit","defaultUnit","createTool","removeTool","toolConstructor","constructorArguments","error","unitOptions","indexOf","slice","filter","buttonDisabled","base","container","hint","hintText","panelError","measurement","measurementItem","measurementItemDisabled","measurementItemTitle","measurementItemValue","settings","unitsLabel","unitsSelect","unitsSelectWrapper","actionSection","newMeasurementButton","widgetIcon","iconClass","label","messagesUnits","viewModel","isSupported","key","class","unsupported","classes","id","for","onchange","_changeUnit","bind","systems","pluralCapitalized","$","disabled","onclick","_newMeasurement","newMeasurement","role","selectedIndex","aliasOf","source","overridable","parent","catch","name","title","declaredClass","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","isUpdating","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","Boolean","exports","prev","Z","max","steiner","prevZ","nextZ","sort","deviation","flatten","vertices","holes","dimensions","fragment","include","uniforms","code","shadowMappingEnabled","shadowMap","bindView","receiveShadows","varyings","vertex","pbrMode","useCustomDTRExponentForWater","byteLength","Uint32Array","minReduction","originalIndices","componentOffsets","floor","ceil","sqrt","buffer","uniqueCount","_viewUp","_viewForward","_viewRight","_ray","_viewport","_padding","_fov","PI","_nearFar","_viewDirty","_viewMatrix","_projectionDirty","_projectionMatrix","_viewProjectionDirty","_viewProjectionMatrix","_viewInverseTransposeMatrixDirty","_viewInverseTransposeMatrix","_frustumDirty","_frustum","_fullViewport","pixelRatio","relativeElevation","_center","_up","_compareAndSetView","direction","eye","_ensureViewClean","height","fullWidth","fullHeight","viewMatrix","near","tan","fovY","aspect","far","X","Y","_recomputeFrustum","fovX","perRenderPixelRatio","up","viewport","padding","nearFar","fov","viewRight","viewUp","viewForward","frustum","viewInverseTransposeMatrix","fullViewport","copyFrom","computeRenderPixelSizeAtDist","viewDirectionDistance","computeScreenPixelSizeAtDist","perScreenPixelRatio","setViewport","renderToScreen","viewProjectionMatrix","unprojectFromRenderScreen","screenToRender","computeUpGlobal","computeUpLocal","_markViewDirty","isFinite","_transform","_transformInverse","_transformInverseTranspose","_transformTranspose","_transformInverseRotation","invalidate","invalidateLazyTransforms","setTransformMatrix","multiplyTransform","original","update","dirty","transform","offset","tmpVertex","localOrigin","componentLocalOriginLength","mbs","obb","halfSize","quaternion","sphere","objectTransform","inverse","pop","setUniform4f","waveStrength","waveTextureRepeat","flowStrength","flowOffset","setUniform2f","waveDirection","waveVelocity","screenSize","rings","hasZ","polygons","count","index","Float64Array","BYTES_PER_ELEMENT","holeIndices","faces","Array","pathLengths","outlines","_quadMaterial","_outlineMaterial","_maxSize","_position","_right","_color","_outlineColor","_outlineSize","_size","_outlineRenderOccluded","_updateQuadMaterial","_updateOutlineMaterial","_updateTransform","quadMaterialParameters","outlineMaterialParameters","removeAll","_createQuadGeometry","_createOutlineGeometry","_quadGeometryData","object","size","exclusive","Uint16Array","transparent","writeDepth","linearDepth","attributes","multipassTerrainEnabled","float","OITEnabled","Object","freeze","__proto__","screenSizeEnabled","shadingEnabled","verticalOffset","selectionMode","hud","selectOpaqueTerrainOnly","invisibleTerrain","backfacesTerrain","isFiltered","performanceInfo","queryDuration","numObjectsTested","tolerance","_rayEndPoint","_rayStartPointTransformed","_rayEndPointTransformed","resetWithRay","_numObjectsTested","init","point","filterPredicate","intersectObject","getSpatialQueryAccelerator","forEachAlongRayWithVerticalOffset","forEachAlongRay","forEachDegenerateObject","objects","forAll","sortResults","geometryRecords","material","instanceParameters","setAndInvalidateLazyTransforms","getShaderTransformation","intersect","dist","drapedLayerOrder","all","shaderTransformation","Number","MAX_VALUE","drapedLayerGraphicOrder","MIN_VALUE","DEFAULT_TOLERANCE","vs","plane","basis1","basis2","ys","ms","hs","is","Ns","Ps","POSITIVE_INFINITY","Ts","Is","ws","ns","rs","ts","js","as","cs","gs","vector","Ms","Ss","As","Vs","BoundedPlaneClass","create","wrap","copy","copyWithoutVerify","fromValues","updateUnboundedPlane","elevate","setExtent","fromAABoundingRect","intersectRay","intersectRayClosestSilhouette","closestPointOnSilhouette","closestPoint","projectPoint","projectPointLocal","distance2","distanceToSilhouette","NEGATIVE_INFINITY","extrusionContainsPoint","axisAt","ds","altitudeAt","setAltitudeAt","rotate","UP","ground","ray","hasIntersectionPoint","geometryId","triangleNr","obj","highStepCount","ssrEnabled","bindTexture","linearDepthTexture","setUniform2fv","setUniformMatrix4fv","lastFrameColorTexture","reprojectionMat","measure","_spatialReference","_updateNormalizationFactors","_metersPerDistanceUnit","_metersPerElevationUnit","_squareMetersPerAreaUnit","disableDisplay","requiresGroundFeedback","enableDraped","exclude","Set","opacity","delete","intersectIntersectorScreen","screenStart","screenEnd","mapStart","constants","slicePlaneEnabled","supportsHeightUnitConversion","addResolvingPromise","_validateHeightModelInfo","defaultsFromMap","handles","heightModelInfo","points","normals","renderSpatialReference","_start","_end","_pcpf","_project","_projectIn","SCENEVIEW_HITTEST_RETURN_INTERSECTOR","SCENEVIEW_LOCKING_LOG","HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED","HIGHLIGHTS_PROFILE_TO_CONSOLE","DECONFLICTOR_SHOW_VISIBLE","DECONFLICTOR_SHOW_INVISIBLE","DECONFLICTOR_SHOW_GRID","LABELS_SHOW_BORDER","OVERLAY_DRAW_DEBUG_TEXTURE","OVERLAY_SHOW_CENTER","SHOW_POI","TESTS_DISABLE_UPDATE_THRESHOLDS","DISABLE_DECONFLICTOR_VISIBILITY_OFFSET","DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES","DRAW_MESH_GEOMETRY_NORMALS","FEATURE_TILE_FETCH_SHOW_TILES","FEATURE_TILE_TREE_SHOW_TILES","TERRAIN_TILE_TREE_SHOW_TILES","I3S_TREE_SHOW_TILES","I3S_SHOW_MODIFICATIONS","ENABLE_PROFILE_DEPTH_RANGE","DISABLE_FAST_UPDATES","LOD_INSTANCE_RENDERER_DISABLE_UPDATES","LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL","EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES","vec3","renderTargets","extent","resolution","renderLocalOrigin","canvasGeometries","extents","numViews","validTargets","hasDrapedFeatureSource","hasDrapedRasterSource","hasTargetWithoutRasterImage","fill","getTarget","getTexture","computeRenderTargetValidityBitfield","needsColorWithoutRasterImage","drawTarget","setupGeometryViewsDirect","range","_fbo","colorTarget","depthStencilTarget","pixelFormat","dataType","wrapMode","samplingMode","hasMipmap","maxAnisotropy","colorTexture","resize","bindFramebuffer","descriptor","generateMipmap","gpuMemoryUsage","fbo","renderPass","valid","lastUsed","dispose","disposeRenderTargetMemory","reduce","technique","refCount","refZeroFrame","_context","_perConstructorInstances","Map","_frameCounter","_keepAliveFrameCount","clear","release","acquire","constructor","reload","find","refCnt","glMaterial","_textureRep","onMaterialChanged","_id2glMaterialRef","ownMaterial","getGLMaterial","techniqueRep","textureRep","incRefCnt","decRefCnt","getRefCnt","materialRepository","_originSR","ROOT_ORIGIN_ID","_origins","_gridSize","_objects","getOrigin","random","round","window","_stage","toString","has","isPickable","castShadow","lastFrameCamera","pass","slot","highlightDepthTexture","renderOccludedMask","hasOccludees","adds","removes","updates","allocator","deallocator","renderGeometry","prune","indexCount","_array","Float32Array","subarray","_textureRepository","waterTextureRepository","transparencyPassType","sliceHighlightDisabled","sliceEnabledForVertexPrograms","useSSR","cullAboveGround","loadTextures","inverseViewport","lighting","setUniforms","blending","enableOffset","setPipelineState","isDraped","_output","animation","time","animationSpeed","ensureResource","_updateShadowState","_updateSSRState","setElapsedTimeUniform","from","to","isVisible","hasHighlights","transformationNormal","first","drawCalls","triangles","_dataByOrigin","_hasHighlights","_hasOccludees","_rctx","_materialRep","_glMaterials","_bufferWriter","createBufferWriter","vao","isEmpty","updateGeometries","addAndRemoveGeometries","updateRenderCommands","stride","optimalCount","sparseCount","toAdd","toRemove","elementCount","createData","array","removeAndRebuild","removeByErasing","begin","append","vertexBuffers","byteSize","setData","setSubData","drawCommandsDirty","updateType","instances","highlights","occludees","write","createView","hasHiddenInstances","drawCommandsDefault","drawCommandsHighlight","drawCommandsOccludees","drawCommandsShadowHighlightRest","stats","default","highlight","shadowHighlightRest","layout","values","ensureResources","beginSlot","ensureParameters","getPipelineState","useProgram","bindDraw","ensureAttributeLocations","bindVAO","primitiveType","renderCommands","drawArrays","vertexAttributeLocations","createVertex","erase","glMaterials","_pending","_changes","_materialRenderers","_sortedMaterialRenderers","_hasWater","empty","rendersOccluded","stopAtTime","_processAddsRemoves","hasWater","modify","updateSortedMaterialRenderers","removed","pushNew","materialRenderer","updateLogic","render","insertOrder","renderPriority","pushArray","removeUnorderedIndex","sortedMaterialRenderers","hasAlpha","intensity","castShadows","_shOrder","_ambientBoost","_oldSunlight","ambient","diffuse","globalFactor","groundLightingFactor","_sphericalHarmonics","_mainLight","setUniform3fv","setLightDirectionUniform","setUniform3f","cache","texture","patternId","patternToTextureData","internalFormat","join","Uint8Array","_overlays","_overlayRenderTarget","_rendersOccluded","_lighting","_layerRenderers","_sortedLayerRenderersDirty","_sortedLayerRenderers","_geometries","globalUnitScale","longitudeCyclical","renderView","renderingContext","_renderContext","_stippleTextureRepository","_shaderTechniqueRepository","stippleTextureRepository","emitContentChanged","_localOrigins","_materialRepository","textureRepository","ee","updateRendersOccluded","_bindParameters","screenToWorldRatio","screenToWorldRatioGlobalWM","slicePlane","ssaoEnabled","terrainLinearDepthTexture","geometryLinearDepthTexture","multipassGeometryEnabled","highlightColorTexture","resourceController","scheduler","registerTask","STAGE","_debugTextureTechnique","_debugPatternTexture","_temporaryFBO","_quadVAO","overlays","validateUsageForTarget","drapeTargetType","drapeSourceType","ensureDrapeTargets","ensureDrapeSources","done","commitChanges","madeProgress","updateSortedLayerRenderers","disposeOverlays","updateHasHighlights","updateHasWater","runTask","updatePolicy","boundingSphere","ensureLayerRenderer","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","graphicUid","_screenToWorldRatio","hasSomeSizedView","isValid","applyViewport","setClearColor","clearSafe","setViewParameters","drawDebugTexture","renderer","fullOpacity","bindTemporaryFramebuffer","compositingHelper","composite","generateMipMap","resetRenderOccludedMask","hotReload","intersectRenderGeometry","addIntersectionResult","layerUid","calculateShaderTransformation","metadata","stopAnimationsAtTime","allLayerViews","onContentChanged","onHasWaterChanged","onHasHighlightsChanged","onRendersOccludedChanged","ensureDebugPatternResources","pipeline","layerRenderers","attributeData","removeDuplicateStartEnd","mapPosition","colorFeature","sizeFeature","opacityFeature","uniformSize","_width","_innerWidth","_innerColor","_stipplePattern","_stippleOffColor","_stippleIntegerRepeats","_writeDepthEnabled","_falloff","_polygonOffset","lines","endpoint","createRenderGeometry","_updateMaterial","recreate","materialParameters","_createLineGeometries","stippleOffColor","isClosed","falloff","isArray","vnodeSelector","properties","children","domNode","hasOwnProperty","startX","startY","endX","endY","calculateCoordinates","left","top","x1","x2","y1","y2","strokeStyle","lineCap","styles","visibility","lineWidth","beginPath","moveTo","lineTo","stroke","bottom","right","backgroundColor","textColor","textShadowColor","textShadowSize","_cssClasses","borderRadius","textShadow","font","replace","measureText","textAlign","textBaseline","roundedRect","fillStyle","_renderTextShadow","fillText","lineJoin","arcTo","closePath","_textItem","_calloutItem","_showCallout","_showText","_text","_fontSize","_distance","_anchor","_updateLabelPosition","textItem","overlay","overlaps","_computeLabelPositionFromPoint","callout","_updatePosition","_computeLabelPositionFromCorner","_computeLabelPositionFromSegment","updateVisibility","startPosition","endPosition","items","addMany","removeMany","idHint","_elevation","override","collisionType","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","_worldFrame","_renderLocation","_renderLocationDirty","_location","_elevationAlignedLocation","_elevationAlignedLocationDirty","selectable","grabbable","_grabbing","dragging","_hovering","_selected","_focused","EventEmitter","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_attached","_engineLayer","_materialIdReferences","_removeResourcesFromStage","_elevationInfo","_updateEngineObject","elevationAlignedLocation","ce","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","ensureScreenLocation","renderLocation","_calculateModelTransformOffset","_e","te","_getCollisionRadius","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ne","se","le","ie","oe","de","ue","ae","he","_calculateModelTransformPosition","manipulator3D","engineLayerId","getObject","engineLayerReferences","materialIdReferences","ge","elevationInfo","_getFocusedSize","focused","_ensureEngineResources","objectsByState","selected","stateMask","setVisible","renderObjects","materials","_addResourcesToStage","re","areAnyResourcesVisible","shadingTint","shadingDirection","blendColor","culling","cullFace","supportsEdges","_vertexAttributeLocations","applyToVertex","computeRenderPixelSizeAt","applyToAabb","getField","createSphereGeometry"],"mappings":"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","file":"static/js/54.71ef82a7.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import s from\"../../../../../core/Handles.js\";import{rad2deg as i,acosClamped as r,deg2rad as o}from\"../../../../../core/mathUtils.js\";import{destroyMaybe as a,isNone as n}from\"../../../../../core/maybe.js\";import c from\"../../../../../core/Quantity.js\";import{whenOnce as l}from\"../../../../../core/watchUtils.js\";import{property as m}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as p}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reactionInit as d}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{i as h}from\"../../../../../chunks/vec3.js\";import{c as u}from\"../../../../../chunks/vec3f64.js\";import{geodesicLength as f}from\"../../../../../geometry/geometryEngine.js\";import _ from\"../../../../../geometry/Polyline.js\";import{canProjectWithoutEngine as g,projectPointToVector as j,projectPointToWGS84ComparableLonLat as y}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as v,getReferenceEllipsoid as w,SphericalECEFSpatialReference as D,WGS84ECEFSpatialReference as z}from\"../../../../../geometry/projectionEllipsoid.js\";import{isSupported as P,geodesicLengths as b,inverseGeodeticSolver as M}from\"../../../../../geometry/support/geodesicUtils.js\";import{UnitNormalizer as k}from\"../support/UnitNormalizer.js\";let A=class extends t{constructor(e){super(e),this._unitNormalizer=new k,this._handles=new s,this._tempStartPosition=u(),this._tempEndPosition=u(),this._tempCornerPosition=u()}initialize(){this._handles.add(l(this.view,\"ready\",(()=>this._initialize()),!0))}destroy(){this._handles=a(this._handles)}_initialize(){const e=this.view.spatialReference,t=v(e),s=t===D?z:t;this._sphericalPCPF=s;const i=g(e,s);this._unitNormalizer.spatialReference=i?s:e,this._handles.add(d((()=>({result:this._computedResult,viewData:this.viewData})),(({result:e,viewData:t})=>{t.result=e})))}get _computedResult(){const{startPoint:e,endPoint:t}=this.layer;if(n(e)||n(t))return null;const s=this._euclideanDistances(e,t),i=this._exactGeodesicDistanceAndAngle(e,t,s.horizontal.value);return{directDistance:s.direct,horizontalDistance:s.horizontal,verticalDistance:s.vertical,geodesicDistance:i.distance,geodesicAngle:i.angle}}_euclideanDistances(e,t){const s=e.clone();s.z=t.z;const i=this._tempStartPosition,r=this._tempEndPosition,o=this._tempCornerPosition,a=this.view.spatialReference,n=this._sphericalPCPF,l=g(a,n)?n:a;j(e,i,l),j(t,r,l),j(s,o,l);const m=h(i,r),p=h(o,r),d=Math.abs(t.z-e.z),u=e=>this._unitNormalizer.normalizeDistance(e),f=u(m),_=u(p),y=u(d);return{direct:new c(f,\"meters\"),horizontal:new c(_,\"meters\"),vertical:new c(y,\"meters\")}}_exactGeodesicDistanceAndAngle(e,t,s){const i=e.spatialReference,r=new _({spatialReference:i});r.addPath([e,t]);const o=i.isGeographic&&P(i)?b([r],\"meters\")[0]:i.isWebMercator?f(r,\"meters\"):void 0,{distance:a,angle:n}=o?{distance:o,angle:this._fallbackGeodesicAngle(o,i)}:this._fallbackGeodesicDistance(e,t,s);return{distance:new c(a,\"meters\"),angle:new c(n,\"degrees\")}}_fallbackGeodesicAngle(e,t){return e/w(t).metersPerDegree}_fallbackGeodesicDistance(e,t,s){if(y(e,R)){y(t,G);const e=o(R[0]),s=o(R[1]),a=o(G[0]),n=o(G[1]),c=Math.abs(a-e),l=r(Math.sin(s)*Math.sin(n)+Math.cos(s)*Math.cos(n)*Math.cos(c)),m=i(l),p={distance:0};return M(p,[R[0],R[1]],[G[0],G[1]]),{distance:p.distance,angle:m}}const a=e.spatialReference,n=s;return{distance:n,angle:this._fallbackGeodesicAngle(n,a)}}};e([m()],A.prototype,\"view\",void 0),e([m()],A.prototype,\"layer\",void 0),e([m()],A.prototype,\"viewData\",void 0),e([m()],A.prototype,\"_computedResult\",null),A=e([p(\"esri.views.3d.layers.analysis.DirectLineMeasurement/DirectLineMeasurementController\")],A);const R=u(),G=u();export{A as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{bindProjectionMatrix as e,bindView as o}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as i}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as s,parameter as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as m}from\"../lib/Program.js\";import{M as p}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{makePipelineState as l,defaultDepthWriteParams as f,defaultColorWriteParams as h}from\"../../../webgl/renderState.js\";class d extends i{constructor(r,e,o){super(r,e,o)}initializeProgram(r){const e=d.shader.get().build();return new m(r.rctx,e,a)}bindPass(r,o){e(this.program,o.camera.projectionMatrix),this.program.setUniform1f(\"width\",r.width),this.program.setUniform1f(\"outlineSize\",r.outlineSize),this.program.setUniform4fv(\"outlineColor\",r.outlineColor),this.program.setUniform1f(\"stripeLength\",r.stripeLength),this.program.setUniform4fv(\"stripeEvenColor\",r.stripeEvenColor),this.program.setUniform4fv(\"stripeOddColor\",r.stripeOddColor)}bindDraw(r){o(this.program,r),this.program.rebindTextures()}initializePipeline(){return l({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:f,colorWrite:h})}get primitiveType(){return 5}}d.shader=new t(p,(()=>import(\"./MeasurementArrow.glsl.js\")));class u extends s{constructor(){super(...arguments),this.polygonOffsetEnabled=!1}}r([n()],u.prototype,\"polygonOffsetEnabled\",void 0);export{d as MeasurementArrowTechnique,u as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{s as e,n as t,f as s,c as r,i,m as o}from\"../../../../chunks/vec3.js\";import{c as n}from\"../../../../chunks/vec3f64.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as u,materialParametersDefaults as f}from\"../lib/Material.js\";import{MeasurementArrowTechniqueConfiguration as l,MeasurementArrowTechnique as p}from\"../shaders/MeasurementArrowTechnique.js\";class h extends u{constructor(e){super(e,d),this.techniqueConfig=new l}getTechniqueConfig(){return this.techniqueConfig.polygonOffsetEnabled=this.params.polygonOffset,this.techniqueConfig}dispose(){}getPassParameters(){return this.params}intersect(){}createBufferWriter(){return new w}getGLMaterial(e){return 0===e.output?new m(e):void 0}}class m extends c{constructor(e){super(e),this.updateParameters()}updateParameters(){this._technique=this._techniqueRep.releaseAndAcquire(p,this._material.getTechniqueConfig(),this._technique)}beginSlot(e){return 3===e}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const d={width:32,outlineSize:.2,outlineColor:[1,.5,0,1],stripeLength:1,stripeEvenColor:[1,1,1,1],stripeOddColor:[1,.5,0,1],polygonOffset:!1,...f},g=a().vec3f(\"position\").vec3f(\"normal\").vec2f(\"uv0\").f32(\"auxpos1\"),v=n(),q=n(),b=n(),x=n(),C=n();class w{constructor(){this.vertexBufferLayout=g}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return 2*(e.indices.get(\"position\").length/2+1)}write(n,a,c,u){const f=a.vertexAttributes.get(\"position\").data,l=a.vertexAttributes.get(\"normal\").data,p=f.length/3,h=a&&a.indices&&a.indices.get(\"position\");h&&h.length!==2*(p-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const m=v,d=q,g=b,w=x,P=C,j=n.transformation,y=n.invTranspTransformation,A=c.position,L=c.normal,M=c.uv0;let _=0;for(let v=0;v<p;++v){const n=3*v;if(e(m,f[n],f[n+1],f[n+2]),v<p-1){const i=3*(v+1);e(d,f[i],f[i+1],f[i+2]),e(P,l[i],l[i+1],l[i+2]),t(P,P),s(g,d,m),t(g,g),r(w,P,g),t(w,w)}const a=i(m,d);j&&y&&(o(m,m,j),o(d,d,j),o(w,w,y));const c=u+2*v,h=c+1;A.setVec(c,m),A.setVec(h,m),L.setVec(c,w),L.setVec(h,w),M.set(c,0,_),M.set(c,1,-1),M.set(h,0,_),M.set(h,1,1),v<p-1&&(_+=a)}const T=c.auxpos1;for(let e=0;e<2*p;++e)T.set(u+e,_)}}export{h as MeasurementArrowMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isNone as r,isSome as t}from\"../../../../core/maybe.js\";import{c as s}from\"../../../../chunks/mat4f64.js\";import{f as i}from\"../../../../chunks/vec3.js\";import{c as a}from\"../../../../chunks/vec3f64.js\";import{sv3d as o}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as n}from\"./Object3DVisualElement.js\";import h from\"../../webgl-engine/lib/GeometryUtil.js\";import{MeasurementArrowMaterial as l}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class d extends n{constructor(e){super(e),this._parameters=c,this._handles=null,this._origin=a(),this._originTransform=s(),this._arrowCenter=a(),this._renderOccluded=4,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial&&this._arrowMaterial.setParameterValues({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameterValues({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._parameters.arrowStripeEvenColor:this._parameters.arrowStripeOddColor;this._arrowMaterial.setParameterValues({stripeEvenColor:e})}}createExternalResources(){const r=this._stripesEnabled?this._parameters.arrowStripeEvenColor:this._parameters.arrowStripeOddColor;this._arrowMaterial=new l({outlineColor:this._parameters.arrowOutlineColor,stripeEvenColor:r,stripeOddColor:this._parameters.arrowStripeOddColor,renderOccluded:this.renderOccluded,polygonOffset:!0}),this._handles=new e,this._handles.add(this.view.state.watch(\"camera\",(()=>{this.viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles.destroy(),this._handles=null}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(r(this._geometry)||r(this._geometry.startRenderSpace)||r(this._geometry.endRenderSpace))return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);e.addGeometry(t,this._arrowMaterial,this._originTransform),this.viewChanged()}_createArrowGeometry(e,r,t,s){const a=this.view.renderCoordsHelper,n=[],l=[],d=(e,r)=>{const s=o.get();i(s,e,t),n.push(s),l.push(r)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const t=o.get();a.worldUpAtPosition(this._arrowCenter,t),d(e,t),d(r,t)}else{s.eval(.5,this._arrowCenter);const e=this._parameters.arrowSubdivisions+1&-2;for(let r=0;r<e;++r){const t=r/(e-1),i=o.get(),n=o.get();s.eval(t,i),a.worldUpAtPosition(i,n),d(i,n)}}return h.createPolylineGeometry(n,l)}geometryChanged(){this.recreateGeometry()}viewChanged(){if(this.view.ready&&this.attached&&t(this._geometry)){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameterValues({width:this._parameters.arrowWidth*e})}}}const c={arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128};export{d as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../intl.js\";import t from\"../../../../../core/Accessor.js\";import i from\"../../../../../core/Handles.js\";import{nextHighestPowerOfTen as s,sign as n,deg2rad as r}from\"../../../../../core/mathUtils.js\";import{isSome as a,isNone as o,destroyMaybe as l}from\"../../../../../core/maybe.js\";import{formatDecimal as h,formatDMS as c,formatImperialLength as d,formatImperialVerticalLength as u,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../../core/quantityFormatUtils.js\";import{createRenderScreenPointArray3 as p,createRenderScreenPointArray as _}from\"../../../../../core/screenUtils.js\";import{preferredImperialLengthUnit as v,convertUnit as b}from\"../../../../../core/unitUtils.js\";import{whenOnce as L}from\"../../../../../core/watchUtils.js\";import{property as w}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as y}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{autorun as S}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{h as f}from\"../../../../../chunks/vec2.js\";import{a as z,b as V}from\"../../../../../chunks/vec3.js\";import{c as E}from\"../../../../../chunks/vec3f64.js\";import{f as j}from\"../../../../../chunks/vec4f32.js\";import{getReferenceEllipsoid as P}from\"../../../../../geometry/projectionEllipsoid.js\";import{LabelVisualElement as D,mirrorPosition as A}from\"../../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as M}from\"../../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as O}from\"../../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as C}from\"../../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as x,EuclideanSegment as G}from\"../../../interactive/visualElements/support/Segment.js\";import{screenSpaceTangent as H}from\"../support/viewUtils.js\";import{createStipplePatternSimple as k}from\"../../../webgl-engine/materials/lineStippleUtils.js\";import{onLocaleChange as R}from\"../../../../../intl/locale.js\";import{fetchMessageBundle as T}from\"../../../../../intl/messages.js\";let U=class extends t{constructor(e){super(e),this._params={...Q},this._handles=new i,this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=E(),this._endPosition=E(),this._cornerPosition=E(),this._startPositionAtSeaLevel=E(),this._endPositionAtSeaLevel=E(),this._state=0,this._segmentLabelDisplayedMeasurement=1,this._triangleOrientationOverride=null,this.messages=null,this.viewMode=0,this.visualizedMeasurement=0,this.actualVisualizedMeasurement=1,this.visualElementOrientation=0,this.triangleCollapseRatioThreshold=.03}get _geodesicDistanceExceeded(){var e;const t=this.layerView.result;return a(t)&&(null==(e=t.horizontalDistance)?void 0:e.value)>this.layer.geodesicDistanceThreshold}get ready(){return 1===this._state}get visible(){return this.layerView.visible&&!this.layerView.suspended}get allowVisualElementsOrientationChange(){return o(this._triangleOrientationOverride)}set allowVisualElementsOrientationChange(e){o(this._triangleOrientationOverride)!==e&&(o(this._triangleOrientationOverride)?this._triangleOrientationOverride=this._getActualVisualElementsOrientation():this._triangleOrientationOverride=null)}get labels(){return 2===this.actualVisualizedMeasurement?{direct:this._horizontalLabel,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}get testData(){return{labels:this.labels,stripeLength:this._segmentVisualElement.stripeLength}}initialize(){this._handles.add(L(this.view,\"ready\",(()=>this._initialize()),!0))}_initialize(){switch(this._state){case 1:throw new Error(\"invalid state\");case 2:return}const e=this._params,t={attached:!0,view:this.view};this._segmentVisualElement=new O({...t,geometry:null,renderOccluded:4}),this._triangleVisualElement=new M({...t,width:e.triangleLineWidth,color:e.triangleColor,renderOccluded:4}),this._rightAngleQuad=new C({...t,color:W,renderOccluded:4});const i={...t,polygonOffset:!0,stippleIntegerRepeats:!1,renderOccluded:4};this._projectedGeodesicLine=new M({...i,width:e.geodesicProjectionLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:k(e.guideStippleLengthPixels)}),this._geodesicStartHint=new M({...i,width:e.guideLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:k(e.guideStippleLengthPixels)}),this._geodesicEndHint=new M({...i,width:e.guideLineWidth,color:e.geodesicProjectionLineColor,stipplePattern:k(e.guideStippleLengthPixels)}),this._segmentLabel=new D({...t,fontSize:e.direcLabelFontSize}),this._verticalLabel=new D({...t,fontSize:e.verticalLabelFontSize}),this._horizontalLabel=new D({...t,fontSize:e.horizontalLabelFontSize}),this._handles.add([S((()=>this._updateGeometryAndViewMode())),S((()=>this._updateVisualElementVisibility())),S((()=>this._updateLabelText())),S((()=>this._updateLabelVisibility())),S((()=>this._updateSegmentStripeLength())),R((async()=>this._updateMessageBundle()))]),this._state=1,this._updateMessageBundle()}destroy(){2!==this._state&&(this._handles=l(this._handles),this._segmentVisualElement=l(this._segmentVisualElement),this._triangleVisualElement=l(this._triangleVisualElement),this._rightAngleQuad=l(this._rightAngleQuad),this._projectedGeodesicLine=l(this._projectedGeodesicLine),this._geodesicStartHint=l(this._geodesicStartHint),this._geodesicEndHint=l(this._geodesicEndHint),this._segmentLabel=l(this._segmentLabel),this._verticalLabel=l(this._verticalLabel),this._horizontalLabel=l(this._horizontalLabel),this.set(\"view\",null),this._state=2)}async whenReady(){await L(this,\"ready\")}async whenMessages(){await this.whenReady(),await L(this,\"messages\")}_updateVisualElementVisibility(){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,this.visible)switch(this.viewMode){case 0:break;case 1:this._segmentVisualElement.visible=!0;break;case 2:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case 3:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode(){const e=this.view.renderCoordsHelper,{startPoint:t,endPoint:i}=this.layer;if(o(t)||o(i)||t.equals(i)){this.viewMode=0;const e=this.visualizedMeasurement,t=0===e;return void(this.actualVisualizedMeasurement=t?1:e)}e.toRenderCoords(t,this._startPosition),e.toRenderCoords(i,this._endPosition);const s=this._getActualVisualElementsOrientation(),n=this._updateActualVisualizedMeasurement();this.viewMode=this._computeViewMode(n);let r=this._startPosition,a=this._endPosition;const l=1===s?1:-1,h=l*(e.getAltitude(a)-e.getAltitude(r));h<0&&(r=this._endPosition,a=this._startPosition);const c=2===n?new x(this._startPosition,this._endPosition,e.spatialReference):new G(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=c,this._updateSegmentStripeLength(),this._segmentLabelDisplayedMeasurement=n,this.viewMode){case 1:this._updateSegment(c,s);break;case 2:this._updateSegmentAndTriangle(c,s,r,a,l,h);break;case 3:this._updateSegmentAndProjection(s)}}_updateSegment(e,t){this._segmentLabel.anchor=1===t?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle(e,t,i,s,n,r){const a=this.view,o=a.renderCoordsHelper,l=a.state.camera,h=this._cornerPosition;o.worldUpAtPosition(i,h),z(h,h,n*Math.abs(r)),V(h,h,i),this._triangleVisualElement.geometry=[[[i[0],i[1],i[2]],[h[0],h[1],h[2]],[s[0],s[1],s[2]]]],this._rightAngleQuad.geometry={previous:i,center:h,next:s};const c=new G(i,h),d=new G(h,s),u=F(i,s,h,t,l);this._segmentLabel.anchor=u.segment,this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=u.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=u.horizontal}_updateSegmentAndProjection(e){const t=this.view.renderCoordsHelper;t.setAltitude(this._startPositionAtSeaLevel,0,this._startPosition),t.setAltitude(this._endPositionAtSeaLevel,0,this._endPosition);const i=new x(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,t.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(i),this._geodesicStartHint.setGeometryFromSegment(new G(this._startPositionAtSeaLevel,this._startPosition)),this._geodesicEndHint.setGeometryFromSegment(new G(this._endPositionAtSeaLevel,this._endPosition)),this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._segmentLabel.anchor=1===e?\"top\":\"bottom\"}_updateLabelText(){if(1!==this._state)return;const e=this._segmentLabel,t=this._horizontalLabel,i=this._verticalLabel,s=this.messages,n=this.layerView.result;if(o(n)||o(s))return e.text=null,t.text=null,void(i.text=null);const r=this._getLabelsText(s,n),a=1===this._segmentLabelDisplayedMeasurement;e.text=a?r.euclideanDistance:r.geodesicDistance,t.text=r.horizontalDistance,i.text=r.verticalDistance,this.notifyChange(\"labels\")}_updateLabelVisibility(){if(1!==this._state)return;const e=this._segmentLabel,t=this._horizontalLabel,i=this._verticalLabel;if(e.visible=!1,t.visible=!1,i.visible=!1,this.visible)switch(this.viewMode){case 1:e.visible=!0;break;case 2:e.visible=!0,t.visible=!0,i.visible=!0;break;case 3:e.visible=!0}}_getLabelsText(e,{directDistance:t,horizontalDistance:i,verticalDistance:s,geodesicDistance:n,geodesicAngle:r}){const a=this.layerView.unit,o=e=>({euclideanDistance:\"\",geodesicDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(a){case\"metric\":return o({euclideanDistance:t&&m(e,t),geodesicDistance:n&&m(e,n),horizontalDistance:i&&m(e,i),verticalDistance:s&&g(e,s)});case\"imperial\":return o({euclideanDistance:t&&d(e,t),geodesicDistance:n&&d(e,n),horizontalDistance:i&&d(e,i),verticalDistance:s&&u(e,s)});case\"degrees\":{const t=r&&h(e,r,\"degrees\");return o({euclideanDistance:t,geodesicDistance:t,horizontalDistance:t})}case\"degrees-minutes-seconds\":return o({horizontalDistance:r&&c(r)});default:return o({euclideanDistance:t&&h(e,t,a),geodesicDistance:n&&h(e,n,a),horizontalDistance:i&&h(e,i,a),verticalDistance:s&&h(e,s,a)})}}_updateSegmentStripeLength(){const e=this._measurementArrowStripeLength,t=this._segmentVisualElement;a(e)?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}_computeViewMode(e){if(2===e){if(!this._geodesicDistanceExceeded)return 1;if(this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition))return 3}const t=this.layerView.result;if(o(t))return 1;const{verticalDistance:i,horizontalDistance:s}=t,n=i.value,r=s.value;return Math.min(n/r,r/n)<this.triangleCollapseRatioThreshold?1:2}_getActualVisualElementsOrientation(){if(a(this._triangleOrientationOverride))return this._triangleOrientationOverride;const e=this.visualElementOrientation;return 0===e?this.view.state.camera.aboveGround?1:2:e}_updateActualVisualizedMeasurement(){if(0===this.visualizedMeasurement){this.actualVisualizedMeasurement=1;const e=this.layerView.unit;\"degrees\"!==e&&\"degrees-minutes-seconds\"!==e||(this.actualVisualizedMeasurement=2),this._geodesicDistanceExceeded&&(this.actualVisualizedMeasurement=2)}else this.actualVisualizedMeasurement=this.visualizedMeasurement;return this.actualVisualizedMeasurement}_requiresGeodesicGuideAt(e){const t=this.view;if(!t.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper,n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const e=this.view,{result:t,unit:i}=this.layerView;let n=null;if(a(t)){const e=t.directDistance;switch(i){case\"metric\":n=e&&e.toUnit(\"meters\");break;case\"imperial\":n=e&&e.toUnit(v(e.value,e.unit));break;case\"degrees\":case\"degrees-minutes-seconds\":{const e=t.geodesicAngle;n=e&&e.toUnit(\"degrees\");break}default:n=e&&e.toUnit(i)}}if(n){let t=1;return t=s(n.value/30),t*=\"degrees\"===n.unit?P(e.spatialReference).metersPerDegree:b(1,n.unit,\"meters\"),t}return null}_updateMessageBundle(){T(\"esri/core/t9n/Units\").then((e=>{this.messages=e,this.view&&this._updateLabelText()}))}};function F(e,t,i,s,r){const a=B,o=I;r.projectToRenderScreen(i,a),r.projectToRenderScreen(t,o);const l={segment:\"bottom\",horizontal:\"top\",vertical:a[0]<o[0]?\"left\":\"right\"};{const s=J,a=K;if(H(e,i,s,r),H(e,t,a,r),f(s,a)>=q){const e=n(s[1])===n(a[1]);l.segment=e?A(l.vertical):l.vertical}else{const e=N;H(i,t,e,r),f(e,a)>=q&&(l.segment=n(e[0])===n(a[0])?A(l.horizontal):l.horizontal)}}if(2===s){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([w()],U.prototype,\"_state\",void 0),e([w()],U.prototype,\"_segmentLabelDisplayedMeasurement\",void 0),e([w()],U.prototype,\"_triangleOrientationOverride\",void 0),e([w()],U.prototype,\"_geodesicDistanceExceeded\",null),e([w()],U.prototype,\"messages\",void 0),e([w()],U.prototype,\"view\",void 0),e([w()],U.prototype,\"layer\",void 0),e([w()],U.prototype,\"layerView\",void 0),e([w({readOnly:!0})],U.prototype,\"ready\",null),e([w({readOnly:!0})],U.prototype,\"visible\",null),e([w()],U.prototype,\"viewMode\",void 0),e([w()],U.prototype,\"visualizedMeasurement\",void 0),e([w()],U.prototype,\"actualVisualizedMeasurement\",void 0),e([w()],U.prototype,\"visualElementOrientation\",void 0),e([w()],U.prototype,\"triangleCollapseRatioThreshold\",void 0),e([w()],U.prototype,\"allowVisualElementsOrientationChange\",null),e([w()],U.prototype,\"labels\",null),e([w()],U.prototype,\"testData\",null),e([w()],U.prototype,\"_measurementArrowStripeLength\",null),U=e([y(\"esri.views.3d.layers.DirectLineMeasurement.DirectLineMeasurementView\")],U);const W=j(1,.5,0,.75),Q={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,triangleColor:W,triangleLineWidth:3,triangleCornerSize:32,triangleSubdivisions:128,arrowWidth:16,arrowOutlineColor:[1,.5,0,1],arrowOutlineWidth:.2,arrowStripeEvenColor:[1,1,1,1],arrowStripeOddColor:[1,.5,0,1],arrowStripeLength:16,arrowSubdivisions:128,geodesicProjectionLineWidth:2,geodesicProjectionLineColor:W,guideLineWidth:2,guideLineColor:W,guideStippleLengthPixels:6,labelDistance:25,direcLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12},q=Math.cos(r(12)),B=p(),I=p(),J=_(),K=_(),N=_();export{U as DirectLineMeasurementView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{unwrapOr as t,destroyMaybe as i}from\"../../../core/maybe.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as r}from\"../../../properties/defaultUnit.js\";import{LayerView3D as l}from\"./LayerView3D.js\";import{DirectLineMeasurementController as n}from\"./analysis/DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementView as o}from\"./analysis/DirectLineMeasurement/DirectLineMeasurementView.js\";import u from\"../../layers/LayerView.js\";let p=class extends(l(u)){constructor(e){super(e),this._userUnit=null,this.type=\"direct-line-measurement-3d\",this.result=null}set unit(e){this._userUnit=e}get unit(){return t(this._userUnit,this._defaultUnit)}get viewMode(){return this._analysisView.viewMode}get visualizedMeasurement(){return this._analysisView.visualizedMeasurement}set visualizedMeasurement(e){this._analysisView.visualizedMeasurement=e}get actualVisualizedMeasurement(){return this._analysisView.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisView.visualElementOrientation}set visualElementOrientation(e){this._analysisView.visualElementOrientation=e}get allowVisualElementsOrientationChange(){return this._analysisView.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(e){this._analysisView.allowVisualElementsOrientationChange=e}get triangleCollapseRatioThreshold(){return this._analysisView.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(e){this._analysisView.triangleCollapseRatioThreshold=e}get directLabelText(){return this._analysisView.labels.direct.text}get horizontalLabelText(){return this._analysisView.labels.horizontal.text}get verticalLabelText(){return this._analysisView.labels.vertical.text}get testData(){return this._analysisView.testData}initialize(){const e=this.view,t=this.layer;this._analysisView=new o({view:e,layer:t,layerView:this}),this._analysisController=new n({view:e,layer:t,viewData:this})}destroy(){i(this._analysisController),i(this._analysisView)}whenReady(){return this._analysisView.whenReady()}whenMessages(){return this._analysisView.whenMessages()}};e([s(r)],p.prototype,\"_defaultUnit\",void 0),e([s()],p.prototype,\"_userUnit\",void 0),e([s()],p.prototype,\"_analysisView\",void 0),e([s()],p.prototype,\"_analysisController\",void 0),e([s()],p.prototype,\"type\",void 0),e([s()],p.prototype,\"unit\",null),e([s()],p.prototype,\"layer\",void 0),e([s()],p.prototype,\"result\",void 0),e([s({readOnly:!0})],p.prototype,\"viewMode\",null),e([s()],p.prototype,\"visualizedMeasurement\",null),e([s({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),e([s()],p.prototype,\"visualElementOrientation\",null),e([s()],p.prototype,\"allowVisualElementsOrientationChange\",null),e([s()],p.prototype,\"triangleCollapseRatioThreshold\",null),e([s({readOnly:!0})],p.prototype,\"directLabelText\",null),e([s({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),e([s({readOnly:!0})],p.prototype,\"verticalLabelText\",null),e([s()],p.prototype,\"testData\",null),p=e([a(\"esri.views.3d.layers.DirectLineMeasurementLayerView3D\")],p);var y=p;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import t from\"./Layer.js\";let s=class extends t{constructor(e){super(e),this.type=\"direct-line-measurement\",this.geodesicDistanceThreshold=1e5,this.startPoint=null,this.endPoint=null}};e([r({json:{read:!1},readOnly:!0})],s.prototype,\"type\",void 0),e([r()],s.prototype,\"geodesicDistanceThreshold\",void 0),e([r()],s.prototype,\"startPoint\",void 0),e([r()],s.prototype,\"endPoint\",void 0),s=e([o(\"esri/layers/DirectLineMeasurementLayer\")],s);var i=s;export default i;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import r from\"../../../../../core/Handles.js\";import{destroyMaybe as o,isSome as s}from\"../../../../../core/maybe.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as a}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../../layers/DirectLineMeasurementLayer.js\";let c=class extends t{constructor(){super(...arguments),this._handles=new r,this.layer=new n({visible:!1,listMode:\"hide\"}),this.cursorPoint=null,this.state=\"initial\",this.active=!1}initialize(){this.sceneView.map.add(this.layer),this.reset()}destroy(){this._handles=o(this._handles),this.sceneView.map.remove(this.layer),this.layer.destroy()}get startPoint(){return this.layer.startPoint}set startPoint(e){this.layer.startPoint=e}set startPointSurfaceLocation(e){this._set(\"startPointSurfaceLocation\",e)}get endPoint(){return this.layer.endPoint}set endPoint(e){this.layer.endPoint=e}set endPointSurfaceLocation(e){this._set(\"endPointSurfaceLocation\",e)}get measurementSurfaceLocation(){const e=this.startPointSurfaceLocation,t=this.endPointSurfaceLocation;return null==e||null==t||\"above-the-surface\"===e&&\"below-the-surface\"===t||\"below-the-surface\"===e&&\"above-the-surface\"===t||\"on-the-surface\"===e&&\"on-the-surface\"===t?\"camera-dependent\":\"above-the-surface\"===e||\"above-the-surface\"===t?\"above-the-surface\":\"below-the-surface\"}get validMeasurement(){return s(this.layer.startPoint)&&s(this.layer.endPoint)}get isMeasuring(){return!!this.startPoint}reset(){this.clearMeasurement()}clearMeasurement(){this.state=\"initial\",this.startPoint=null,this.endPoint=null,this.cursorPoint=null,this._clearOverride(\"measurementSurfaceLocation\")}finishMeasurement(){if(!this._isOverridden(\"measurementSurfaceLocation\")){const e=this.measurementSurfaceLocation,t=\"camera-dependent\"===e?this.sceneView.state.camera.aboveGround?\"above-the-surface\":\"below-the-surface\":e;this._override(\"measurementSurfaceLocation\",t)}this.state=\"measured\"}};e([i()],c.prototype,\"messages\",void 0),e([i({constructOnly:!0})],c.prototype,\"sceneView\",void 0),e([i()],c.prototype,\"layer\",void 0),e([i()],c.prototype,\"startPoint\",null),e([i({value:null})],c.prototype,\"startPointSurfaceLocation\",null),e([i()],c.prototype,\"endPoint\",null),e([i({value:null})],c.prototype,\"endPointSurfaceLocation\",null),e([i()],c.prototype,\"measurementSurfaceLocation\",null),e([i()],c.prototype,\"cursorPoint\",void 0),e([i()],c.prototype,\"state\",void 0),e([i()],c.prototype,\"active\",void 0),e([i({readOnly:!0})],c.prototype,\"validMeasurement\",null),e([i({readOnly:!0})],c.prototype,\"isMeasuring\",null),c=e([a(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DModel\")],c);export{c as DirectLineMeasurement3DModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import i from\"../../../../../core/Handles.js\";import{destroyMaybe as s,isSome as r,unwrapOr as n,unwrap as a,applySome as o,isNone as l}from\"../../../../../core/maybe.js\";import{screenPointObjectToArray as d}from\"../../../../../core/screenUtils.js\";import{property as h}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as u}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{reactionInit as c,autorun as p}from\"../../../../../core/accessorSupport/trackingUtils.js\";import{c as _}from\"../../../../../chunks/vec3f64.js\";import{fromPoints as m,create as g}from\"../../../../../geometry/support/lineSegment.js\";import{defaultUnitPropertyMetadata as w}from\"../../../../../properties/defaultUnit.js\";import{createSphereManipulator as y}from\"../../manipulatorUtils.js\";import{PickResult as v}from\"./PickResult.js\";import{copyParameter as b,pointToPointScreenDistance as L}from\"../support/viewUtils.js\";import{LaserlineVisualElement as P}from\"../../visualElements/LaserlineVisualElement.js\";import{getElevationAtPoint as f}from\"../../../support/ElevationProvider.js\";import{Intersector as V}from\"../../../webgl-engine/lib/Intersector.js\";const M={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:.75,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5};var D;!function(e){e.Manipulators=\"manipulators\",e.AnalysisViewDestroyed=\"analysis-view-destroyed\",e.AnalysisView=\"analysis-view\"}(D||(D={}));let C=class extends t{constructor(e){super(e),this._state=\"pending\",this._visible=!1,this._laserLine=null,this._handles=new i,this._cursorPosition=_(),this._startPosition=_(),this._endPosition=_(),this._lastDraggedHandle=null,this.analysisView=null,this._view=e.model.sceneView,this._intersector=new V(this._view.state.viewingMode),this._intersector.options.store=0}normalizeCtorArgs(e){return{...e,params:e.params?b(M,e.params):b(M,{})}}initialize(){this._promise=this._initialize()}async _initialize(){switch(this._state){case\"pending\":break;case\"destroyed\":return Promise.reject(\"DirectLineMeasurement3DView already destroyed\")}const e=this.model.layer,t=await this._view.whenLayerView(e);return await t.whenReady(),this._set(\"analysisView\",t),this._laserLine=new P({view:this._view,attached:!0}),this._visible&&this._updateVisibility(this._visible),this._connectToAnalysisView(),this._state=\"ready\",t}destroy(){switch(this._state){case\"pending\":return void(this._state=\"destroyed\");case\"ready\":break;case\"destroyed\":default:return}this.hide(),this._handles=s(this._handles),this._laserLine=s(this._laserLine),this._state=\"destroyed\"}when(){return this._promise.then((()=>{}))}async whenMessages(){return this._promise.then((e=>e.whenMessages()))}get requiresCursorPoint(){return\"initial\"===this.model.state&&this.model.active}get visible(){return this._visible}set visible(e){e?this.show():this.hide()}get viewMode(){const e=this.analysisView;return r(e)&&!e.destroyed?e.viewMode:0}get measurementMode(){const e=this.analysisView;return r(e)&&!e.destroyed?e.actualVisualizedMeasurement:1}get unit(){return n(this._cachedUnit,this._defaultUnit)}set unit(e){this._cachedUnit=e}get testData(){const e=this._laserLine.testData,t=a(this.analysisView).testData;return{labels:null==t?void 0:t.labels,stripeLength:null==t?void 0:t.stripeLength,laserLineRenderer:{heightManifoldEnabled:!!r(e)&&e.heightManifoldEnabled,heightManifoldTarget:r(e)?e.heightManifoldTarget:null,pointDistanceEnabled:!!r(e)&&e.pointDistanceEnabled,pointDistanceOrigin:r(e)?e.pointDistanceOrigin:null,pointDistanceTarget:r(e)?e.pointDistanceTarget:null,lineVerticalPlaneEnabled:!!r(e)&&e.lineVerticalPlaneEnabled}}}get directLabelText(){const e=this.analysisView;return r(e)&&!e.destroyed?e.directLabelText:null}get horizontalLabelText(){const e=this.analysisView;return r(e)&&!e.destroyed?e.horizontalLabelText:null}get verticalLabelText(){const e=this.analysisView;return r(e)&&!e.destroyed?e.verticalLabelText:null}createManipulators(){const e=()=>{const e=y(this._view,this.params.handleColor,this.params.handleOpacity);return e.available=!1,e.radius=this.params.handleRadius,e},t=e(),i=e();this.model.startPoint&&(t.location=a(this.model.startPoint),t.available=!0),this.model.endPoint&&(i.location=a(this.model.endPoint),i.available=!0);const s=()=>{let e=this._lastDraggedHandle;t.grabbing&&!i.grabbing&&(e=\"start\"),i.grabbing&&!t.grabbing&&(e=\"end\"),t.grabbing||i.grabbing||(e=null);const s=e!==this._lastDraggedHandle;this._lastDraggedHandle=e,s&&this.visible&&this._updateLaserLine()},r=t.events.on(\"grab-changed\",s),n=i.events.on(\"grab-changed\",s);return this._handles.add([r,n],D.Manipulators),{start:t,end:i}}show(){switch(this._state){case\"ready\":this._visible||this._updateVisibility(!0);break;case\"pending\":this._visible=!0;break;case\"destroyed\":default:return}}hide(){switch(this._state){case\"ready\":this._visible&&this._updateVisibility(!1);break;case\"pending\":this._visible=!1;break;case\"destroyed\":default:return}}finishMeasurement(){this.model.finishMeasurement()}_connectToAnalysisView(){this._handles.remove(D.AnalysisView),this._handles.add([c((()=>o(this.analysisView,(e=>e.destroyed))),(e=>{e&&this._handles.remove(D.AnalysisView)})),c((()=>[\"measured\"===this.model.state,this.analysisView]),(([e,t])=>{o(t,(t=>t.allowVisualElementsOrientationChange=!e))})),p((()=>this._updateLaserLine())),p((()=>this._updateCursorPosition())),p((()=>this._updateStartPosition())),p((()=>this._updateEndPosition())),c((()=>({unit:this.unit,layerView:this.analysisView})),(({unit:e,layerView:t})=>o(t,(t=>t.unit=e))))],D.AnalysisView)}_updateVisibility(e){this._visible=e,e?(this.model.layer.visible=!0,this._laserLine.style={innerColor:this.params.laserLineInnerColor,innerWidth:this.params.laserLineInnerWidth,glowColor:this.params.laserLineGlowColor,glowWidth:this.params.laserLineGlowWidth,glowFalloff:this.params.laserLineGlowFalloff,globalAlpha:this.params.laserLineGlobalAlpha},this._laserLine.visible=!0,this._updateCursorPosition(),this._updateStartPosition(),this._updateEndPosition(),this._updateLaserLine()):(this.model.layer.visible=!1,this._laserLine.visible=!1,this._view.cursor=null)}pick(e){const t=this._view.spatialReference,i=d(e.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,r=_();if(!s.getIntersectionPoint(r))return new v;const n=this._view.renderCoordsHelper.fromRenderCoords(r,t);if(l(n))return new v;const a=\"TerrainRenderer\"===s.intersector?\"ground\":\"feature\";return new v(a,r,n)}getElevation(e){return this._view.basemapTerrain.ready?n(f(this._view.elevationProvider,e),0):0}overlappingHandles(e,t){return L(e,t,this._view)<=this.params.handleRadius}_updateCursorPosition(){this.model.cursorPoint&&this._view.renderCoordsHelper.toRenderCoords(this.model.cursorPoint,this._cursorPosition)}_updateStartPosition(){r(this.model.startPoint)&&this._view.renderCoordsHelper.toRenderCoords(this.model.startPoint,this._startPosition)}_updateEndPosition(){r(this.model.endPoint)&&this._view.renderCoordsHelper.toRenderCoords(this.model.endPoint,this._endPosition)}_getFocusPosition(){const e=this.model,t=this.analysisView,i=r(t)&&!t.destroyed&&1===t.visualizedMeasurement,s=1===this.viewMode&&i;switch(e.state){case\"drawing\":return s?this._startPosition:e.endPoint?this._endPosition:this._startPosition;case\"editing\":return s?\"start\"===this._lastDraggedHandle?this._endPosition:this._startPosition:\"start\"===this._lastDraggedHandle?this._startPosition:this._endPosition;default:return e.cursorPoint?this._cursorPosition:null}}_getFocusSpherePosition(){return\"drawing\"===this.model.state||\"end\"===this._lastDraggedHandle?this._startPosition:this._endPosition}_updateLaserLine(){if(!this.visible)return;const{state:e,active:t,startPoint:i}=this.model,s=this._getFocusPosition(),n=this.viewMode,a=this.analysisView,o=this.params.laserLineEnabled&&!!s&&\"measured\"!==e&&t;if(o&&r(a)&&!a.destroyed){const e=1===a.actualVisualizedMeasurement;this._laserLine.heightManifoldTarget=e?s:null;const t=o&&!!i&&2===a.actualVisualizedMeasurement;this._laserLine.pointDistanceLine=t?{origin:this._getFocusSpherePosition(),target:s}:null;const r=o&&2===n;this._laserLine.lineVerticalPlaneSegment=r?m(this._startPosition,this._endPosition,T):null}else this._laserLine.heightManifoldTarget=null,this._laserLine.pointDistanceLine=null,this._laserLine.lineVerticalPlaneSegment=null}};e([h()],C.prototype,\"_view\",void 0),e([h()],C.prototype,\"_visible\",void 0),e([h()],C.prototype,\"_laserLine\",void 0),e([h()],C.prototype,\"params\",void 0),e([h()],C.prototype,\"model\",void 0),e([h({readOnly:!0})],C.prototype,\"analysisView\",void 0),e([h()],C.prototype,\"requiresCursorPoint\",null),e([h()],C.prototype,\"visible\",null),e([h()],C.prototype,\"viewMode\",null),e([h()],C.prototype,\"measurementMode\",null),e([h()],C.prototype,\"unit\",null),e([h()],C.prototype,\"_cachedUnit\",void 0),e([h(w)],C.prototype,\"_defaultUnit\",void 0),e([h()],C.prototype,\"testData\",null),e([h()],C.prototype,\"directLabelText\",null),e([h()],C.prototype,\"horizontalLabelText\",null),e([h()],C.prototype,\"verticalLabelText\",null),C=e([u(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DView\")],C);const T=g();export{C as DirectLineMeasurement3DView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t=null,l=null,n=null){this.type=t,this.scenePoint=l,this.mapPoint=n}}export{t as PickResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass s{}export{s as PickRequest};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../geometry.js\";import t from\"../../../../../core/Handles.js\";import{unwrap as i}from\"../../../../../core/maybe.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/Logger.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{clonePoint as a}from\"../../../../../layers/graphics/hydratedFeatures.js\";import{screenToMap3D as r,hideManipulatorWhileDragging as o}from\"../../editingTools/dragEventPipeline3D.js\";import{DirectLineMeasurement3DModel as l}from\"./DirectLineMeasurement3DModel.js\";import{DirectLineMeasurement3DView as c}from\"./DirectLineMeasurement3DView.js\";import{PickRequest as d}from\"./PickRequest.js\";import{PickResult as h}from\"./PickResult.js\";import{createManipulatorDragEventPipeline as m,resetProperties as u}from\"../../../../interactive/dragEventPipeline.js\";import{InteractiveToolBase as p}from\"../../../../interactive/InteractiveToolBase.js\";import{createScreenPointFromEvent as P}from\"../../../../support/screenUtils.js\";import w from\"../../../../../geometry/Point.js\";let g=class extends p{constructor(e){super(e),this._handles=new t,this._cachedPickRequest=new d,this._cachedPickResult=new h,this._isAnyPointerDown=!1,this.startManipulator=null,this.endManipulator=null,this.model=new l({sceneView:e.view}),this.measurementView=new c({model:this.model})}initialize(){this.measurementView.when().then((()=>this._initialize()))}_initialize(){const{start:e,end:t}=this.measurementView.createManipulators(),s=(e,t,s)=>m(e,((e,n,l)=>{const c=o(e);n.next(c).next(r(this.view)).next((e=>\"start\"!==e.action?e:null)).next((i=>{const n=a(i.mapEnd,new w);this.model[t]=n,e.location=n,this.model[s]=this._surfaceLocation(n,i.surfaceType)})),l.next(c).next(u(this.model,[t,s])).next((()=>{e.location=i(this.model[t])}))}));this._handles.add([s(e,\"startPoint\",\"startPointSurfaceLocation\"),s(t,\"endPoint\",\"endPointSurfaceLocation\")]),[e,t].forEach((i=>{this._handles.add([i.events.on(\"grab-changed\",(()=>{const i=e.grabbing||t.grabbing;i&&\"measured\"===this.model.state&&(this.model.state=\"editing\"),i||(this.model.finishMeasurement(),\"editing\"===this.model.state&&(this.model.state=\"measured\"))}))])})),this.manipulators.add(e),this.manipulators.add(t),this.startManipulator=e,this.endManipulator=t;const n=this.watch(\"state\",(e=>{switch(e){case\"measured\":this.complete();break;case\"measuring\":case\"ready\":default:this.finishToolCreation()}}));this._handles.add(n),\"measured\"===this.state?this.complete():this.startToolCreation()}destroy(){this.measurementView.destroy(),this._set(\"measurementView\",null),this.model.destroy(),this._set(\"model\",null),this._handles.destroy(),this._handles=null}get state(){var e;return null!=(e=this.model)&&e.isMeasuring?\"measured\"===this.model.state?\"measured\":\"measuring\":\"ready\"}get creating(){return\"initial\"===this.model.state||\"drawing\"===this.model.state}get isSupported(){return\"3d\"===this.get(\"view.type\")}get cursor(){var e;return null==(e=this.model)||!e.active||\"drawing\"!==this.model.state&&\"initial\"!==this.model.state?null:\"crosshair\"}get unit(){return this.measurementView.unit}set unit(e){this.measurementView.unit=e}get validMeasurement(){return this.model.validMeasurement}activate(){this.model.active=!0}deactivate(){switch(this.toolState){case\"created\":case\"creating\":case\"pending\":this.model.active=!1}}onDetach(){this.model.reset()}onShow(){this.measurementView.show(),this.created&&this._updateManipulatorVisibility()}onHide(){this.created&&this.measurementView.hide()}onInputEvent(e){switch(e.type){case\"immediate-click\":this._handleImmediateClick(e);break;case\"pointer-move\":this._handlePointerMove(e);break;case\"pointer-down\":this._handlePointerDown();break;case\"pointer-up\":this._handlePointerUp()}this._updateManipulatorVisibility()}_handlePointerMove(e){this._clearCachedPickRequest();const t=P(e);\"mouse\"===e.pointerType&&(this._hoverAt(t),\"drawing\"===this.model.state&&(this.endManipulator.events.emit(\"drag\",{action:\"update\",start:t,screenPoint:t}),e.stopPropagation()))}_handlePointerDown(){this._isAnyPointerDown=!0}_handlePointerUp(){this._isAnyPointerDown=!1}_handleImmediateClick(e){if(this._clearCachedPickRequest(),!v(e))return;const t=P(e),i=e.pointerType;let s=!1;if(this.model.active)switch(this.model.state){case\"initial\":this.startManipulator.events.emit(\"drag\",{action:\"start\",pointerType:i,start:t,screenPoint:t}),this.startManipulator.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}),this.model.startPoint&&(this.startManipulator.interactive=!1,this.endManipulator.interactive=!1,this.model.state=\"drawing\",this.endManipulator.events.emit(\"drag\",{action:\"start\",pointerType:i,start:t,screenPoint:t}),s=!0);break;case\"drawing\":this.endManipulator.events.emit(\"drag\",{action:\"update\",start:t,screenPoint:t}),null!=this.model.endPoint&&(this.endManipulator.events.emit(\"drag\",{action:\"end\",start:t,screenPoint:t}),this.startManipulator.interactive=!0,this.endManipulator.interactive=!0,this.model.finishMeasurement(),s=!0)}s&&e.stopPropagation(),\"mouse\"===e.pointerType&&this._hoverAt(t)}_hoverAt(e){const t=this._isAnyPointerDown&&\"drawing\"!==this.model.state&&\"editing\"!==this.model.state;if(this.measurementView.requiresCursorPoint&&!t){const t=this._pick(e);t.mapPoint&&(this.model.cursorPoint=t.mapPoint)}else this.model.cursorPoint=null}_pick(e){const t=this._cachedPickRequest.screenPoint;return t&&t.x===e.x&&t.y===e.y||(this._cachedPickRequest.screenPoint=e,this._cachedPickResult=this.measurementView.pick(this._cachedPickRequest)),this._cachedPickResult}_clearCachedPickRequest(){this._cachedPickRequest.screenPoint=null}_surfaceLocation(e,t){return 0===t?\"on-the-surface\":e.z>=this.measurementView.getElevation(e)?\"above-the-surface\":\"below-the-surface\"}_updateManipulatorVisibility(){this.startManipulator.available=null!=this.model.startPoint,this.endManipulator.available=null!=this.model.endPoint}};function v(e){return\"mouse\"!==e.pointerType||0===e.button}e([s({readOnly:!0})],g.prototype,\"state\",null),e([s({readOnly:!0})],g.prototype,\"creating\",null),e([s({readOnly:!0})],g.prototype,\"isSupported\",null),e([s({readOnly:!0})],g.prototype,\"cursor\",null),e([s({constructOnly:!0})],g.prototype,\"model\",void 0),e([s({constructOnly:!0})],g.prototype,\"measurementView\",void 0),e([s()],g.prototype,\"unit\",null),e([s({readOnly:!0})],g.prototype,\"validMeasurement\",null),g=e([n(\"esri.views.3d.interactive.measurementTools.directLineMeasurement3D.DirectLineMeasurement3DTool\")],g);var y=g;export default y;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Handles.js\";import i from\"../../core/Logger.js\";import{isNone as s,isSome as r}from\"../../core/maybe.js\";import{measurementLengthUnits as n}from\"../../core/unitUtils.js\";import{init as o}from\"../../core/watchUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as u}from\"../../properties/defaultUnit.js\";import c from\"../../views/3d/interactive/measurementTools/directLineMeasurement3D/DirectLineMeasurement3DTool.js\";import{InteractiveToolViewModel as d}from\"../support/InteractiveToolViewModel.js\";const p=i.getLogger(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\");let h=class extends d{constructor(t){super(t),this.supportedViewType=\"3d\",this._handles=new e,this._userUnitOptions=null,this._userUnit=null}initialize(){this._handles.add([o(this,\"unit\",(t=>{this.tool&&(this.tool.unit=t)}))])}destroy(){this._handles.destroy(),this._handles=null}get state(){return this.isDisabled?\"disabled\":this.tool?this.tool.state:\"ready\"}get measurement(){if(!this.tool)return null;const t={mode:\"euclidean\",directDistance:{text:null,state:\"unavailable\"},horizontalDistance:{text:null,state:\"unavailable\"},verticalDistance:{text:null,state:\"unavailable\"}},e=this.tool.measurementView.analysisView;if(s(e))return t;const i=e.actualVisualizedMeasurement,n=this.tool.measurementView,o=r(e.result)?\"available\":\"unavailable\";switch(i){case 1:return{mode:\"euclidean\",directDistance:{text:n.directLabelText,state:o},horizontalDistance:{text:n.horizontalLabelText,state:o},verticalDistance:{text:n.verticalLabelText,state:o}};case 2:return{mode:\"geodesic\",directDistance:{text:null,state:\"unavailable\"},horizontalDistance:{text:n.directLabelText,state:o},verticalDistance:{text:n.verticalLabelText,state:o}};default:return t}}set unitOptions(t){this._userUnitOptions=t,this._set(\"unitOptions\",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null,this.notifyChange(\"unit\")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}start(){return this.createTool()}clear(){this.removeTool()}createToolParams(){return{toolConstructor:c,constructorArguments:()=>({unit:this.unit})}}logUnsupportedError(){p.error(\"DirectLineMeasurement3D widget is not implemented for MapView\")}logError(...t){p.error(...t)}_findSelectableUnit(t,e){const i=this.unitOptions;return-1!==i.indexOf(t)?t:e?this._findSelectableUnit(e):i[0]}_filteredOrAllUnits(t){if(!t)return n.slice();const e=t.filter((t=>-1!==n.indexOf(t)));return 0===e.length?n.slice():e}};t([l({readOnly:!0})],h.prototype,\"state\",null),t([l({readOnly:!0})],h.prototype,\"measurement\",null),t([l()],h.prototype,\"tool\",void 0),t([l(u)],h.prototype,\"defaultUnit\",void 0),t([l()],h.prototype,\"unitOptions\",null),t([l()],h.prototype,\"unit\",null),h=t([a(\"esri.widgets.DirectLineMeasurement3D.DirectLineMeasurement3DViewModel\")],h);var m=h;export default m;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{ignoreAbortErrors as t}from\"../core/promiseUtils.js\";import{isMeasurementSystem as s}from\"../core/unitUtils.js\";import{aliasOf as i}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/has.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/Logger.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import\"../views/3d/layers/DirectLineMeasurementLayerView3D.js\";import a from\"./Widget.js\";import o from\"./DirectLineMeasurement3D/DirectLineMeasurement3DViewModel.js\";import{accessibleHandler as l}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as u}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";import\"./support/widgetUtils.js\";const c=\"esri-direct-line-measurement-3d\",p={buttonDisabled:\"esri-button--disabled\",base:`${c} esri-widget esri-widget--panel`,container:`${c}__container`,hint:`${c}__hint`,hintText:`${c}__hint-text`,panelError:`${c}__panel--error`,measurement:`${c}__measurement`,measurementItem:`${c}__measurement-item`,measurementItemDisabled:`${c}__measurement-item--disabled`,measurementItemTitle:`${c}__measurement-item-title`,measurementItemValue:`${c}__measurement-item-value`,settings:`${c}__settings`,units:`${c}__units`,unitsLabel:`${c}__units-label`,unitsSelect:`${c}__units-select esri-select`,unitsSelectWrapper:`${c}__units-select-wrapper`,actionSection:`${c}__actions`,newMeasurementButton:`${c}__clear-button esri-button esri-button--primary`,widgetIcon:\"esri-icon-measure-line\"};let d=class extends a{constructor(e,t){super(e,t),this.view=null,this.visible=null,this.iconClass=p.widgetIcon,this.label=void 0,this.messages=null,this.messagesUnits=null,this.viewModel=new o,this.unitOptions=null,this.unit=null}render(){const{isSupported:e,active:t,state:i,measurement:r,unit:n}=this.viewModel,a=\"disabled\"===i,o=\"ready\"===i,l=\"measuring\"===i||\"measured\"===i,{messages:u,messagesUnits:c}=this,d=t&&o?m(\"section\",{key:\"esri-direct-line-measurement-3d__hint\",class:p.hint},m(\"p\",{class:p.hintText},u.hint)):null,v=e?null:m(\"section\",{key:\"esri-direct-line-measurement-3d__unsupported\",class:p.panelError},m(\"p\",null,u.unsupported)),_=(e,t,s)=>{switch(t.state){case\"available\":return m(\"div\",{key:`${s}-enabled`,class:p.measurementItem},m(\"span\",{class:p.measurementItemTitle},e),m(\"span\",{class:p.measurementItemValue},t.text));case\"unavailable\":return m(\"div\",{key:`${s}-disabled`,class:this.classes(p.measurementItem,p.measurementItemDisabled)},m(\"span\",{class:p.measurementItemTitle},e))}},h=l?m(\"section\",{key:\"esri-direct-line-measurement-3d__measurement\",class:p.measurement},_(u.direct,r.directDistance,\"direct\"),_(u.horizontal,r.horizontalDistance,\"horizontal\"),_(u.vertical,r.verticalDistance,\"vertical\")):null,b=`${this.id}__units`,w=m(\"label\",{class:p.unitsLabel,for:b},u.unit),y=m(\"div\",{class:p.unitsSelectWrapper},m(\"select\",{class:p.unitsSelect,id:b,onchange:this._changeUnit,bind:this,value:n},this.viewModel.unitOptions.map((e=>{var t;return m(\"option\",{key:e,value:e},s(e)?c.systems[e]:null==(t=c.units[e])?void 0:t.pluralCapitalized)})))),g=m(\"section\",{key:\"esri-direct-line-measurement-3d__units\",class:p.units},w,y),M=l?m(\"div\",{key:\"settings\",class:p.settings},g):null,$=!e||t&&!l?null:m(\"div\",{class:p.actionSection},m(\"button\",{disabled:a,class:this.classes(p.newMeasurementButton,a&&p.buttonDisabled),bind:this,onclick:this._newMeasurement,type:\"button\"},u.newMeasurement)),D=this.visible?m(\"div\",{class:p.container},v,d,M,h,$):null;return m(\"div\",{key:this,class:p.base,role:\"presentation\"},D)}_newMeasurement(){t(this.viewModel.start())}_changeUnit(e){const t=e.target,s=t.options[t.selectedIndex];s&&(this.unit=s.value)}};e([i(\"viewModel.view\")],d.prototype,\"view\",void 0),e([i(\"viewModel.visible\")],d.prototype,\"visible\",void 0),e([i(\"viewModel.active\")],d.prototype,\"active\",void 0),e([r()],d.prototype,\"iconClass\",void 0),e([r({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],d.prototype,\"label\",void 0),e([r()],d.prototype,\"localeStrings\",void 0),e([r(),u(\"esri/widgets/DirectLineMeasurement3D/t9n/DirectLineMeasurement3D\")],d.prototype,\"messages\",void 0),e([r(),u(\"esri/core/t9n/Units\")],d.prototype,\"messagesUnits\",void 0),e([r({type:o})],d.prototype,\"viewModel\",void 0),e([i(\"viewModel.unitOptions\")],d.prototype,\"unitOptions\",void 0),e([i(\"viewModel.unit\")],d.prototype,\"unit\",void 0),e([l()],d.prototype,\"_newMeasurement\",null),e([l()],d.prototype,\"_changeUnit\",null),d=e([n(\"esri.widgets.DirectLineMeasurement3D\")],d);var v=d;export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l()],p.prototype,\"fullOpacity\",null),e([l()],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"parent\",void 0),e([l({readOnly:!0})],p.prototype,\"suspended\",null),e([l({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([l({readOnly:!0})],p.prototype,\"updatingProgress\",null),e([l()],p.prototype,\"visible\",null),p=e([a(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nvar e,n,t={exports:{}};e=t,void 0!==(n=function(){function e(e,t,x){x=x||2;var i,v,u,y,o,p,a,h=t&&t.length,l=h?t[0]*x:e.length,s=n(e,0,l,x,!0),c=[];if(!s||s.next===s.prev)return c;if(h&&(s=f(e,t,s,x)),e.length>80*x){i=u=e[0],v=y=e[1];for(var Z=x;Z<l;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<v&&(v=p),o>u&&(u=o),p>y&&(y=p);a=0!==(a=Math.max(u-i,y-v))?1/a:0}return r(s,c,x,i,v,a),c}function n(e,n,t,r,x){var i,v;if(x===D(e,n,t,r)>0)for(i=n;i<t;i+=r)v=A(i,e[i],e[i+1],v);else for(i=t-r;i>=n;i-=r)v=A(i,e[i],e[i+1],v);return v&&w(v,v.next)&&(B(v),v=v.next),v}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!w(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(B(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&h(e,y,o,p);for(var l,s,c=e;e.prev!==e.next;)if(l=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(l.i/f),n.push(e.i/f),n.push(s.i/f),B(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=v(t(e),n,f),n,f,y,o,p,2):2===a&&u(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(d(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(Z(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&d(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,v=e.next;if(d(x,i,v)>=0)return!1;for(var u=x.x<i.x?x.x<v.x?x.x:v.x:i.x<v.x?i.x:v.x,f=x.y<i.y?x.y<v.y?x.y:v.y:i.y<v.y?i.y:v.y,y=x.x>i.x?x.x>v.x?x.x:v.x:i.x>v.x?i.x:v.x,o=x.y>i.y?x.y>v.y?x.y:v.y:i.y>v.y?i.y:v.y,p=s(u,f,n,t,r),a=s(y,o,n,t,r),h=e.prevZ,l=e.nextZ;h&&h.z>=p&&l&&l.z<=a;){if(h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,h.x,h.y)&&d(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,l.x,l.y)&&d(l.prev,l,l.next)>=0)return!1;l=l.nextZ}for(;h&&h.z>=p;){if(h!==e.prev&&h!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,h.x,h.y)&&d(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;l&&l.z<=a;){if(l!==e.prev&&l!==e.next&&Z(x.x,x.y,i.x,i.y,v.x,v.y,l.x,l.y)&&d(l.prev,l,l.next)>=0)return!1;l=l.nextZ}return!0}function v(e,n,r){var x=e;do{var i=x.prev,v=x.next.next;!w(i,v)&&M(i,x,x.next,v)&&k(i,v)&&k(v,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(v.i/r),B(x),B(x.next),x=e=v),x=x.next}while(x!==e);return t(x)}function u(e,n,x,i,v,u){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&g(f,y)){var o=q(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,v,u),void r(o,n,x,i,v,u)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var v,u,f,p=[];for(v=0,u=r.length;v<u;v++)(f=n(e,r[v]*i,v<u-1?r[v+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(c(f));for(p.sort(y),v=0;v<p.length;v++)o(p[v],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=q(n,e);t(n,n.next),t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,v=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=x&&u>v){if(v=u,u===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===v)return t;var f,y=t,o=t.x,p=t.y,h=1/0;r=t;do{x>=r.x&&r.x>=o&&x!==r.x&&Z(i<p?x:v,i,o,p,i<p?v:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),k(r,e)&&(f<h||f===h&&(r.x>t.x||r.x===t.x&&a(t,r)))&&(t=r,h=f)),r=r.next}while(r!==y);return t}function a(e,n){return d(e.prev,e,n.prev)<0&&d(n.next,e,e.next)<0}function h(e,n,t,r){var x=e;do{if(null===x.z&&(x.z=s(x.x,x.y,n,t,r)),x.prev.next!==x||x.next.prev!==x)return x.prev.next=x,x.next.prev=x,h(e,n,t,r);x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,l(x)}function l(e){var n,t,r,x,i,v,u,f,y=1;do{for(t=e,e=null,i=null,v=0;t;){for(v++,r=t,u=0,n=0;n<y&&(u++,r=r.nextZ);n++);for(f=y;u>0||f>0&&r;)0!==u&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,u--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(v>1);return e}function s(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function c(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function Z(e,n,t,r,x,i,v,u){return(x-v)*(n-u)-(e-v)*(i-u)>=0&&(e-v)*(r-u)-(t-v)*(n-u)>=0&&(t-v)*(i-u)-(x-v)*(r-u)>=0}function g(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!m(e,n)&&(k(e,n)&&k(n,e)&&j(e,n)&&(d(e.prev,e,n.prev)||d(e,n.prev,n))||w(e,n)&&d(e.prev,e,e.next)>0&&d(n.prev,n,n.next)>0)}function d(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function w(e,n){return e.x===n.x&&e.y===n.y}function M(e,n,t,r){var x=b(d(e,n,t)),i=b(d(e,n,r)),v=b(d(t,r,e)),u=b(d(t,r,n));return x!==i&&v!==u||!(0!==x||!z(e,t,n))||!(0!==i||!z(e,r,n))||!(0!==v||!z(t,e,r))||!(0!==u||!z(t,n,r))}function z(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function b(e){return e>0?1:e<0?-1:0}function m(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&M(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function k(e,n){return d(e.prev,e,e.next)<0?d(e,n,e.next)>=0&&d(e,e.prev,n)>=0:d(e,n,e.prev)<0||d(e,e.next,n)<0}function j(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function q(e,n){var t=new C(e.i,e.x,e.y),r=new C(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function A(e,n,t,r){var x=new C(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function B(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,n,t,r){for(var x=0,i=n,v=t-r;i<t;i+=r)x+=(e[v]-e[i])*(e[i+1]+e[v+1]),v=i;return x}return e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,v=Math.abs(D(e,0,i,t));if(x)for(var u=0,f=n.length;u<f;u++){var y=n[u]*t,o=u<f-1?n[u+1]*t:e.length;v-=Math.abs(D(e,y,o,t))}var p=0;for(u=0;u<r.length;u+=3){var a=r[u]*t,h=r[u+1]*t,l=r[u+2]*t;p+=Math.abs((e[a]-e[l])*(e[h+1]-e[a+1])-(e[a]-e[h])*(e[l+1]-e[a+1]))}return 0===v&&0===p?0:Math.abs((p-v)/v)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var v=0;v<n;v++)t.vertices.push(e[x][i][v]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t},e}())&&(e.exports=n);var r=t.exports;export{r as e};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`int chooseCascade(float _linearDepth, out mat4 mat) {\nvec4 distance = uShadowMapDistance;\nfloat depth = _linearDepth;\nint i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\nmat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\nreturn i;\n}\nvec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\nvec4 lv = mat * vec4(_vpos, 1.0);\nlv.xy /= lv.w;\nreturn 0.5 * lv.xyz + vec3(0.5);\n}\nvec2 cascadeCoordinates(int i, vec3 lvpos) {\nreturn vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n}\nfloat readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\nreturn rgba2float(texture2D(_depthTex, uv));\n}\nfloat posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\nreturn readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n}\nfloat filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\nfloat texSize = 0.5 / halfPixelSize;\nvec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\nfloat s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\nfloat s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\nfloat s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\nfloat s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat readShadowMap(const in vec3 _vpos, float _linearDepth) {\nmat4 mat;\nint i = chooseCascade(_linearDepth, mat);\nif (i >= uShadowMapNum) { return 0.0; }\nvec3 lvpos = lightSpacePosition(_vpos, mat);\nif (lvpos.z >= 1.0) { return 0.0; }\nif (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\nvec2 uv = cascadeCoordinates(i, lvpos);\nreturn filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n}`)}function o(a,e){e.shadowMappingEnabled&&(e.shadowMap.bind(a),e.shadowMap.bindView(a,e.origin))}function i(a,e,t){e.shadowMappingEnabled&&e.shadowMap.bindView(a,t)}function l(a,e){e.shadowMappingEnabled&&e.shadowMap.bindView(a,e.origin)}export{t as ReadShadowMap,o as bindReadShadowMapUniforms,l as bindReadShadowMapView,i as bindReadShadowMapViewCustomOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`void forwardLinearDepth() { linearDepth = gl_Position.w; }`)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`void forwardLinearDepth() {\nlinearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n}`)):a.vertex.code.add(e`void forwardLinearDepth() {}`)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n{\nreturn ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n}`),a.add(e`float integratedRadiance(float cosTheta2, float roughness)\n{\nreturn (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n}`),a.add(e`vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n{\nfloat cosTheta2 = 1.0 - RdotNG * RdotNG;\nfloat intRadTheta = integratedRadiance(cosTheta2, roughness);\nfloat ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\nfloat sky = 2.0 - ground;\nreturn (ground * ambientGround + sky * ambientSky) * 0.5;\n}`)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{AnalyticalSkyModel as e}from\"./AnalyticalSkyModel.glsl.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function a(a,n){const r=a.fragment.code;a.include(o),3===n.pbrMode||4===n.pbrMode?(r.add(t`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${n.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(t`vec3 fresnelReflection(float angle, vec3 f0, float f90) {\nreturn f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n}`),r.add(t`float normalDistributionWater(float NdotH, float roughness)\n{\nfloat r2 = roughness * roughness;\nfloat NdotH2 = NdotH * NdotH;\nfloat denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\nreturn r2 / denom;\n}`),r.add(t`float geometricOcclusionKelemen(float LoH)\n{\nreturn 0.25 / (LoH * LoH);\n}`),r.add(t`vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n{\nvec3  F = fresnelReflection(props.VdotH, F0, F0Max);\nfloat dSun = normalDistributionWater(props.NdotH, roughness);\nfloat V = geometricOcclusionKelemen(props.LdotH);\nfloat diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\nfloat strengthSunHaze  = 1.2;\nfloat dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\nreturn ((dSun + dSunHaze) * V) * F;\n}\nvec3 tonemapACES(const vec3 x) {\nreturn (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n}`)):1!==n.pbrMode&&2!==n.pbrMode||(a.include(e),r.add(t`struct PBRShadingInfo\n{\nfloat NdotL;\nfloat NdotV;\nfloat NdotH;\nfloat VdotH;\nfloat LdotH;\nfloat NdotNG;\nfloat RdotNG;\nfloat NdotAmbDir;\nfloat NdotH_Horizon;\nvec3 skyRadianceToSurface;\nvec3 groundRadianceToSurface;\nvec3 skyIrradianceToSurface;\nvec3 groundIrradianceToSurface;\nfloat averageAmbientRadiance;\nfloat ssao;\nvec3 albedoLinear;\nvec3 f0;\nvec3 f90;\nvec3 diffuseColor;\nfloat metalness;\nfloat roughness;\n};`),r.add(t`float normalDistribution(float NdotH, float roughness)\n{\nfloat a = NdotH * roughness;\nfloat b = roughness / (1.0 - NdotH * NdotH + a * a);\nreturn b * b * INV_PI;\n}`),r.add(t`const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\nconst vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\nconst vec2 c2 = vec2(-1.04, 1.04);\nvec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\nreturn c2 * a004 + r.zw;\n}`),r.add(t`vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\nvec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\nvec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\nvec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\nvec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\nvec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\nvec3 specularComponent = specularColor * indirectSpecular;\nreturn (diffuseComponent + specularComponent);\n}`),r.add(t`float gamutMapChanel(float x, vec2 p){\nreturn (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n}`),r.add(t`vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\nvec3 outColor;\nvec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\noutColor.x = gamutMapChanel(inColor.x, p) ;\noutColor.y = gamutMapChanel(inColor.y, p) ;\noutColor.z = gamutMapChanel(inColor.z, p) ;\nreturn outColor;\n}`))}export{a as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";function n(n,f,i){var u;const c=n.byteLength/(4*f),s=new Uint32Array(n,0,c*f);let a=new Uint32Array(c);const h=null!=(u=null==i?void 0:i.minReduction)?u:0,d=(null==i?void 0:i.originalIndices)||null,g=d?d.length:0,y=(null==i?void 0:i.componentOffsets)||null;let U=0;if(y)for(let t=0;t<y.length-1;t++){const n=y[t+1]-y[t];n>U&&(U=n)}else U=c;const w=Math.floor(1.1*U)+1;(null==o||o.length<2*w)&&(o=new Uint32Array(t(2*w)));for(let t=0;t<2*w;t++)o[t]=0;let A=0;const m=!!y&&!!d,b=m?g:c,p=m?new Uint32Array(g):null,v=1.96;let M=0!==h?Math.ceil(4*v*v/(h*h)*h*(1-h)):b,q=1,x=y?y[1]:b;for(let t=0;t<b;t++){if(t===M){const n=1-A/t;if(n+v*Math.sqrt(n*(1-n)/t)<h)return null;M*=2}if(t===x){for(let t=0;t<2*w;t++)o[t]=0;if(d)for(let t=y[q-1];t<y[q];t++)p[t]=a[d[t]];x=y[++q]}const n=m?d[t]:t,l=n*f,i=r(s,l,f);let u=i%w,c=A;for(;0!==o[2*u+1];){if(o[2*u]===i){const t=o[2*u+1]-1;if(e(s,l,t*f,f)){c=a[t];break}}u++,u>=w&&(u-=w)}c===A&&(o[2*u]=i,o[2*u+1]=n+1,A++),a[n]=c}if(0!==h&&1-A/c<h)return null;if(m){for(let t=y[q-1];t<p.length;t++)p[t]=a[d[t]];a=p}const j=new Uint32Array(f*A);A=0;for(let t=0;t<b;t++)if(a[t]===A){l(s,(m?d[t]:t)*f,j,A*f,f),A++}if(d&&!m){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=a[d[n]];a=t}return{buffer:j.buffer,indices:a,uniqueCount:A}}function e(t,n,e,l){for(let r=0;r<l;r++)if(t[n+r]!==t[e+r])return!1;return!0}function l(t,n,e,l,r){for(let o=0;o<r;o++)e[l+o]=t[n+o]}function r(t,n,e){let l=0;for(let r=0;r<e;r++)l=t[n+r]+l|0,l=l+(l<<11)+(l>>>2)|0;return l>>>0}let o=null;export default n;export{n as deduplicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Logger.js\";import{lerp as i}from\"../../../../core/mathUtils.js\";import{isSome as e}from\"../../../../core/maybe.js\";import{createScreenPointArray as r,createRenderScreenPointArray3 as s}from\"../../../../core/screenUtils.js\";import{d as h,m as n,k as o,a,e as _,l as p}from\"../../../../chunks/mat4.js\";import{c as u}from\"../../../../chunks/mat4f64.js\";import{c as v,k as c}from\"../../../../chunks/vec2.js\";import{f as w}from\"../../../../chunks/vec2f64.js\";import{g as d,f as l,i as g,k as y,w as m,d as f,x,y as D,a as j,l as M,s as R,c as P,n as F,r as V}from\"../../../../chunks/vec3.js\";import{c as S,a as T,f as I}from\"../../../../chunks/vec3f64.js\";import{c as b,g as k,i as U,t as A}from\"../../../../chunks/vec4.js\";import{f as C,c as E}from\"../../../../chunks/vec4f64.js\";import{create as z,copy as H,fromMatrix as W}from\"../../../../geometry/support/frustum.js\";import{create as L}from\"../../../../geometry/support/ray.js\";import{projectPointSignedLength as G}from\"../../../../geometry/support/vector.js\";import{fovd2fovx as X,fovx2fovd as Y,fovd2fovy as q,fovy2fovd as N}from\"./Util.js\";const B=t.getLogger(\"esri.views.3d.webgl-engine.lib.Camera\");class J{constructor(t=null,i=null,r=null){this._viewUp=S(),this._viewForward=S(),this._viewRight=S(),this._ray=L(),this._viewport=C(0,0,1,1),this._padding=C(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=w(1,1e3),this._viewDirty=!0,this._viewMatrix=u(),this._projectionDirty=!0,this._projectionMatrix=u(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=u(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=u(),this._frustumDirty=!0,this._frustum=z(),this._fullViewport=E(),this.pixelRatio=1,this.relativeElevation=0,e(t)&&d(this._ray.origin,t),this._center=e(i)?T(i):S(),this._up=e(r)?T(r):I(0,0,1)}get eye(){return this._ray.origin}set eye(t){this._compareAndSetView(t,this._ray.origin)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center)}get ray(){return l(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up)}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){h(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get x(){return this._viewport[0]}set x(t){t+=this._padding[3],this._viewport[0]!==t&&(this._viewport[0]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get y(){return this._viewport[1]}set y(t){t+=this._padding[2],this._viewport[1]!==t&&(this._viewport[1]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get fullWidth(){return this._viewport[2]+this._padding[1]+this._padding[3]}set fullWidth(t){this.width=t-(this._padding[1]+this._padding[3])}get fullHeight(){return this._viewport[3]+this._padding[0]+this._padding[2]}set fullHeight(t){this.height=t-(this._padding[0]+this._padding[2])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[3],this._fullViewport[1]=this._viewport[1]-this._padding[2],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){this._padding[0]===t[0]&&this._padding[1]===t[1]&&this._padding[2]===t[2]&&this._padding[3]===t[3]||(this._viewport[0]+=t[3]-this._padding[3],this._viewport[1]+=t[2]-this._padding[2],this._viewport[2]-=t[1]+t[3]-(this._padding[1]+this._padding[3]),this._viewport[3]-=t[0]+t[2]-(this._padding[0]+this._padding[2]),b(this._padding,t),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0)}get viewProjectionMatrix(){return this._viewProjectionDirty&&(n(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){if(this._projectionDirty){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this.aspect;o(this._projectionMatrix,-r*(1+2*this._padding[3]/t),r*(1+2*this._padding[1]/t),-e*(1+2*this._padding[2]/i),e*(1+2*this._padding[0]/i),this.near,this.far),this._projectionDirty=!1}return this._projectionMatrix}set projectionMatrix(t){h(this._projectionMatrix,t),this._projectionDirty=!1,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fov(){return this._fov}set fov(t){this._fov=t,this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return X(this._fov,this.width,this.height)}set fovX(t){this._fov=Y(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return q(this._fov,this.width,this.height)}set fovY(t){this._fov=N(t,this.width,this.height),this._projectionDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return g(this._center,this.eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&(a(this._viewInverseTransposeMatrix,this.viewMatrix),_(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){d(this._ray.origin,t.eye),d(this._center,t.center),d(this._up,t.up),b(this._viewport,t.viewport),b(this._padding,t.padding),v(this._nearFar,t.nearFar),this._fov=t.fov,this.relativeElevation=t.relativeElevation;const i=t;return this._viewDirty=i._viewDirty,this._viewDirty||(h(this._viewMatrix,t.viewMatrix),d(this._viewRight,t.viewRight),d(this._viewUp,t.viewUp),d(this._viewForward,t.viewForward)),i._projectionDirty?this._projectionDirty=!0:(h(this._projectionMatrix,t.projectionMatrix),this._projectionDirty=!1),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||(H(t.frustum,this._frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:(h(this._viewInverseTransposeMatrix,t.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),b(this._fullViewport,t.fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new J).copyFrom(this)}equals(t){return y(this.eye,t.eye)&&y(this._center,t.center)&&y(this._up,t.up)&&k(this._viewport,t.viewport)&&k(this._padding,t.padding)&&c(this._nearFar,t.nearFar)&&this._fov===t.fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){if(this.pixelRatio!==t.pixelRatio||Math.abs(t.fov-this._fov)>=.001)return!1;const i=5e-4,e=1-1e-10;m(Q,t.eye,t.center),m(Z,this.eye,this._center);const r=f(Q,Z),s=x(Q),h=x(Z);return r*r>=e*s*h&&D(t.eye,this.eye)<Math.max(s,h)*i*i&&U(t.padding,this._padding)<.5&&U(t.viewport,this._viewport)<.5}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this.viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this.viewDirectionDistance(t))}viewDirectionDistance(t){return Math.abs(G(this.viewForward,l(Q,t,this.eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=r()){return t[0]=(this.padding[3]+this.width/2)/this.pixelRatio,t[1]=(this.padding[0]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t||(t=s()),t[0]=this.padding[3]+this.width*i,t[1]=this.padding[2]+this.height*e,t.length>2&&(t[2]=.5),t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,e,r=!1){t!==K&&d(K,t),K[3]=1,r&&(e[2]=-K[2]),A(K,K,this.projectionMatrix),j(K,K,1/Math.abs(K[3]));const s=this.fullViewport;return e[0]=i(0,s[0]+s[2],.5+.5*K[0]),e[1]=i(0,s[1]+s[3],.5+.5*K[1]),r||(e[2]=.5*(K[2]+1)),e}projectToScreen(t,i){this.projectToRenderScreen(t,$),this.renderToScreen($,i)}projectToRenderScreen(t,e){if(K[0]=t[0],K[1]=t[1],K[2]=t[2],K[3]=1,A(K,K,this.viewProjectionMatrix),0===K[3])return null;j(K,K,1/Math.abs(K[3]));const r=this.fullViewport;return\"x\"in e?(e.x=i(0,r[0]+r[2],.5+.5*K[0]),e.y=i(0,r[1]+r[3],.5+.5*K[1])):(e[0]=i(0,r[0]+r[2],.5+.5*K[0]),e[1]=i(0,r[1]+r[3],.5+.5*K[1]),e.length>2&&(e[2]=.5*(K[2]+1))),e}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,$),i)}unprojectFromRenderScreen(t,i){if(n(O,this.projectionMatrix,this.viewMatrix),!a(O,O))return null;const e=this.fullViewport;return K[0]=2*(t[0]-e[0])/e[2]-1,K[1]=2*(t[1]-e[1])/e[3]-1,K[2]=2*t[2]-1,K[3]=1,A(K,K,O),0===K[3]?null:(i[0]=K[0]/K[3],i[1]=K[1]/K[3],i[2]=K[2]/K[3],i)}constrainWindowSize(t,i,e,r=e){const s=t*this.pixelRatio,h=i*this.pixelRatio,n=Math.max(s-e/2,0),o=Math.max(this.fullHeight-h-r/2,0),a=-Math.min(s-e/2,0),_=-Math.min(this.fullHeight-h-r/2,0);return[n,o,e-a- -Math.min(this.fullWidth-s-e/2,0),r-_- -Math.min(h-r/2,0)]}computeUp(t){1===t?this.computeUpGlobal():this.computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;i[0]=e,i[1]=r}computeUpGlobal(){l(Q,this.center,this.eye);const t=M(this.center);t<1?(R(this._up,0,0,1),this._markViewDirty()):Math.abs(f(Q,this.center))>.9999*M(Q)*t||(P(this._up,Q,this.center),P(this._up,this._up,Q),F(this._up,this._up),this._markViewDirty())}computeUpLocal(){V(Q,this.eye,this.center),Math.abs(Q[2])<=.9999&&(j(Q,Q,Q[2]),R(this._up,-Q[0],-Q[1],1-Q[2]),F(this._up,this._up),this._markViewDirty())}_compareAndSetView(t,i){\"number\"==typeof t[0]&&isFinite(t[0])&&\"number\"==typeof t[1]&&isFinite(t[1])&&\"number\"==typeof t[2]&&isFinite(t[2])?y(t,i)||(d(i,t),this._markViewDirty()):B.warn(\"Camera vector contains invalid number, ignoring value\")}_markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}_recomputeFrustum(){this._frustumDirty&&(W(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&(p(this._viewMatrix,this.eye,this._center,this._up),R(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),R(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),R(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}}const K=E(),O=u(),Q=S(),Z=S(),$=s();export default J;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{n as s}from\"../../../../chunks/mat3.js\";import{c as i}from\"../../../../chunks/mat3f64.js\";import{a as r,e,d as o,m as n}from\"../../../../chunks/mat4.js\";import{c as h}from\"../../../../chunks/mat4f64.js\";import{c as a}from\"../../../../chunks/quat.js\";import{a as f}from\"../../../../chunks/quatf64.js\";import{q as l,b as m,f as c}from\"../../../../chunks/vec3.js\";import{c as b}from\"../../../../chunks/vec3f32.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{c as u}from\"../../../../chunks/vec4f64.js\";import{c as v}from\"../../../../chunks/sphere.js\";class z{constructor(){this._transform=h(),this._transformInverse=new g({value:this._transform},r,h),this._transformInverseTranspose=new g(this._transformInverse,e,h),this._transformTranspose=new g({value:this._transform},e,h),this._transformInverseRotation=new g({value:this._transform},s,i)}invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){o(this._transform,t)}multiplyTransform(t){n(this._transform,this._transform,t)}set(t){o(this._transform,t),this.invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this.invalidateLazyTransforms()}}class g{constructor(t,s,i){this.original=t,this.update=s,this.dirty=!0,this.transform=i()}invalidate(){this.dirty=!0}get value(){return this.dirty&&(this.update(this.transform,this.original.value),this.dirty=!1),this.transform}}class S{constructor(t=0){this.offset=t,this.tmpVertex=p()}applyToVertex(t,s,i){const r=t+this.localOrigin[0],e=s+this.localOrigin[1],o=i+this.localOrigin[2],n=this.offset/Math.sqrt(r*r+e*e+o*o);return this.tmpVertex[0]=t+r*n,this.tmpVertex[1]=s+e*n,this.tmpVertex[2]=i+o*n,this.tmpVertex}applyToAabb(t){const s=t[0]+this.localOrigin[0],i=t[1]+this.localOrigin[1],r=t[2]+this.localOrigin[2],e=t[3]+this.localOrigin[0],o=t[4]+this.localOrigin[1],n=t[5]+this.localOrigin[2],h=this.offset/Math.sqrt(s*s+i*i+r*r);t[0]+=s*h,t[1]+=i*h,t[2]+=r*h;const a=this.offset/Math.sqrt(e*e+o*o+n*n);return t[3]+=e*a,t[4]+=o*a,t[5]+=n*a,t}}class T{constructor(t=0){this.offset=t,this.componentLocalOriginLength=0,this.tmpVertex=p(),this.mbs=u(),this.obb={center:p(),halfSize:b(),quaternion:null}}set localOrigin(t){this.componentLocalOriginLength=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}applyToVertex(t,s,i){const r=t,e=s,o=i+this.componentLocalOriginLength,n=this.offset/Math.sqrt(r*r+e*e+o*o);return this.tmpVertex[0]=t+r*n,this.tmpVertex[1]=s+e*n,this.tmpVertex[2]=i+o*n,this.tmpVertex}applyToAabb(t){const s=t[0],i=t[1],r=t[2]+this.componentLocalOriginLength,e=t[3],o=t[4],n=t[5]+this.componentLocalOriginLength,h=this.offset/Math.sqrt(s*s+i*i+r*r);t[0]+=s*h,t[1]+=i*h,t[2]+=r*h;const a=this.offset/Math.sqrt(e*e+o*o+n*n);return t[3]+=e*a,t[4]+=o*a,t[5]+=n*a,t}applyToMbs(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),i=this.offset/s;return this.mbs[0]=t[0]+t[0]*i,this.mbs[1]=t[1]+t[1]*i,this.mbs[2]=t[2]+t[2]*i,this.mbs[3]=t[3]+t[3]*this.offset/s,this.mbs}applyToObb(t){const s=t.center,i=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);this.obb.center[0]=s[0]+s[0]*i,this.obb.center[1]=s[1]+s[1]*i,this.obb.center[2]=s[2]+s[2]*i,l(this.obb.halfSize,t.halfSize,t.quaternion),m(this.obb.halfSize,this.obb.halfSize,t.center);const r=this.offset/Math.sqrt(this.obb.halfSize[0]*this.obb.halfSize[0]+this.obb.halfSize[1]*this.obb.halfSize[1]+this.obb.halfSize[2]*this.obb.halfSize[2]);return this.obb.halfSize[0]+=this.obb.halfSize[0]*r,this.obb.halfSize[1]+=this.obb.halfSize[1]*r,this.obb.halfSize[2]+=this.obb.halfSize[2]*r,c(this.obb.halfSize,this.obb.halfSize,t.center),a(j,t.quaternion),l(this.obb.halfSize,this.obb.halfSize,j),this.obb.halfSize[0]*=this.obb.halfSize[0]<0?-1:1,this.obb.halfSize[1]*=this.obb.halfSize[1]<0?-1:1,this.obb.halfSize[2]*=this.obb.halfSize[2]<0?-1:1,this.obb.quaternion=t.quaternion,this.obb}}class q{constructor(t=0){this.offset=t,this.sphere=v(),this.tmpVertex=p()}applyToVertex(t,s,i){const r=this.objectTransform.transform;let e=r[0]*t+r[4]*s+r[8]*i+r[12],o=r[1]*t+r[5]*s+r[9]*i+r[13],n=r[2]*t+r[6]*s+r[10]*i+r[14];const h=this.offset/Math.sqrt(e*e+o*o+n*n);e+=e*h,o+=o*h,n+=n*h;const a=this.objectTransform.inverse;return this.tmpVertex[0]=a[0]*e+a[4]*o+a[8]*n+a[12],this.tmpVertex[1]=a[1]*e+a[5]*o+a[9]*n+a[13],this.tmpVertex[2]=a[2]*e+a[6]*o+a[10]*n+a[14],this.tmpVertex}applyToMinMax(t,s){const i=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*i,t[1]+=t[1]*i,t[2]+=t[2]*i;const r=this.offset/Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);s[0]+=s[0]*r,s[1]+=s[1]*r,s[2]+=s[2]*r}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const i=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*i,t[4]+=t[4]*i,t[5]+=t[5]*i,t}applyToBoundingSphere(t){const s=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),i=this.offset/s;return this.sphere[0]=t[0]+t[0]*i,this.sphere[1]=t[1]+t[1]*i,this.sphere[2]=t[2]+t[2]*i,this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const x=new q;function _(s){return t(s)?(x.offset=s,x):null}const y=new T;function M(s){return t(s)?(y.offset=s,y):null}const d=new S;function V(s){return t(s)?(d.offset=s,d):null}const O=\"terrain\",j=f();export{T as I3SVerticalOffsetGlobalViewingMode,z as IntersectorTransform,q as Object3DVerticalOffsetGlobalViewingMode,O as TERRAIN_ID,S as TerrainVerticalOffsetGlobalViewingMode,M as getVerticalOffsetI3S,_ as getVerticalOffsetObject3D,V as getVerticalOffsetTerrain};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{i as o,t,s}from\"../../../../../chunks/mat4.js\";import{a as c,f,d as a}from\"../../../../../chunks/vec2.js\";import{s as i,b as u,a as m}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";const h=p();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){o(n),t(n,n,r),i(h,e,e,e),s(n,n,h)}function g(e,r){if(i(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)u(r,r,e[n]);m(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),c(n,U,x),f(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),a(w,y)}function T(e,r,n){return R(e,q,n),a(q,r)}const v=p(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{FoamIntensity as e}from\"./FoamRendering.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function r(r){r.fragment.uniforms.add(\"texWaveNormal\",\"sampler2D\"),r.fragment.uniforms.add(\"texWavePerturbation\",\"sampler2D\"),r.fragment.uniforms.add(\"waveParams\",\"vec4\"),r.fragment.uniforms.add(\"waveDirection\",\"vec2\"),r.include(e),r.fragment.code.add(t`const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);\nvec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {\nreturn 2.0 * texture2D(_tex, _uv).rg - 1.0;\n}\nfloat sampleNoiseTexture(vec2 _uv) {\nreturn texture2D(texWavePerturbation, _uv).b;\n}\nvec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {\nreturn 2.0 * texture2D(_tex, _uv).rgb - 1.0;\n}\nfloat computeProgress(vec2 uv, float time) {\nreturn fract(time);\n}\nfloat computeWeight(vec2 uv, float time) {\nfloat progress = computeProgress(uv, time);\nreturn 1.0 - abs(1.0 - 2.0 * progress);\n}\nvec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {\nfloat flowStrength = waveParams[2];\nfloat flowOffset = waveParams[3];\nvec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;\nfloat progress = computeProgress(uv, time + phaseOffset);\nfloat weight = computeWeight(uv, time + phaseOffset);\nvec2 result = uv;\nresult -= flowVector * (progress + flowOffset);\nresult += phaseOffset;\nresult += (time - progress) * FLOW_JUMP;\nreturn vec3(result, weight);\n}\nconst float TIME_NOISE_TEXTURE_REPEAT = 0.3737;\nconst float TIME_NOISE_STRENGTH = 7.77;\nvec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {\nfloat waveStrength = waveParams[0];\nvec2 waveMovement = time * -_waveDir;\nfloat timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;\nvec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);\nvec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);\nvec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;\nvec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;\nvec3 mixNormal = normalize(normal_A + normal_B);\nmixNormal.xy *= waveStrength;\nmixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));\nreturn mixNormal;\n}\nvec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {\nfloat waveTextureRepeat = waveParams[1];\nvec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);\nfloat foam  = normals2FoamIntensity(normal, waveParams[0]);\nreturn vec4(normal, foam);\n}`)}function a(e,t){e.setUniform4f(\"waveParams\",t.waveStrength,t.waveTextureRepeat,t.flowStrength,t.flowOffset),e.setUniform2f(\"waveDirection\",t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)}export{r as WaterDistortion,a as bindWaterDistortionUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{e as n}from\"../../chunks/earcut.js\";import{isClockwise as t}from\"./coordsUtils.js\";import{deduplicate as e}from\"./meshUtils/deduplicate.js\";function o(t){const o=l(t.rings,t.hasZ,1),s=[];let i=0,c=0;for(const e of o.polygons){const t=e.count,r=e.index,l=new Float64Array(o.position.buffer,3*r*o.position.BYTES_PER_ELEMENT,3*t),h=e.holeIndices.map((n=>n-r)),f=new Uint32Array(n(l,h,3));s.push({position:l,faces:f}),i+=l.length,c+=f.length}const h=r(s,i,c),f=e(h.position.buffer,6,{originalIndices:h.faces});return h.position=new Float64Array(f.buffer),h.faces=f.indices,h}function r(n,t,e){if(1===n.length)return n[0];const o=new Float64Array(t),r=new Uint32Array(e);let l=0,s=0,i=0;for(const c of n){for(let n=0;n<c.position.length;n++)o[l++]=c.position[n];for(let n=0;n<c.faces.length;n++)r[s++]=c.faces[n]+i;i=l/3}return{position:o,faces:r}}function l(n,t,e){const o=n.length,r=new Array(o),l=new Array(o),c=new Array(o);let h=0,f=0,g=0,a=0;for(let s=0;s<o;++s)a+=n[s].length;const u=new Float64Array(3*a);let p=0;for(let d=o-1;d>=0;d--){const a=n[d],y=1===e&&i(a);if(y&&1!==o)r[h++]=a;else{let n=a.length;for(let t=0;t<h;++t)n+=r[t].length;const e={index:p,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=a.length,a.length>0&&(c[g++]={index:p,count:a.length}),p=y?s(a,a.length-1,-1,u,p,a.length,t):s(a,0,1,u,p,a.length,t);for(let o=0;o<h;++o){const n=r[o];e.holeIndices[o]=p,e.pathLengths[o+1]=n.length,n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}h=0,e.count>0&&(l[f++]=e)}}for(let i=0;i<h;++i){const n=r[i];n.length>0&&(c[g++]={index:p,count:n.length}),p=s(n,0,1,u,p,n.length,t)}return f<o&&(l.length=f),g<o&&(c.length=g),{position:u,polygons:l,outlines:c}}function s(n,t,e,o,r,l,s){r*=3;for(let i=0;i<l;++i){const l=n[t];o[r++]=l[0],o[r++]=l[1],o[r++]=s?l[2]:0,t+=e}return r/3}function i(n){return!t(n,!1,!1)}export{l as pathsToTriangulationInfo,o as triangulate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Handles.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{i,t as r,s}from\"../../../../chunks/mat4.js\";import{c as a}from\"../../../../chunks/mat4f64.js\";import{i as o,n as l,f as n,g as u,b as h}from\"../../../../chunks/vec3.js\";import{c as d}from\"../../../../chunks/vec3f64.js\";import{c}from\"../../../../chunks/vec4.js\";import{f as _}from\"../../../../chunks/vec4f32.js\";import{sv3d as m}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{Geometry as M}from\"../../webgl-engine/lib/Geometry.js\";import f from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";import{RibbonLineMaterial as O}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class y extends p{constructor(t){super(t),this._handles=new e,this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=d(),this._up=d(),this._right=d(),this._renderOccluded=4,this._color=_(1,0,0,1),this._outlineColor=_(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){c(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){c(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(o(t,e),o(t,i))/3,l(this._up,n(this._up,e,t)),l(this._right,n(this._right,i,t)),u(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new g(this.quadMaterialParameters),this._outlineMaterial=new O(this.outlineMaterialParameters),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=h(m.get(),this._up,this._right),i=f.createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const a=this.view.state.camera,o=this._size*a.computeScreenPixelSizeAt(this._position),l=Math.min(this._maxSize,o);i(z),r(z,z,this._position),s(z,z,[l,l,l]),t(e)&&(e.transformation=z)}_quadGeometryData(e,t){const i=h(m.get(),e,t);return new M([[\"position\",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[[\"position\",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameterValues(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameterValues(this.outlineMaterialParameters)}}const z=a();export{y as RightAngleQuadVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as t}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.code.add(t`float normals2FoamIntensity(vec3 n, float waveStrength){\nfloat normalizationFactor =  max(0.015, waveStrength);\nreturn max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);\n}`)}function n(o){o.fragment.code.add(t`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){\nreturn foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;\n}`)}export{n as FoamColor,o as FoamIntensity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ForwardLinearDepth as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as a}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{OutputHighlight as o}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as t}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{NormalUtils as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js\";import{ReadShadowMap as d}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{Water as l}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js\";import{WaterDistortion as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{symbolAlphaCutoff as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as m}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function p(p){const u=new m;return u.include(a,{linearDepth:!1}),u.attributes.add(\"position\",\"vec3\"),u.attributes.add(\"uv0\",\"vec2\"),u.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"localOrigin\",\"vec3\"),u.vertex.uniforms.add(\"waterColor\",\"vec4\"),0!==p.output&&7!==p.output||(u.include(n,p),u.include(e,p),u.varyings.add(\"vuv\",\"vec2\"),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vnormal\",\"vec3\"),u.varyings.add(\"vtbnMatrix\",\"mat3\"),p.multipassTerrainEnabled&&u.varyings.add(\"depth\",\"float\"),u.vertex.code.add(c`\n      void main(void) {\n        if (waterColor.a < ${c.float(v)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vuv = uv0;\n        vpos = position;\n\n        vnormal = getLocalUp(vpos, localOrigin);\n        vtbnMatrix = getTBNMatrix(vnormal);\n\n        ${p.multipassTerrainEnabled?\"depth = (view * vec4(vpos, 1.0)).z;\":\"\"}\n\n        gl_Position = transformPosition(proj, view, vpos);\n        ${0===p.output?\"forwardLinearDepth();\":\"\"}\n      }\n    `)),p.multipassTerrainEnabled&&(u.fragment.include(i),u.include(t,p)),7===p.output&&(u.include(r,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(c`\n        void main() {\n          discardBySlice(vpos);\n          ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n\n          gl_FragColor = vec4(waterColor.a);\n        }\n      `)),0===p.output&&(u.include(s,p),u.include(r,p),p.receiveShadows&&u.include(d,p),u.include(l,p),u.fragment.uniforms.add(\"waterColor\",\"vec4\").add(\"lightingMainDirection\",\"vec3\").add(\"lightingMainIntensity\",\"vec3\").add(\"camPos\",\"vec3\").add(\"timeElapsed\",\"float\").add(\"view\",\"mat4\"),u.fragment.include(g),u.fragment.code.add(c`\n      void main() {\n        discardBySlice(vpos);\n        ${p.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n        vec3 localUp = vnormal;\n        // the created normal is in tangent space\n        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\n\n        // we rotate the normal according to the tangent-bitangent-normal-Matrix\n        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);\n        vec3 v = -normalize(vpos - camPos);\n        float shadow = ${p.receiveShadows?c`1.0 - readShadowMap(vpos, linearDepth)`:\"1.0\"};\n        vec4 vPosView = view*vec4(vpos, 1.0);\n        vec4 final = vec4(getSeaColor(n, v, lightingMainDirection, waterColor.rgb, lightingMainIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz), waterColor.w);\n\n        // gamma correction\n        gl_FragColor = delinearizeGamma(final);\n        gl_FragColor = highlightSlice(gl_FragColor, vpos);\n        ${p.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}\n      }\n    `)),2===p.output&&(u.include(n,p),u.include(s,p),u.include(r,p),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vuv\",\"vec2\"),u.vertex.code.add(c`\n        void main(void) {\n          if (waterColor.a < ${c.float(v)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vuv = uv0;\n          vpos = position;\n\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"timeElapsed\",\"float\"),u.fragment.code.add(c`void main() {\ndiscardBySlice(vpos);\nvec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);\ntangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);\ngl_FragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);\n}`)),5===p.output&&(u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(c`\n        void main(void) {\n          if (waterColor.a < ${c.float(v)}) {\n            // Discard this vertex\n            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n            return;\n          }\n\n          vpos = position;\n          gl_Position = transformPosition(proj, view, vpos);\n        }\n    `),u.fragment.uniforms.add(\"waterColor\",\"vec4\"),u.fragment.code.add(c`void main() {\ngl_FragColor = waterColor;\n}`)),4===p.output&&(u.include(o),u.varyings.add(\"vpos\",\"vec3\"),u.vertex.code.add(c`\n      void main(void) {\n        if (waterColor.a < ${c.float(v)}) {\n          // Discard this vertex\n          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n          return;\n        }\n\n        vpos = position;\n        gl_Position = transformPosition(proj, view, vpos);\n      }\n    `),u.include(r,p),u.fragment.code.add(c`void main() {\ndiscardBySlice(vpos);\noutputHighlight();\n}`)),u}var u=Object.freeze({__proto__:null,build:p});export{u as W,p as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function n(){const n=new o;return n.include(e),n.fragment.uniforms.add(\"tex\",\"sampler2D\"),n.fragment.uniforms.add(\"color\",\"vec4\"),n.fragment.code.add(r`void main() {\nvec4 texColor = texture2D(tex, uv);\ngl_FragColor = texColor * color;\n}`),n}var a=Object.freeze({__proto__:null,build:n});export{a as T,n as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as e}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{f as o,g as t,s as c}from\"../../../../chunks/vec3.js\";import{create as i}from\"../../../../geometry/support/ray.js\";import{sv3d as s}from\"../../../../geometry/support/vectorStacks.js\";function u(r,n,o=i()){return m(r,r.screenToRender(n,e(s.get())),o)}function m(t,c,u=i()){const m=e(n(s.get(),c));if(m[2]=0,!t.unprojectFromRenderScreen(m,u.origin))return null;const g=e(n(s.get(),c));g[2]=1;const p=t.unprojectFromRenderScreen(g,s.get());return r(p)?null:(o(u.direction,p,u.origin),u)}function g(r,n,o=i()){return p(r,r.screenToRender(n,e(s.get())),o)}function p(e,n,u=i()){t(u.origin,e.eye);const m=c(s.get(),n[0],n[1],1),g=e.unprojectFromRenderScreen(m,s.get());return r(g)?null:(o(u.direction,g,u.origin),u)}export{m as fromRender,p as fromRenderAtEye,u as fromScreen,g as fromScreenAtEye};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ScreenSizeScaling as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as s}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function t(t){const c=new s;return c.include(o,{linearDepth:!1}),c.include(e,{}),c.include(r,t),c.fragment.include(l),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(n`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(n`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(n`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(i),c.include(a,t)),c.fragment.code.add(n`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(n`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(n`vec4 finalColor = color;`),c.fragment.code.add(n`\n      if (finalColor.a < ${n.float(d)}) {\n        discard;\n      }\n      ${7===t.output?n`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?n`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}var c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass i{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.store=2}}export{i as IntersectorOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{I as r}from\"../../../../chunks/mat4f64.js\";import{b as s,m as e}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{fromPoints as a,copy as n}from\"../../../../geometry/support/ray.js\";import{IntersectorOptions as o}from\"./IntersectorInterfaces.js\";import{IntersectorResults as h,IntersectorResult as d}from\"./intersectorUtils.js\";import{IntersectorTransform as c,getVerticalOffsetObject3D as l}from\"./verticalOffsetUtils.js\";import{isInstanceHidden as f}from\"../materials/renderers/utils.js\";const m=1e-5;class u{constructor(t){this.options=new o,this.results=new h,this.transform=new c,this.performanceInfo={queryDuration:0,numObjectsTested:0},this.tolerance=m,this.verticalOffset=null,this._ray={origin:i(),direction:i()},this._rayEndPoint=i(),this._rayStartPointTransformed=i(),this._rayEndPointTransformed=i(),this.viewingMode=null==t?1:t}get ray(){return this._ray}get rayBeginPoint(){return this._ray.origin}get rayEndPoint(){return this._rayEndPoint}reset(t,r){this.resetWithRay(a(t,r,this._ray))}resetWithRay(t){t!==this._ray&&n(t,this._ray),0!==this.options.verticalOffset?2===this.viewingMode?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,s(this._rayEndPoint,this._ray.origin,this._ray.direction),this._numObjectsTested=0,this.results.init(this._ray)}intersect(r=null,s,e,i,a,n){this.point=s,this.camera=e,this.filterPredicate=a,this.tolerance=null==i?m:i;const o=l(this.verticalOffset);if(t(r)&&r.length>0){const s=n?t=>{n(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const e of r){const r=e.getSpatialQueryAccelerator&&e.getSpatialQueryAccelerator();t(r)?(t(o)?r.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,s,o):r.forEachAlongRay(this._ray.origin,this._ray.direction,s),this.options.selectionMode&&this.options.hud&&r.forEachDegenerateObject(s)):e.objects.forAll((t=>s(t)))}}this.sortResults()}intersectObject(s){this._numObjectsTested++;const i=s.geometryRecords;if(!i)return;const a=s.id,n=s.transformation;let o;const h=l(this.verticalOffset);for(const c of i){const{geometry:i,material:l,instanceParameters:m}=c;if(f(m))continue;o=i.id,this.transform.setAndInvalidateLazyTransforms(n,c.getShaderTransformation()),e(this._rayStartPointTransformed,this._ray.origin,this.transform.inverse),e(this._rayEndPointTransformed,this._rayEndPoint,this.transform.inverse);const u=this.transform.transform;t(h)&&(h.objectTransform=this.transform),l.intersect(i,m,this.transform.transform,this,this._rayStartPointTransformed,this._rayEndPointTransformed,((e,i,n,h,c,l)=>{if(e>=0){if(t(this.filterPredicate)&&!this.filterPredicate(this._ray.origin,this._rayEndPoint,e))return;const f=`Object3D ${a}`;if(c)return void((null==this.results.hud.dist||e<this.results.hud.dist)&&this.results.hud.set(s,f,e,i,r,h,l,o,n));const m=t=>t.set(s,f,e,i,u,h,null,o,n);if((null==this.results.min.drapedLayerOrder||h>=this.results.min.drapedLayerOrder)&&(null==this.results.min.dist||e<this.results.min.dist)&&m(this.results.min),0!==this.options.store&&(null==this.results.max.drapedLayerOrder||h<this.results.max.drapedLayerOrder)&&(null==this.results.max.dist||e>this.results.max.dist)&&m(this.results.max),2===this.options.store){const t=new d(this._ray);m(t),this.results.all.push(t)}}}),c.shaderTransformation)}}sortResults(){this.results.all.sort(((t,r)=>t.dist!==r.dist?t.dist-r.dist:t.drapedLayerOrder!==r.drapedLayerOrder?(void 0!==t.drapedLayerOrder?t.drapedLayerOrder:Number.MAX_VALUE)-(void 0!==r.drapedLayerOrder?r.drapedLayerOrder:Number.MAX_VALUE):(void 0!==r.drapedLayerGraphicOrder?r.drapedLayerGraphicOrder:Number.MIN_VALUE)-(void 0!==t.drapedLayerGraphicOrder?t.drapedLayerGraphicOrder:Number.MIN_VALUE)))}}u.DEFAULT_TOLERANCE=m;export{u as Intersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../core/has.js\";import s from\"../core/Logger.js\";import{acosClamped as i}from\"../core/mathUtils.js\";import{ObjectStack as n}from\"../core/ObjectStack.js\";import{a as t,e as a,c as r,i as o}from\"./mat4.js\";import{c as e}from\"./mat4f64.js\";import{g as c,a as u,b as g,s as b,i as f,l,r as p,d as m,f as d,k as h,m as j,n as I,p as y}from\"./vec3.js\";import{c as P,a as v,f as N}from\"./vec3f64.js\";import{projectPointClamp as w,distance2 as M,create as S}from\"../geometry/support/lineSegment.js\";import{create as T,wrap as A,copy as V,fromVectorsAndPoint as _,normal as x,fromValues as k,intersectRay as E,intersectLineSegment as O,intersectLineSegmentClamp as U,isPointInside as q,projectPoint as B,setOffsetFromPoint as F}from\"../geometry/support/plane.js\";import{distance2 as R}from\"../geometry/support/ray.js\";import{projectPointSignedLength as Y}from\"../geometry/support/vector.js\";import{sv3d as C}from\"../geometry/support/vectorStacks.js\";const L=s.getLogger(\"esri.views.3d.support.geometryUtils.boundedPlane\");class z{constructor(){this.plane=T(),this.origin=P(),this.basis1=P(),this.basis2=P()}}function G(s=vs){return{plane:T(s.plane),origin:v(s.origin),basis1:v(s.basis1),basis2:v(s.basis2)}}function W(s,i,n){const t=Ss.get();return t.origin=s,t.basis1=i,t.basis2=n,t.plane=A(0,0,0,0),K(t),t}function D(s,i=G()){return J(s.origin,s.basis1,s.basis2,i)}function H(s,i){c(i.origin,s.origin),c(i.basis1,s.basis1),c(i.basis2,s.basis2),V(s.plane,i.plane)}function J(s,i,n,t=G()){return c(t.origin,s),c(t.basis1,i),c(t.basis2,n),K(t),ys(t,\"fromValues()\"),t}function K(s){_(s.basis2,s.basis1,s.origin,s.plane)}function Q(s,i,n){s!==n&&D(s,n);const t=u(C.get(),ms(s),i);return g(n.origin,n.origin,t),n.plane[3]-=i,n}function X(s,i,n){return Z(i,n),Q(n,gs(s,s.origin),n),n}function Z(s,i=G()){const n=(s[2]-s[0])/2,t=(s[3]-s[1])/2;return b(i.origin,s[0]+n,s[1]+t,0),b(i.basis1,n,0,0),b(i.basis2,0,t,0),k(0,0,1,0,i.plane),i}function $(s,i,n){return!!E(s.plane,i,n)&&hs(s,n)}function ss(s,i,n){if($(s,i,n))return n;const t=is(s,i,C.get());return g(n,i.origin,u(C.get(),i.direction,f(i.origin,t)/l(i.direction))),n}function is(s,n,t){const a=Ns.get();Ps(s,n,a,Ns.get());let r=Number.POSITIVE_INFINITY;for(const o of Ts){const e=Is(s,o,ws.get()),u=C.get();if(O(a,e,u)){const s=p(C.get(),n.origin,u),a=Math.abs(i(m(n.direction,s)));a<r&&(r=a,c(t,u))}}return r===Number.POSITIVE_INFINITY?ns(s,n,t):t}function ns(s,i,n){if($(s,i,n))return n;const t=Ns.get(),a=Ns.get();Ps(s,i,t,a);let r=Number.POSITIVE_INFINITY;for(const o of Ts){const e=Is(s,o,ws.get()),u=C.get();if(U(t,e,u)){const s=R(i,u);if(!q(a,u))continue;s<r&&(r=s,c(n,u))}}return rs(s,i.origin)<r&&ts(s,i.origin,n),n}function ts(s,i,n){const t=B(s.plane,i,C.get()),a=w(js(s,s.basis1),t,-1,1,C.get()),r=w(js(s,s.basis2),t,-1,1,C.get());return d(n,g(C.get(),a,r),s.origin),n}function as(s,i,n){const{origin:t,basis1:a,basis2:r}=s,o=d(C.get(),i,t),e=Y(a,o),c=Y(r,o),u=Y(ms(s),o);return b(n,e,c,u)}function rs(s,i){const n=as(s,i,C.get()),{basis1:t,basis2:a}=s,r=l(t),o=l(a),e=Math.max(Math.abs(n[0])-r,0),c=Math.max(Math.abs(n[1])-o,0),u=n[2];return e*e+c*c+u*u}function os(s,i){return Math.sqrt(rs(s,i))}function es(s,i){let n=Number.NEGATIVE_INFINITY;for(const t of Ts){const a=Is(s,t,ws.get()),r=M(a,i);r>n&&(n=r)}return Math.sqrt(n)}function cs(s,i){return q(s.plane,i)&&hs(s,i)}function us(s,i,n,t){return ds(s,n,t)}function gs(s,i){const n=-s.plane[3];return Y(ms(s),i)-n}function bs(s,i,n,t){const a=gs(s,i),r=u(Ms,ms(s),n-a);return g(t,i,r),t}function fs(s,i){return h(s.basis1,i.basis1)&&h(s.basis2,i.basis2)&&h(s.origin,i.origin)}function ls(s,i,n){return s!==n&&D(s,n),t(As,i),a(As,As),j(n.basis1,s.basis1,As),j(n.basis2,s.basis2,As),j(x(n.plane),x(s.plane),As),j(n.origin,s.origin,i),F(n.plane,n.origin,n.plane),n}function ps(s,i,n,t){return s!==t&&D(s,t),r(Vs,o(Vs),i,n),j(t.basis1,s.basis1,Vs),j(t.basis2,s.basis2,Vs),K(t),t}function ms(s){return x(s.plane)}function ds(s,i,n){switch(i){case 0:c(n,s.basis1),I(n,n);break;case 1:c(n,s.basis2),I(n,n);break;case 2:c(n,ms(s))}return n}function hs(s,i){const n=d(C.get(),i,s.origin),t=y(s.basis1),a=y(s.basis2),r=m(s.basis1,n),o=m(s.basis2,n);return-r-t<0&&r-t<0&&-o-a<0&&o-a<0}function js(s,i){const n=ws.get();return c(n.origin,s.origin),c(n.vector,i),n}function Is(s,i,n){const{basis1:t,basis2:a,origin:r}=s,o=u(C.get(),t,i.origin[0]),e=u(C.get(),a,i.origin[1]);g(n.origin,o,e),g(n.origin,n.origin,r);const c=u(C.get(),t,i.direction[0]),b=u(C.get(),a,i.direction[1]);return u(n.vector,g(c,c,b),2),n}function ys(s,i){Math.abs(m(s.basis1,s.basis2)/(l(s.basis1)*l(s.basis2)))>1e-6&&L.warn(i,\"Provided basis vectors are not perpendicular\"),Math.abs(m(s.basis1,ms(s)))>1e-6&&L.warn(i,\"Basis vectors and plane normal are not perpendicular\"),Math.abs(-m(ms(s),s.origin)-s.plane[3])>1e-6&&L.warn(i,\"Plane offset is not consistent with plane origin\")}function Ps(s,i,n,t){const a=ms(s);_(a,i.direction,i.origin,n),_(x(n),a,i.origin,t)}const vs={plane:T(),origin:N(0,0,0),basis1:N(1,0,0),basis2:N(0,1,0)},Ns=new n(T),ws=new n(S),Ms=P(),Ss=new n((()=>({origin:null,basis1:null,basis2:null,plane:null}))),Ts=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],As=e(),Vs=e();var _s=Object.freeze({__proto__:null,BoundedPlaneClass:z,create:G,wrap:W,copy:D,copyWithoutVerify:H,fromValues:J,updateUnboundedPlane:K,elevate:Q,setExtent:X,fromAABoundingRect:Z,intersectRay:$,intersectRayClosestSilhouette:ss,closestPointOnSilhouette:is,closestPoint:ns,projectPoint:ts,projectPointLocal:as,distance2:rs,distance:os,distanceToSilhouette:es,extrusionContainsPoint:cs,axisAt:us,altitudeAt:gs,setAltitudeAt:bs,equals:fs,transform:ls,rotate:ps,normal:ms,UP:vs});export{fs as A,z as B,vs as U,G as a,_s as b,D as c,H as d,cs as e,J as f,Z as g,os as h,$ as i,Q as j,ss as k,is as l,ns as m,ms as n,as as o,ts as p,rs as q,ps as r,X as s,ls as t,K as u,es as v,W as w,us as x,gs as y,bs as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{d as t}from\"../../../../chunks/mat4.js\";import{c as r}from\"../../../../chunks/mat4f64.js\";import{e as i,a as s,l as e,b as a,g as n,n as o}from\"../../../../chunks/vec3.js\";import{c as h,a as d}from\"../../../../chunks/vec3f64.js\";import{t as c}from\"../../../../chunks/vec4.js\";import{c as m}from\"../../../../chunks/vec4f64.js\";import{e as l}from\"../../../../chunks/boundedPlane.js\";import{create as u,copy as p}from\"../../../../geometry/support/ray.js\";import{Object3D as y}from\"./Object3D.js\";function g(t){return(r,s,e)=>(i(v,r,s,e),!l(t,v))}class f{constructor(){this.min=new j,this.max=new j,this.hud=new j,this.ground=new j}init(t){this.min.init(t),this.max.init(t),this.hud.init(t),this.ground.init(t),this.all=[]}}class j{constructor(t){this.normal=h(),this.transformation=r(),this._ray=u(),this.init(t)}get ray(){return this._ray}get hasIntersectionPoint(){return null!=this.dist}get distanceInRenderSpace(){if(null!=this.dist)return s(O,this.ray.direction,this.dist),e(O)}getIntersectionPoint(t){return!!this.hasIntersectionPoint&&(s(O,this.ray.direction,this.dist),a(t,this.ray.origin,O),!0)}getTransformedNormal(t){return n(I,this.normal),I[3]=0,c(I,I,this.transformation),n(t,I),o(t,t),t}init(t){this.dist=void 0,this.target=void 0,this.name=void 0,this.drapedLayerOrder=void 0,this.drapedLayerGraphicOrder=void 0,this.center=null,this.geometryId=null,this.triangleNr=null,this.intersector=\"Stage\",t?p(t,this._ray):this._ray=u()}set(r,i,s,e,a,o,h,c,m,l){r instanceof y&&(r={type:\"stage\",obj:r}),this.dist=s,n(this.normal,e),t(this.transformation,a),this.target=r,this.name=i,this.drapedLayerOrder=o,this.center=h?d(h):null,this.geometryId=c,this.triangleNr=m,this.drapedLayerGraphicOrder=l}copyFrom(r){p(r.ray,this._ray),this.dist=r.dist,this.target=r.target,this.name=r.name,this.drapedLayerOrder=r.drapedLayerOrder,this.center=r.center?d(r.center):null,this.geometryId=r.geometryId,this.triangleNr=r.triangleNr,this.intersector=r.intersector,this.drapedLayerGraphicOrder=r.drapedLayerGraphicOrder,n(this.normal,r.normal),t(this.transformation,r.transformation)}}const v=h(),O=h(),I=m();export{j as IntersectorResult,f as IntersectorResults,g as sliceFilterPredicate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as r}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"lastFrameColorMap\",\"sampler2D\"),o.fragment.uniforms.add(\"reprojectionMat\",\"mat4\"),o.fragment.uniforms.add(\"rpProjectionMat\",\"mat4\"),o.fragment.code.add(r`vec2 reprojectionCoordinate(vec3 projectionCoordinate)\n{\nvec4 zw = rpProjectionMat * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);\nvec4 reprojectedCoord = reprojectionMat * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);\nreprojectedCoord.xy /= reprojectedCoord.w;\nreturn reprojectedCoord.xy * 0.5 + 0.5;\n}`)}function e(r,o){r.bindTexture(o.lastFrameColorTexture,\"lastFrameColorMap\"),r.setUniformMatrix4fv(\"reprojectionMat\",o.reprojectionMat),r.setUniformMatrix4fv(\"rpProjectionMat\",o.camera.projectionMatrix)}export{o as Reprojection,e as bindReprojectionUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"../output/ReadLinearDepth.glsl.js\";import{Reprojection as t,bindReprojectionUniforms as o}from\"./Reprojection.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function a(o,a){o.fragment.uniforms.add(\"nearFar\",\"vec2\"),o.fragment.uniforms.add(\"depthMapView\",\"sampler2D\"),o.fragment.uniforms.add(\"ssrViewMat\",\"mat4\"),o.fragment.uniforms.add(\"invResolutionHeight\",\"float\"),o.fragment.include(e),o.include(t),o.fragment.code.add(r`\n  const int maxSteps = ${a.highStepCount?\"150;\":\"75;\"}\n\n  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)\n  {\n    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);\n    projectedCoord.xy /= projectedCoord.w;\n    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;\n    return projectedCoord;\n  }\n\n  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)\n  {\n    vec3 viewPos = startPosition;\n    vec3 viewPosEnd = startPosition;\n\n    // Project the start position to the screen\n    vec4 projectedCoordStart = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space\n    float k0 = 1.0/ projectedCoordStart.w;\n\n    // advance the position in the direction of the reflection\n    viewPos += dir;\n\n    vec4 projectedCoordVanishingPoint = applyProjectionMat(rpProjectionMat, dir);\n\n    // Project the advanced position to the screen\n    vec4 projectedCoordEnd = applyProjectionMat(rpProjectionMat, viewPos);\n    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space\n    float k1 = 1.0/ projectedCoordEnd.w;\n\n    // calculate the reflection direction in the screen space\n    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);\n    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);\n\n    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);\n\n    float projectedCoordDirLength = length(projectedCoordDir);\n    float maxSt = float(maxSteps);\n\n    // normalize the projection direction depending on maximum steps\n    // this determines how blocky the reflection looks\n    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);\n\n    // Normalize the homogeneous camera space coordinates\n    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);\n    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);\n\n    // initialize the variables for ray marching\n    vec2 P = projectedCoordStart.xy;\n    vec3 Q = Q0;\n    float k = k0;\n    float rayStartZ = -startPosition.z; // estimated ray start depth value\n    float rayEndZ = -startPosition.z;   // estimated ray end depth value\n    float prevEstimateZ = -startPosition.z;\n    float rayDiffZ = 0.0;\n    float dDepth;\n    float depth;\n    float rayDiffZOld = 0.0;\n\n    // early outs\n    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)\n      return vec3(P, 0.0);\n\n    for(int i = 0; i < maxSteps-1; i++)\n    {\n      depth = -linearDepthFromTexture(depthMapView, P, nearFar); // get linear depth from the depth buffer\n\n      // estimate depth of the marching ray\n      rayStartZ = prevEstimateZ;\n      dDepth = -rayStartZ - depth;\n      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));\n      rayDiffZ = rayEndZ- rayStartZ;\n      prevEstimateZ = rayEndZ;\n\n      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )\n      {\n        return vec3(P, 0.);\n      }\n\n      // If we detect a hit - return the intersection point, two conditions:\n      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth\n      //  - if difference between dDepth and rayDiffZOld is not too large\n      //  - if difference between dDepth and 0.025/abs(k) is not too large\n      //  - if the sampled depth is not behind far plane or in front of near plane\n\n      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)\n      {\n          return vec3(P, depth);\n      }\n\n      // continue with ray marching\n      P += dP;\n      Q.z += dQ.z;\n      k += dk;\n      rayDiffZOld = rayDiffZ;\n    }\n    return vec3(P, 0.0);\n  }\n  `)}function i(e,t){t.ssrEnabled&&(e.bindTexture(t.linearDepthTexture,\"depthMapView\"),e.setUniform2fv(\"nearFar\",t.camera.nearFar),e.setUniformMatrix4fv(\"ssrViewMat\",t.camera.viewMatrix),e.setUniform1f(\"invResolutionHeight\",1/t.camera.height),o(e,t))}export{a as ScreenSpaceReflections,i as bindSSRUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{measureForUnit as t,isBaseUnit as i,convertUnit as s,baseUnitForUnit as n}from\"./unitUtils.js\";class e{constructor(i,s){this.measure=t(s),this.value=i,this.unit=s}get isBaseUnit(){return i(this.unit)}toUnit(t){return new e(s(this.value,this.unit,t),t)}toBaseUnit(){return this.toUnit(n(this.unit))}}export default e;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../../../core/unitUtils.js\";class t{constructor(e=null){this.spatialReference=e}get spatialReference(){return this._spatialReference}set spatialReference(e){e!==this._spatialReference&&(this._spatialReference=e,this._updateNormalizationFactors())}normalizeDistance(e){return e*this._metersPerDistanceUnit}normalizeElevation(e){return e*this._metersPerElevationUnit}normalizeArea(e){return e*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=e(this._spatialReference,1),this._metersPerElevationUnit=e(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}export{t as UnitNormalizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function n(n,r){1===r.viewingMode?n.vertex.code.add(e`vec3 getLocalUp(in vec3 pos, in vec3 origin) {\nreturn normalize(pos + origin);\n}`):n.vertex.code.add(e`vec3 getLocalUp(in vec3 pos, in vec3 origin) {\nreturn vec3(0.0, 0.0, 1.0);\n}`),1===r.viewingMode?n.vertex.code.add(e`mat3 getTBNMatrix(in vec3 n) {\nvec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));\nvec3 b = normalize(cross(n, t));\nreturn mat3(t, b, n);\n}`):n.vertex.code.add(e`mat3 getTBNMatrix(in vec3 n) {\nvec3 t = vec3(1.0, 0.0, 0.0);\nvec3 b = normalize(cross(n, t));\nreturn mat3(t, b, n);\n}`)}export{n as NormalUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{sign as e}from\"../../../../core/mathUtils.js\";import{isSome as r,isNone as t,unwrapOr as n}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as o,castScreenPointArray as s,createScreenPointArray as c}from\"../../../../core/screenUtils.js\";import{g as l,l as a,f as i,d as u,a as p,b as m,c as d}from\"../../../../chunks/vec3.js\";import{c as f}from\"../../../../chunks/vec3f64.js\";import{projectPoint as g}from\"../../../../geometry/projection.js\";import{intersectRay as y,fromPositionAndNormal as S,create as j}from\"../../../../geometry/support/plane.js\";import{create as E}from\"../../../../geometry/support/ray.js\";import{projectPoint as v}from\"../../../../geometry/support/vector.js\";import{sv2d as x}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as b,getGraphicEffectiveElevationInfo as w}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as I}from\"../../support/geometryUtils/ray.js\";import{Intersector as C}from\"../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as H}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";function P(e,r){return k(e,(()=>r))}function h(e){return k(e,(e=>e.plane))}function k(e,n){const c=f(),l=f();let a=!1;return i=>{const u=n(i);if(\"start\"===i.action){const t=o(i.screenStart,s(x.get())),n=I(e.state.camera,t,K);r(n)&&(a=y(u,n,c))}if(!a)return null;const p=o(i.screenEnd,s(x.get())),m=I(e.state.camera,p,K);return t(m)?null:y(u,m,l)?{...i,renderStart:c,renderEnd:l,plane:u,ray:m}:null}}function R(e,n,o,s=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=e.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenStart.x,i.screenStart.y),n,o,l),r(a)&&r(s)&&!g(a,a,s)))return null;if(t(a))return null;const u=e.sceneIntersectionHelper.intersectElevationFromScreen(c(i.screenEnd.x,i.screenEnd.y),n,o,l);return r(u)?r(s)&&!g(u,u,s)?null:{...i,mapStart:a,mapEnd:u}:null}}function M(e,r,t,n=null,o=null){return R(e,t,b(r,e,t),n,o)}function T(e,r,t,n=null,o=null){return M(e,t,w(r),n,o)}function F(e,t,n,o){const s=t.toMap(e.screenStart,{include:[n]});return r(s)?T(t,n,s,o):null}function A(e,r){const t=B,n=J,o=j();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=d(o,t,i(n,r,e.state.camera.eye));return d(s,s,t),S(r,s,o)}function D(e,r,t){let n=null;const o=new U;return o.next(P(e,A(e,r))).next(q(e,r)).next(G(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function q(r,t){const n=f(),o=a(t);r.renderCoordsHelper.worldUpAtPosition(t,n);const s=f(),c=f(),d=s=>{if(i(s,s,t),v(n,s,s),\"global\"===r.viewingMode){a(s)*e(u(n,s))<.001-o&&i(s,p(s,n,.001),t)}return m(s,s,t),s};return e=>(e.renderStart=d(l(s,e.renderStart)),e.renderEnd=d(l(c,e.renderEnd)),e)}function G(e,t){const n=e.renderCoordsHelper;return e=>{const o=n.fromRenderCoords(e.renderStart,t),s=n.fromRenderCoords(e.renderEnd,t);return r(o)&&r(s)?{...e,mapStart:o,mapEnd:s}:null}}function O(e){let t=null;return n=>{switch(n.action){case\"start\":t=e.disableDisplay();break;case\"end\":case\"cancel\":r(t)&&(t.remove(),t=null)}return n}}function z(e,s=null){const l=new C(e.state.viewingMode);l.options.selectionMode=!0,l.options.store=0,l.options.hud=!1;const a=c(),i={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=f(),p=n(s,e.spatialReference),m=r=>{e.map.ground&&e.map.ground.opacity<1?i.exclude.add(H):i.exclude.delete(H),e.sceneIntersectionHelper.intersectIntersectorScreen(o(r,a),l,i);const t=l.results.min;let n;if(t.getIntersectionPoint(u))n=\"TerrainRenderer\"===t.intersector?0:1;else{if(!l.results.ground.getIntersectionPoint(u))return null;n=0}return{location:e.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:n}};let d;return e=>{if(\"start\"===e.action){const t=m(e.screenStart);d=r(t)?t.location:null}if(t(d))return null;const n=m(e.screenEnd);return r(n)&&r(n.location)?{...e,mapStart:d,mapEnd:n.location,surfaceType:n.surfaceType}:null}}const B=f(),J=f(),K=E();export{G as convertToMapCoordinates,O as hideManipulatorWhileDragging,q as projectToWorldUp,z as screenToMap3D,M as screenToMapXYAtLocation,F as screenToMapXYForGraphic,T as screenToMapXYForGraphicAtLocation,P as screenToRenderPlane,h as screenToRenderPlaneFromEvent,D as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function e(e){e.fragment.code.add(o`const float GAMMA = 2.2;\nconst float INV_GAMMA = 0.4545454545;\nvec4 delinearizeGamma(vec4 color) {\nreturn vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);\n}\nvec3 linearizeGamma(vec3 color) {\nreturn pow(color, vec3(GAMMA));\n}`)}export{e as Gamma};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{FoamColor as e}from\"./FoamRendering.glsl.js\";import{Gamma as o}from\"./Gamma.glsl.js\";import{PhysicallyBasedRendering as t}from\"./PhysicallyBasedRendering.glsl.js\";import{ScreenSpaceReflections as i}from\"./ScreenSpaceReflections.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function a(a,n){a.include(t,n),a.include(o),a.include(e),n.ssrEnabled&&a.include(i,n),a.fragment.constants.add(\"fresnelSky\",\"vec3\",[.02,1,15]).add(\"fresnelMaterial\",\"vec2\",[.02,.1]).add(\"roughness\",\"float\",.015).add(\"foamIntensityExternal\",\"float\",1.7).add(\"ssrIntensity\",\"float\",.65).add(\"ssrHeightFadeStart\",\"float\",3e5).add(\"ssrHeightFadeEnd\",\"float\",5e5).add(\"waterDiffusion\",\"float\",.775).add(\"waterSeeColorMod\",\"float\",.8).add(\"correctionViewingPowerFactor\",\"float\",.4).add(\"skyZenitColor\",\"vec3\",[.52,.68,.9]).add(\"skyColor\",\"vec3\",[.67,.79,.9]),a.fragment.code.add(r`PBRShadingWater shadingInfo;\nvec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {\nfloat exponent = pow((1.0 - cosTheta), fresnelSky[2]);\nreturn mix(zenit, horizon, exponent);\n}`),a.fragment.code.add(r`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 positionView) {\nfloat reflectionHit = 0.;\nvec3 seaWaterColor = linearizeGamma(color);\nvec3 h = normalize(l + v);\nshadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);\nshadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);\nshadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);\nshadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);\nshadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);\nshadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);\nfloat upDotV = max(dot(localUp,v), 0.0);\nvec3 skyHorizon = linearizeGamma(skyColor);\nvec3 skyZenit = linearizeGamma(skyZenitColor);\nvec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );\nfloat upDotL = max(dot(localUp,l),0.0);\nfloat daytimeMod = 0.1 + upDotL * 0.9;\nskyColor *= daytimeMod;\nfloat shadowModifier = clamp(shadow, 0.8, 1.0);\nvec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);\nvec3 reflSky = fresnelModifier * skyColor * shadowModifier;\nvec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;\nvec3 specular = vec3(0.0);\nif(upDotV > 0.0 && upDotL > 0.0) {\nvec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);\nvec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;\nspecular = shadingInfo.NdotL * incidentLight * specularSun;\n}\nvec3 foam = vec3(0.0);\nif(upDotV > 0.0) {\nfoam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);\n}`),n.ssrEnabled?a.fragment.code.add(r`vec4 viewPosition = vec4(positionView.xyz, 1.0);\nvec3 viewDir = normalize(viewPosition.xyz);\nvec4 viewNormalVectorCoordinate = ssrViewMat *vec4(n, 0.0);\nvec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);\nvec4 viewUp = ssrViewMat *vec4(localUp, 0.0);\nfloat correctionViewingFactor = pow(max(dot(-viewDir, viewUp.xyz), 0.0), correctionViewingPowerFactor);\nvec3 viewNormalCorrected = mix(viewUp.xyz, viewNormal, correctionViewingFactor);\nvec3 reflected = normalize(reflect(viewDir, viewNormalCorrected));\nvec3 hitCoordinate = screenSpaceIntersection( normalize(reflected), viewPosition.xyz, viewDir, viewUp.xyz);\nvec3 reflectedColor = vec3(0.0);\nif (hitCoordinate.z > 0.0)\n{\nvec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);\nvec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));\nfloat heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -positionView.z);\nreflectionHit = waterDiffusion * clamp(1.0 - (1.3*dCoords.y), 0.0, 1.0) * heightMod;\nreflectedColor = linearizeGamma(texture2D(lastFrameColorMap, reprojectedCoordinate).xyz)* reflectionHit * fresnelModifier.y * ssrIntensity;\n}\nfloat seeColorMod =  mix(waterSeeColorMod, waterSeeColorMod*0.5, reflectionHit);\nreturn tonemapACES((1. - reflectionHit) * reflSky + reflectedColor + reflSea * seeColorMod + specular + foam);\n}`):a.fragment.code.add(r`return tonemapACES(reflSky + reflSea * waterSeeColorMod + specular + foam);\n}`)}export{a as Water};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import{whenFalseOnce as o}from\"../../../core/watchUtils.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{mayHaveHeightModelInfo as r,rejectLayerError as i}from\"../../../geometry/support/heightModelInfoUtils.js\";const p=p=>{let a=class extends p{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(s){super.postscript(s),r(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const s=o(this.view.defaultsFromMap,\"isHeightModelInfoSearching\");this.handles.add(s),await s;const e=i(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(e)throw e}};return s([e()],a.prototype,\"view\",void 0),s([e()],a.prototype,\"slicePlaneEnabled\",void 0),a=s([t(\"esri.views.3d.layers.LayerView3D\")],a),a};export{p as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{createRenderScreenPointArray3 as r,createScreenPointArray as n}from\"../../../../../core/screenUtils.js\";import{i as o,t,s}from\"../../../../../chunks/mat4.js\";import{a as c,f,d as a}from\"../../../../../chunks/vec2.js\";import{s as i,b as u,a as m}from\"../../../../../chunks/vec3.js\";import{c as p}from\"../../../../../chunks/vec3f64.js\";const h=p();function l(r,n){return{...r,...e(n)}}function d(e,r,n,o){for(;e.length<r;)e.push(n());if(o)for(;e.length>r;){o(e.pop())}else e.length=r}function j(e,r,n){o(n),t(n,n,r),i(h,e,e,e),s(n,n,h)}function g(e,r){if(i(r,0,0,0),e.length>0){for(let n=0;n<e.length;++n)u(r,r,e[n]);m(r,r,1/e.length)}}function k(e,r,n,o){o.projectToRenderScreen(e,b),o.projectToRenderScreen(r,H),c(n,U,x),f(n,n)}function R(e,r,n){const o=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,v),o.projectToRenderScreen(v,C),n.state.camera.renderToScreen(C,r)}function S(e,r,n){return R(e,w,n),R(r,y,n),a(w,y)}function T(e,r,n){return R(e,q,n),a(q,r)}const v=p(),C=r(),b=r(),x=b,H=r(),U=H,q=n(),w=n(),y=n();export{l as copyParameter,g as midpoint,S as pointToPointScreenDistance,T as pointToScreenPositionDistance,d as resizeArray,j as scaleTranslateMatrix,k as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{formatDecimal as r,formatMetricLength as t,formatMetricVerticalLength as a,formatMetricArea as n,formatImperialLength as e,formatImperialVerticalLength as i,formatImperialArea as u,formatDMS as o}from\"./unitFormatUtils.js\";function l(t,a,n,e=2,i=\"abbr\"){return r(t,a.toUnit(n).value,n,e,i)}function f(r,a,n=2,e=\"abbr\"){if(\"length\"!==a.measure)throw new Error(\"quantity is not a length\");return t(r,a.value,a.unit,n,e)}function s(r,t,n=2,e=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return a(r,t.value,t.unit,n,e)}function m(r,t,a=2,e=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return n(r,t.value,t.unit,a,e)}function h(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return e(r,t.value,t.unit,a,n)}function b(r,t,a=2,n=\"abbr\"){if(\"length\"!==t.measure)throw new Error(\"quantity is not a length\");return i(r,t.value,t.unit,a,n)}function c(r,t,a=2,n=\"abbr\"){if(\"area\"!==t.measure)throw new Error(\"quantity is not an area\");return u(r,t.value,t.unit,a,n)}function g(r){if(\"angle\"!==r.measure)throw new Error(\"quantity is not an angle\");return o(r.value,r.unit)}export{g as formatDMS,l as formatDecimal,c as formatImperialArea,h as formatImperialLength,b as formatImperialVerticalLength,m as formatMetricArea,f as formatMetricLength,s as formatMetricVerticalLength};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{e,f as t,n as s,g as r,b as i}from\"../../../../../chunks/vec3.js\";import{c as n}from\"../../../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as c,projectVectorToVector as o}from\"../../../../../geometry/projection.js\";import{getSphericalPCPF as p}from\"../../../../../geometry/projectionEllipsoid.js\";import{sv3d as a}from\"../../../../../geometry/support/vectorStacks.js\";import{slerpTangent as h,slerp as d}from\"../../../support/mathUtils.js\";class _{constructor(e=n(),t=n()){this.startRenderSpace=e,this.endRenderSpace=t,this.type=\"euclidean\"}eval(r,i,n){return e(i,this.startRenderSpace,this.endRenderSpace,r),n&&(t(n,this.endRenderSpace,this.startRenderSpace),s(n,n)),i}createRenderGeometry(e,s){const r=[],i=[],n=(s,n)=>{const c=u;t(c,s,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=s.worldUpAtPosition(this.eval(.5,m),a.get());return n(this.startRenderSpace,c),n(this.endRenderSpace,c),{points:r,normals:i}}}class f{constructor(e,t,s){this.startRenderSpace=e,this.endRenderSpace=t,this.renderSpatialReference=s,this.type=\"geodesic\",this._start=n(),this._end=n(),this._pcpf=p(s),this._project=c(s,this._pcpf),this._projectIn(e,this._start),this._projectIn(t,this._end)}_projectIn(e,t){this._project?o(e,this.renderSpatialReference,t,this._pcpf):r(t,e)}eval(r,n,c){if(this._project)if(c){const e=u;h(this._start,this._end,r,n,e),i(R,n,e),o(n,this._pcpf,n,this.renderSpatialReference),o(R,this._pcpf,R,this.renderSpatialReference),t(c,R,n),s(c,c)}else d(this._start,this._end,r,n),o(n,this._pcpf,n,this.renderSpatialReference);else e(n,this._start,this._end,r),c&&(t(c,this._end,this._start),s(c,c));return n}createRenderGeometry(e,s){const r=[],i=[],n=(s,n)=>{const c=R;t(c,s,e),r.push([c[0],c[1],c[2]]),i.push([n[0],n[1],n[2]])},c=128+1&-2;for(let t=0;t<c;++t){const e=t/(c-1),r=m,i=u;this.eval(e,r),s.worldUpAtPosition(r,i),n(r,i)}return{points:r,normals:i}}}function l(e,t,s,r){switch(e){case\"euclidean\":return new _(t,s);case\"geodesic\":return new f(t,s,r)}}const m=n(),u=n(),R=n();export{_ as EuclideanSegment,f as GeodesicSegment,l as createSegment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as r}from\"../../../../core/maybe.js\";function e(e){return r(e)?e:e.slice()}function n(r){return[r,r]}export{e as createStipplePattern,n as createStipplePatternSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as t}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function o(){const o=new t;o.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\").add(\"width\",\"float\"),o.attributes.add(\"position\",\"vec3\"),o.attributes.add(\"normal\",\"vec3\"),o.attributes.add(\"uv0\",\"vec2\"),o.attributes.add(\"auxpos1\",\"float\"),o.varyings.add(\"vtc\",\"vec2\"),o.varyings.add(\"vlength\",\"float\"),o.varyings.add(\"vradius\",\"float\"),o.vertex.code.add(e`void main(void) {\nvec3 bitangent = normal;\nvtc = uv0;\nvlength = auxpos1;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;\n}`),o.fragment.uniforms.add(\"outlineSize\",\"float\").add(\"outlineColor\",\"vec4\").add(\"stripeLength\",\"float\").add(\"stripeEvenColor\",\"vec4\").add(\"stripeOddColor\",\"vec4\");const r=1/Math.sqrt(2);return o.fragment.code.add(e`\n    const float INV_SQRT2 = ${e.float(r)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      } else if (d < outlineSize) {\n        return outlineColor;\n      } else {\n        return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n      }\n    }\n\n    void main(void) {\n      vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n      vec4 color = arrowColor(ntc, vlength / vradius);\n      if (color.a == 0.0) {\n        discard;\n      }\n      gl_FragColor = color;\n    }\n  `),o}var r=Object.freeze({__proto__:null,build:o});export{r as M,o as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{Z as s,O as o}from\"../../../../chunks/vec4f64.js\";const c=1,r=1.2,t=s,a=o;export{r as SUSPEND_RESUME_EXTENT_OPTIMISM,t as TRANSPARENT_UNIT,a as WHITE_UNIT,c as defaultIconElevationOffset};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as E}from\"../../../chunks/tslib.es6.js\";import _ from\"../../../core/Accessor.js\";import{property as I}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";let S=class extends _{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.SCENEVIEW_LOCKING_LOG=!1,this.HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED=!0,this.HIGHLIGHTS_PROFILE_TO_CONSOLE=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_UPDATE_THRESHOLDS=!1,this.DISABLE_DECONFLICTOR_VISIBILITY_OFFSET=!1,this.DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.ENABLE_PROFILE_DEPTH_RANGE=!1,this.DISABLE_FAST_UPDATES=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1}};E([I()],S.prototype,\"SCENEVIEW_HITTEST_RETURN_INTERSECTOR\",void 0),E([I()],S.prototype,\"SCENEVIEW_LOCKING_LOG\",void 0),E([I()],S.prototype,\"HIGHLIGHTS_GRID_OPTIMIZATION_ENABLED\",void 0),E([I()],S.prototype,\"HIGHLIGHTS_PROFILE_TO_CONSOLE\",void 0),E([I()],S.prototype,\"DECONFLICTOR_SHOW_VISIBLE\",void 0),E([I()],S.prototype,\"DECONFLICTOR_SHOW_INVISIBLE\",void 0),E([I()],S.prototype,\"DECONFLICTOR_SHOW_GRID\",void 0),E([I()],S.prototype,\"LABELS_SHOW_BORDER\",void 0),E([I()],S.prototype,\"OVERLAY_DRAW_DEBUG_TEXTURE\",void 0),E([I()],S.prototype,\"OVERLAY_SHOW_CENTER\",void 0),E([I()],S.prototype,\"SHOW_POI\",void 0),E([I()],S.prototype,\"TESTS_DISABLE_UPDATE_THRESHOLDS\",void 0),E([I()],S.prototype,\"DISABLE_DECONFLICTOR_VISIBILITY_OFFSET\",void 0),E([I()],S.prototype,\"DISABLE_ELEVATION_ALIGNERS_ITERATIVE_UPDATES\",void 0),E([I()],S.prototype,\"DRAW_MESH_GEOMETRY_NORMALS\",void 0),E([I()],S.prototype,\"FEATURE_TILE_FETCH_SHOW_TILES\",void 0),E([I()],S.prototype,\"FEATURE_TILE_TREE_SHOW_TILES\",void 0),E([I()],S.prototype,\"TERRAIN_TILE_TREE_SHOW_TILES\",void 0),E([I()],S.prototype,\"I3S_TREE_SHOW_TILES\",void 0),E([I()],S.prototype,\"I3S_SHOW_MODIFICATIONS\",void 0),E([I()],S.prototype,\"ENABLE_PROFILE_DEPTH_RANGE\",void 0),E([I()],S.prototype,\"DISABLE_FAST_UPDATES\",void 0),E([I()],S.prototype,\"LOD_INSTANCE_RENDERER_DISABLE_UPDATES\",void 0),E([I()],S.prototype,\"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL\",void 0),E([I()],S.prototype,\"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES\",void 0),S=E([o(\"esri.views.3d.support.DebugFlags\")],S);const T=new S;export default T;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as n,f as t}from\"../../../../chunks/vec3f64.js\";class r{constructor(n,t){this.vec3=n,this.id=t}}function s(t,s){return new r(n(t),s)}function c(n,s,c,e){return new r(t(n,s,c),e)}export{r as LocalOrigin,c as fromValues,s as fromVector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as e}from\"../../../core/mathUtils.js\";import{s as t}from\"../../../chunks/vec4.js\";import{create as s,offset as r,set as i}from\"../../../geometry/support/aaBoundingRect.js\";import{fromValues as a}from\"../webgl-engine/lib/localOrigin.js\";class n{constructor(e,t){this.index=e,this.renderTargets=t,this.extent=s(),this.resolution=0,this.viewport=s(),this.renderLocalOrigin=a(0,0,0,\"O\"),this.pixelRatio=1,this.canvasGeometries={extents:[s(),s(),s()],numViews:0},this.validTargets=null,this.hasDrapedFeatureSource=!1,this.hasDrapedRasterSource=!1,this.hasTargetWithoutRasterImage=!1,this.index=e,this.validTargets=new Array(t.renderTargets.length).fill(!1)}getValidTarget(e){return this.validTargets[e]?this.renderTargets.getTarget(e):null}get needsColorWithoutRasterImage(){return this.hasDrapedRasterSource&&this.hasDrapedFeatureSource&&this.hasTargetWithoutRasterImage}getColorTexture(e){const t=1===e?this.renderTargets.getTarget(0):2===e?this.renderTargets.getTarget(2):this.renderTargets.getTarget(4);return t?t.getTexture():null}getNormalTexture(e){const t=1===e?this.renderTargets.getTarget(3):null;return t?t.getTexture():null}draw(e,t){const s=this.computeRenderTargetValidityBitfield(),r=this.needsColorWithoutRasterImage;for(const i of this.renderTargets.renderTargets)1===i.type&&!1===r?this.validTargets[i.type]=!1:this.validTargets[i.type]=e.drawTarget(this,i,t);return s^this.computeRenderTargetValidityBitfield()?0:1}computeRenderTargetValidityBitfield(){const e=this.validTargets;return+e[0]|+e[1]<<1|+e[2]<<2|+e[3]<<3|+e[4]<<4}setupGeometryViewsCyclical(e){this.setupGeometryViewsDirect();const t=.001*e.range;if(this.extent[0]-t<=e.min){const t=this.canvasGeometries.extents[this.canvasGeometries.numViews++];r(this.extent,e.range,0,t)}if(this.extent[2]+t>=e.max){const t=this.canvasGeometries.extents[this.canvasGeometries.numViews++];r(this.extent,-e.range,0,t)}}setupGeometryViewsDirect(){this.canvasGeometries.numViews=1,i(this.canvasGeometries.extents[0],this.extent),t(this.viewport,0,0,this.resolution,this.resolution)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}applyViewport(e){const t=this.viewport;0===this.index?e.setViewport(t[0],t[1],t[2],t[3]):e.setViewport(t[0]+this.resolution,t[1],t[2],t[3])}}function o(t,s,r){return Math.min(e(Math.max(t,s)+256),r)}export{n as Overlay,o as computeOverlayResolution};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e}from\"../../../core/maybe.js\";import{c as t}from\"../../../chunks/vec2f32.js\";import\"../../webgl/BufferObject.js\";import r from\"../../webgl/FramebufferObject.js\";import\"../../../core/has.js\";import\"../../webgl/enums.js\";import\"../../webgl/RenderingContext.js\";import\"../../../chunks/builtins.js\";import\"../../webgl/Texture.js\";import\"../../webgl/VertexArrayObject.js\";class i{constructor(e,i){this.size=t(),this._fbo=null,this._fbo=new r(e,{colorTarget:0,depthStencilTarget:0},{target:3553,pixelFormat:6408,dataType:5121,wrapMode:33071,samplingMode:9987,hasMipmap:i,maxAnisotropy:8,width:0,height:0})}dispose(){this._fbo=e(this._fbo)}getTexture(){return this._fbo?this._fbo.colorTexture:null}isValid(){return null!==this._fbo}resize(e,t){this.size[0]=e,this.size[1]=t,this._fbo.resize(this.size[0],this.size[1])}bind(e){e.bindFramebuffer(this._fbo)}generateMipMap(){this._fbo.colorTexture.descriptor.hasMipmap&&this._fbo.colorTexture.generateMipmap()}disposeRenderTargetMemory(){var e;null==(e=this._fbo)||e.resize(0,0)}get gpuMemoryUsage(){var e,t;return null!=(e=null==(t=this._fbo)?void 0:t.gpuMemoryUsage)?e:0}}export{i as OverlayFramebufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{OverlayFramebufferObject as e}from\"./OverlayFramebufferObject.js\";class r{constructor(r){this.renderTargets=null;const s=(s,t,o=!0)=>({type:t,fbo:new e(r,o),renderPass:s,valid:!1,lastUsed:1/0});this.renderTargets=[s(0,0),s(0,1),s(5,2,!1),s(3,3),s(0,4)]}getTarget(e){return this.renderTargets[e].fbo}dispose(){for(const e of this.renderTargets)e.fbo.dispose()}disposeRenderTargetMemory(){for(const e of this.renderTargets)e.fbo.disposeRenderTargetMemory()}validateUsageForTarget(e,r,t){if(e)r.lastUsed=t;else if(t-r.lastUsed>s)r.fbo.disposeRenderTargetMemory(),r.lastUsed=1/0;else if(r.lastUsed<1/0)return!0;return!1}get gpuMemoryUsage(){return this.renderTargets.reduce(((e,r)=>e+r.fbo.gpuMemoryUsage),0)}}const s=1e3;export{r as OverlayRenderTarget};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../../core/maybe.js\";class r{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}class s{constructor(e){this._context=e,this._perConstructorInstances=new Map,this._frameCounter=0,this._keepAliveFrameCount=1200}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}dispose(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.dispose())))),this._perConstructorInstances.clear()}acquire(e,t){const s=t.key;let n=this._perConstructorInstances.get(e);n||(n=new Map,this._perConstructorInstances.set(e,n));let o=n.get(s);if(void 0===o){const c=new e(this._context,t,(()=>this.release(c)));o=new r(c),n.set(s,o)}return++o.refCount,o.technique}releaseAndAcquire(t,r,s){if(e(s)){if(r.key===s.key)return s;s.release()}return this.acquire(t,r)}release(e){if(t(e))return;const r=this._perConstructorInstances.get(e.constructor).get(e.key);--r.refCount,0===r.refCount&&(r.refZeroFrame=this._frameCounter)}frameUpdate(){this._frameCounter++,this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((t,r)=>{0===t.refCount&&t.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(t.technique.dispose(),e.delete(r))})),0===e.size&&this._perConstructorInstances.delete(t)}))}async hotReload(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{const s=async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>{e.technique.reload(this._context)})))};e.push(s(t,r))})),await Promise.all(e)}}export{s as ShaderTechniqueRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nconst t=[{output:0,name:\"color\"},{output:1,name:\"depth\"},{output:2,name:\"normal\"},{output:3,name:\"depthShadowMap\"},{output:4,name:\"highlight\"},{output:5,name:\"draped\"},{output:6,name:\"occlusion\"},{output:7,name:\"alpha\"}];function u(u,o){return u+\"_\"+t.find((t=>t.output===o)).name}export{t as ShaderOutputTypes,u as getShaderOutputID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isSome as t}from\"../../../../core/maybe.js\";import{getShaderOutputID as i,ShaderOutputTypes as r}from\"../core/shaderLibrary/ShaderOutputOptions.js\";import{assert as a}from\"./Util.js\";const s=e.getLogger(\"esri.views.3d.webgl-engine.lib.GLMaterialRep\");class o{constructor(e){this.refCnt=0,this.glMaterial=e}incRefCnt(){++this.refCnt}decRefCnt(){--this.refCnt,a(this.refCnt>=0)}getRefCnt(){return this.refCnt}getGLMaterial(){return this.glMaterial}}class n{constructor(e,t,i){this._textureRep=e,this._techniqueRep=t,this.onMaterialChanged=i,this._id2glMaterialRef=new Map}dispose(){this._textureRep.dispose()}acquire(e,t){this.ownMaterial(e);const r=i(e.id,t);let a=this._id2glMaterialRef.get(r);if(null==a){const i=e.getGLMaterial({material:e,techniqueRep:this._techniqueRep,textureRep:this._textureRep,output:t});return a=new o(i),a.incRefCnt(),this._id2glMaterialRef.set(r,a),i}return a.incRefCnt(),a.getGLMaterial()}release(e,t){const r=i(e.id,t),a=this._id2glMaterialRef.get(r);if(a.decRefCnt(),0===a.getRefCnt()){const e=a.getGLMaterial();e&&e.dispose(),this._id2glMaterialRef.delete(r)}}materialChanged(e){for(const t of r)if(5!==t.output&&6!==t.output){const r=this._id2glMaterialRef.get(i(e.id,t.output));if(r&&r.getGLMaterial()){const e=r.getGLMaterial();e.updateParameters&&e.updateParameters()}}this.onMaterialChanged&&this.onMaterialChanged(e)}ownMaterial(e){t(e.materialRepository)&&e.materialRepository!==this&&s.error(\"Material is already owned by a different material repository\"),e.materialRepository=this}}export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../../../../core/maybe.js\";import{I as i}from\"../../../../chunks/mat4f64.js\";import{f as s}from\"../../../../chunks/vec3.js\";import{c as r}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as e}from\"../../../../geometry/projection.js\";import{Geometry as o}from\"./Geometry.js\";import{fromValues as n}from\"./localOrigin.js\";import{Object3D as a}from\"./Object3D.js\";import{WebGLLayer as h}from\"./WebGLLayer.js\";import{RibbonLineMaterial as c}from\"../materials/RibbonLineMaterial.js\";let _=0;const m=\"rg_\";class d{constructor(t){this._originSR=t,this.ROOT_ORIGIN_ID=m+\"root_\"+_++,this._origins=new Map,this._gridSize=125e4,this._objects=new Map}getOrigin(i){const r=this._origins.get(this.ROOT_ORIGIN_ID);if(null==r){if(t(g))return this._origins.set(this.ROOT_ORIGIN_ID,n(g[0],g[1],g[2],this.ROOT_ORIGIN_ID)),this.getOrigin(i);const s=n(i[0]+Math.random()-.5,i[1]+Math.random()-.5,i[2]+Math.random()-.5,this.ROOT_ORIGIN_ID);return this._origins.set(this.ROOT_ORIGIN_ID,s),s}const e=this._gridSize,o=Math.round(i[0]/e),a=Math.round(i[1]/e),h=Math.round(i[2]/e),c=`${m}${o}/${a}/${h}`;let _=this._origins.get(c);const d=.5*e;if(s(f,i,r.vec3),f[0]=Math.abs(f[0]),f[1]=Math.abs(f[1]),f[2]=Math.abs(f[2]),f[0]<d&&f[1]<d&&f[2]<d){if(_){const t=Math.max(...f);s(f,i,_.vec3),f[0]=Math.abs(f[0]),f[1]=Math.abs(f[1]),f[2]=Math.abs(f[2]);if(Math.max(...f)<t)return _}return r}return _||(_=n(o*e,a*e,h*e,c),this._origins.set(c,_)),_}_drawOriginBox(t,s=[1,1,0,1]){const r=window.view,n=r._stage,_=s.toString();if(!this._objects.has(_)){this._material=new c({width:2,color:s}),n.add(this._material);const t=new h({isPickable:!1}),i=new a({castShadow:!1});n.add(i),t.add(i),n.add(t),this._objects.set(_,i)}const m=this._objects.get(_),d=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],g=d.length,O=new Array(3*g),f=new Uint16Array(2*(g-1)),l=.5*this._gridSize;for(let i=0;i<g;i++)O[3*i+0]=t[0]+(1&d[i]?l:-l),O[3*i+1]=t[1]+(2&d[i]?l:-l),O[3*i+2]=t[2]+(4&d[i]?l:-l),i>0&&(f[2*i+0]=i-1,f[2*i+1]=i);e(O,this._originSR,0,O,r.renderSpatialReference,0,g);const I=new o([[\"position\",{size:3,data:O,exclusive:!0}]],[[\"position\",f]],2);n.add(I),m.addGeometry(I,this._material,i)}get test(){const t=this;return{get gridSize(){return t._gridSize},set gridSize(i){t._gridSize=i}}}}let g=null;function O(t){g=t}const f=r();export{d as GridLocalOriginFactory,O as setTestRootOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport s from\"./Camera.js\";class e{constructor(e){this.rctx=e,this.camera=null,this.lastFrameCamera=new s,this.pass=0,this.slot=0,this.highlightDepthTexture=null,this.renderOccludedMask=r,this.hasOccludees=!1}resetRenderOccludedMask(){this.renderOccludedMask=r}get isHighlightPass(){return 5===this.pass}}class t extends e{constructor(s,e,t,r,i,h){super(s),this.offscreenRenderingHelper=e,this.scenelightingData=t,this.shadowMap=r,this.ssaoHelper=i,this.sliceHelper=h}}const r=13;export{e as OverlayRenderContext,t as RenderContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/PooledArray.js\";class r{constructor(){this.adds=new e,this.removes=new e,this.updates=new e({allocator:e=>e||new s,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}}class s{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}export{r as ChangeSet,t as MaterialChangeSet,s as RenderGeometryUpdate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{MaterialChangeSet as e}from\"./ChangeSet.js\";function r(r){const n=new Map,a=r=>{let t=n.get(r);return t||(t=new e,n.set(r,t)),t};return r.adds.forAll((e=>{t(e)&&a(e.material).adds.push(e)})),r.removes.forAll((e=>{t(e)&&a(e.material).removes.push(e)})),r.updates.forAll((e=>{t(e.renderGeometry)&&a(e.renderGeometry.material).updates.push(e)})),n}function t(e){return e.data.indexCount>=1}export{r as splitRenderGeometryChangeSetByMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{nextHighestPowerOfTwo as r}from\"../../../../core/mathUtils.js\";class t{constructor(t){null==t?t=16:t<65536&&(t=r(t)),this._array=new Float32Array(t),this._size=0}resize(r,t){if(this._size=r,this._size>this._array.length){let r=this._array.length||1;for(;r<this._size;)r*=2;const s=new Float32Array(r);return t&&s.set(this._array),this._array=s,!0}const s=2*this._size;if(s<=this._array.length){let r=this._array.length;for(;r>=s;)r=Math.floor(r/2);const a=new Float32Array(r);return t&&a.set(this._array.subarray(0,r)),this._array=a,!0}return!1}append(r){const t=this._size;this.resize(this._size+r.length,!0),this._array.set(r,t)}erase(r,t){for(let s=r;s<t;++s)this._array[s]=0}get array(){return this._array}get size(){return this._size}}export{t as ResizableFloat32Array};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindOutputHighlight as e}from\"../core/shaderLibrary/output/OutputHighlight.glsl.js\";import{bindMultipassTerrainTexture as i}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindReadShadowMapUniforms as o}from\"../core/shaderLibrary/shading/ReadShadowMap.glsl.js\";import{bindSSRUniforms as s}from\"../core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js\";import{bindWaterDistortionUniforms as a}from\"../core/shaderLibrary/shading/WaterDistortion.glsl.js\";import{bindProjectionMatrix as n,bindView as p,bindCameraPosition as u}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as h}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as d,parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as m}from\"../lib/DefaultVertexAttributeLocations.js\";import{blendingDefault as g,OITBlending as f,OITDepthTest as b,OITDepthWrite as y,getOITPolygonOffset as v}from\"../lib/OrderIndependentTransparency.js\";import{Program as T}from\"../lib/Program.js\";import{W as S}from\"../../../../chunks/WaterSurface.glsl.js\";import{makePipelineState as w,defaultDepthWriteParams as j,defaultColorWriteParams as x}from\"../../../webgl/renderState.js\";class P extends l{constructor(r,t,e){super(r,t,e),this._textureRepository=r.waterTextureRepository}initializeProgram(r){const t=P.shader.get(),e=this.configuration,i=t.build({OITEnabled:0===e.transparencyPassType,output:e.output,viewingMode:r.viewingMode,slicePlaneEnabled:e.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,receiveShadows:e.receiveShadows,pbrMode:3,useCustomDTRExponentForWater:!0,ssrEnabled:e.useSSR,highStepCount:!0,multipassTerrainEnabled:e.multipassTerrainEnabled,cullAboveGround:e.cullAboveGround});return new T(r.rctx,i,m)}ensureResource(r){return this._textureRepository.ready||this._textureRepository.updating||this._textureRepository.loadTextures(r),this._textureRepository.ready?2:1}bindPass(r,t){n(this.program,t.camera.projectionMatrix),t.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",t.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",t.inverseViewport),i(this.program,t)),0===this.configuration.output&&(t.lighting.setUniforms(this.program,!1),s(this.program,t)),0!==this.configuration.output&&2!==this.configuration.output||(a(this.program,r),this._textureRepository.bind(this.program)),this.program.setUniform4fv(\"waterColor\",r.color),4===this.configuration.output&&e(this.program,t)}bindDraw(r){p(this.program,r),this.program.rebindTextures(),0!==this.configuration.output&&7!==this.configuration.output||u(this.program,r.origin,r.camera.viewInverseTransposeMatrix),0===this.configuration.output&&o(this.program,r),0!==this.configuration.output&&7!==this.configuration.output&&4!==this.configuration.output||t(this.program,this.configuration,r)}setPipelineState(r){const t=this.configuration,e=3===r,i=2===r;return w({blending:2!==t.output&&4!==t.output&&t.transparent?e?g:f(r):null,depthTest:{func:b(r)},depthWrite:e?t.writeDepth&&j:y(r),colorWrite:x,polygonOffset:e||i?null:v(t.enableOffset)})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}P.shader=new h(S,(()=>import(\"../shaders/WaterSurface.glsl.js\")));class R extends d{constructor(){super(...arguments),this.output=0,this.receiveShadows=!1,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.useSSR=!1,this.isDraped=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}r([c({count:8})],R.prototype,\"output\",void 0),r([c()],R.prototype,\"receiveShadows\",void 0),r([c()],R.prototype,\"slicePlaneEnabled\",void 0),r([c()],R.prototype,\"transparent\",void 0),r([c()],R.prototype,\"enableOffset\",void 0),r([c()],R.prototype,\"writeDepth\",void 0),r([c()],R.prototype,\"useSSR\",void 0),r([c()],R.prototype,\"isDraped\",void 0),r([c({count:4})],R.prototype,\"transparencyPassType\",void 0),r([c()],R.prototype,\"multipassTerrainEnabled\",void 0),r([c()],R.prototype,\"cullAboveGround\",void 0);export{P as WaterTechnique,R as WaterTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../lib/GLMaterial.js\";import{WaterTechnique as t}from\"./WaterTechnique.js\";class a extends e{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(t,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(2===this._output)return 22===e;if(5===this._output)return null==e;if(4===this._output)return 3===e;let t=3;return this._material.params.transparent&&(t=this._material.params.writeDepth?5:8),e===t}setElapsedTimeUniform(e){const t=.001*this._material.animation.time;e.setUniform1f(\"timeElapsed\",t*this._material.params.animationSpeed)}_updateShadowState(e){e.shadowMappingEnabled!==this._material.params.receiveShadows&&this._material.setParameterValues({receiveShadows:e.shadowMappingEnabled})}_updateSSRState(e){e.ssrEnabled!==this._material.params.ssrEnabled&&this._material.setParameterValues({ssrEnabled:e.ssrEnabled})}ensureResources(e){return this._technique.ensureResource(e)}ensureParameters(e){0===this._output&&(this._updateShadowState(e),this._updateSSRState(e)),this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.params,e),2!==this._output&&0!==this._output||this.setElapsedTimeUniform(this._technique.program)}}export{a as WaterGLMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{a as t,e as o}from\"../../../../../chunks/mat4.js\";import{b as r}from\"../../../../../chunks/mat4f64.js\";class s{constructor(s,i,n,f,m,a){this.from=s,this.to=i,this.isVisible=n,this.hasHighlights=f,this.hasOccludees=m,this.transformation=a,null!=a&&(this.transformationNormal=r(a),t(this.transformationNormal,this.transformationNormal),o(this.transformationNormal,this.transformationNormal))}}function i(t){return t.sort(((t,o)=>t.from===o.from?t.to>o.to?1:t.to<o.to?-1:0:t.from>o.from?1:t.from<o.from?-1:0))}function n(t,o){return t.first+t.count>=o.from}function f(t,o){const r=t=>({first:t.from,count:t.to-t.from});if(0===t.length)return void t.push(r(o));const s=t[t.length-1];if(n(s,o)){const t=o.from-s.first+o.to-o.from;s.count=t}else t.push(r(o))}export{s as Instance,f as addOrMerge,i as sortInstancesAccordingToRange};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import t from\"../../../../core/PerformanceSampler.js\";import{once as s}from\"../../../../core/accessorSupport/utils.js\";import{startMeasurement as r}from\"../../../webgl/Measurement.js\";const i=[\"prepare\",\"shadowmap\",\"lineardepth\",\"normals\",\"ssao\",\"opaque\",\"opaque edges\",\"transparent\",\"transparent edges\",\"hudvisibility\",\"transparent terrain\",\"atmosphere\",\"laserline\",\"occluded\",\"antialiasing\",\"highlights\",\"hudOccluded\",\"hudNotoccluded\"];class a{constructor(){this.triangles=0,this.drawCalls=0}reset(){this.triangles=0,this.drawCalls=0}}function o(t,s,r){e(r)&&(r.drawCalls+=t,r.triangles+=s)}class n extends t{constructor(){super(\"total\"),this.total=0,this.frameCount=0}}class l{constructor(){this._startTime=0,this._lastSample=0,this._enableGPUTimer=0,this.totalTime=new n,this.gpuTime=new t(\"gpu\",9),this.renderPassTimings=i.map((e=>new t(e))),this.stats=new a}enableGPUTimer(){return++this._enableGPUTimer,{remove:s((()=>--this._enableGPUTimer))}}prerender(e){this._startTime=this._lastSample=performance.now(),this._enableGPUTimer&&(this._gpuTimer=r(e))}advance(e){const t=performance.now();this.renderPassTimings[e].record(t-this._lastSample),this._lastSample=t}postrender(){e(this._gpuTimer)&&(this._gpuTimer.stop((t=>e(t)&&this.gpuTime.record(t)),16),this._gpuTimer=null);const t=performance.now()-this._startTime;this.totalTime.record(t),this.totalTime.total+=t,this.totalTime.frameCount++}}export{a as RenderStats,n as RenderTime,l as RendererPerformanceInfo,o as addToRenderStats,i as performanceStatsCategories};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{someMap as e}from\"../../../../../core/MapUtils.js\";import{isNone as t,isSome as s}from\"../../../../../core/maybe.js\";import{m as a,a as i,e as r}from\"../../../../../chunks/mat4.js\";import{c as n}from\"../../../../../chunks/mat4f64.js\";import{glLayout as o}from\"../../../support/buffer/glUtil.js\";import{ResizableFloat32Array as d}from\"../../lib/ResizableFloat32Array.js\";import{assert as l,setMatrixTranslation3 as h}from\"../../lib/Util.js\";import{WaterGLMaterial as m}from\"../WaterGLMaterial.js\";import{Instance as c,sortInstancesAccordingToRange as u,addOrMerge as g}from\"./Instance.js\";import{acquireMaterials as f,releaseMaterials as p,calculateTransformRelativeToOrigin as w}from\"./utils.js\";import{addToRenderStats as b}from\"../../statistics/RendererPerformanceInfo.js\";import C from\"../../../../webgl/BufferObject.js\";import{getStride as y}from\"../../../../webgl/Util.js\";import _ from\"../../../../webgl/VertexArrayObject.js\";class v{constructor(e,t,s){this.type=\"MergedRenderer\",this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this._rctx=e,this._material=s,this._materialRep=t,this._glMaterials=f(this._material,this._materialRep),this._bufferWriter=s.createBufferWriter()}dispose(){p(this._material,this._materialRep),this._dataByOrigin&&(this._dataByOrigin.forEach((e=>{e.vao.dispose(!0),e.vao=null})),this._dataByOrigin.clear(),this._dataByOrigin=null),this._glMaterials&&(this._glMaterials.forEach((e=>{e&&e.dispose()})),this._glMaterials.clear(),this._glMaterials=null)}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&e(this._glMaterials,(e=>e instanceof m))}get rendersOccluded(){return!this.isEmpty&&1!==this._material.renderOccluded}modify(e){this.updateGeometries(e.updates),this.addAndRemoveGeometries(e.adds,e.removes),this.updateRenderCommands()}addAndRemoveGeometries(e,t){const s=this._bufferWriter,a=s.vertexBufferLayout,i=a.stride/4,r=this._dataByOrigin,n=H(r,s,e,t);n.forEach(((e,t)=>{n.delete(t);const s=e.optimalCount,o=e.sparseCount;let d=r.get(t);if(null==d)l(s>0),d=this.createData(a,s,e.origin),r.set(t,d);else if(0===s)return d.vao.dispose(!0),d.vao=null,void r.delete(t);const m=s<e.sparseCount/2,c=m?s:o,u=R,g=d.buffer.size,f=d.buffer.array,p=d.buffer.resize(c,!1);m||p?this.removeAndRebuild(d,e.toRemove,i,f,u):e.toRemove.length>0?(this.removeByErasing(d,e.toRemove,i,u),e.toAdd.length>0&&(u.end=g)):(u.begin=g,u.end=g);const w=B;h(w,-e.origin[0],-e.origin[1],-e.origin[2]),this.append(d,e.toAdd,i,w,u);const b=d.vao.vertexBuffers.geometry;if(b.byteSize!==d.buffer.array.buffer.byteLength)b.setData(d.buffer.array);else{const{begin:e,end:t}=u;if(e<t){const s=d.buffer.array,a=4,i=e*a,r=t*a;b.setSubData(s,i,i,r)}}d.drawCommandsDirty=!0}))}updateGeometries(e){const t=this._bufferWriter,s=t.vertexBufferLayout.stride/4;for(const a of e){const e=a.updateType,i=a.renderGeometry,r=this._dataByOrigin.get(i.origin.id),n=r&&r.instances.get(i.id);if(!n)return;if(1&e&&(n.isVisible=i.instanceParameters.visible),9&e){const e=i.instanceParameters.visible;n.hasHighlights=!!i.instanceParameters.highlights&&e}if(16&e&&(n.hasOccludees=!!i.instanceParameters.occludees),6&e){const e=r.buffer.array,a=r.vao;w(i,D,j),t.write({transformation:D,invTranspTransformation:j},i.data,t.vertexBufferLayout.createView(e.buffer),n.from),l(n.from+t.elementCount(i.data)===n.to,\"material VBO layout has changed\"),a.vertexBuffers.geometry.setSubData(e,n.from*s*4,n.from*s*4,n.to*s*4)}r.drawCommandsDirty=!0}}updateRenderCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((t=>{t.hasHiddenInstances=!1,t.hasHighlights=!1,t.hasOccludees=!1,e(t.instances,(e=>(e.isVisible?(e.hasHighlights&&(this._hasHighlights=!0,t.hasHighlights=!0),e.hasOccludees&&(this._hasOccludees=!0,t.hasOccludees=!0)):t.hasHiddenInstances=!0,t.hasHiddenInstances&&t.hasHighlights&&t.hasOccludees)))}));const t=e=>{if(e.drawCommandsDefault=null,e.drawCommandsHighlight=null,e.drawCommandsOccludees=null,e.drawCommandsShadowHighlightRest=null,e.stats={default:0,highlight:0,occludees:0,shadowHighlightRest:0},0===e.instances.size)return;if(!O(e)){const t=4*e.buffer.size/y(e.vao.layout.geometry);return e.drawCommandsDefault=[{first:0,count:t}],void(e.stats={default:t,highlight:0,occludees:0,shadowHighlightRest:0})}const t=u([...e.instances.values()]);e.drawCommandsDefault=[],e.drawCommandsHighlight=[],e.drawCommandsOccludees=[],e.drawCommandsShadowHighlightRest=[];for(const a of t)a.isVisible&&(a.hasOccludees?g(e.drawCommandsOccludees,a):g(e.drawCommandsDefault,a),a.hasHighlights?g(e.drawCommandsHighlight,a):g(e.drawCommandsShadowHighlightRest,a));const s=e=>{let t=0;for(const s of e)t+=s.count;return t/3};e.stats={default:s(e.drawCommandsDefault),highlight:s(e.drawCommandsHighlight),occludees:s(e.drawCommandsOccludees),shadowHighlightRest:s(e.drawCommandsShadowHighlightRest)}};this._dataByOrigin.forEach((e=>{e.drawCommandsDirty&&(t(e),e.drawCommandsDirty=!1)}))}updateLogic(e){return this._material.update(e)}render(e,a,i,r){const n=this._rctx,o=this._glMaterials.get(a),d=5===a||7===a,l=6===a,h=!(d||l);if(3===a&&null===e&&(e=22),!o||2!==o.ensureResources(n)||null!=e&&!o.beginSlot(e)||d&&!this._hasHighlights)return!1;o.ensureParameters(i);const m=o.getPipelineState(e,!1);n.setPipelineState(m);const c=o.technique;n.useProgram(c.program),o.bind(i);let u=!1;return this._dataByOrigin.forEach((a=>{if(t(a.drawCommandsDefault)&&t(a.drawCommandsHighlight)&&t(a.drawCommandsOccludees)&&t(a.drawCommandsShadowHighlightRest))return;if(d&&!a.hasHighlights)return;i.origin=a.origin,c.bindDraw(i,{},{}),c.ensureAttributeLocations(a.vao),n.bindVAO(a.vao);const g=c.primitiveType,f=d?a.drawCommandsHighlight:l&&O(a)?a.drawCommandsShadowHighlightRest:a.drawCommandsDefault;if(s(f)){this.renderCommands(n,g,f);const e=d?a.stats.highlight:l&&O(a)?a.stats.shadowHighlightRest:a.stats.default;b(f.length,e,r),u=!0}if(h){const t=a.drawCommandsOccludees;if(s(t)){const s=o.getPipelineState(e,!0);n.setPipelineState(s),this.renderCommands(n,g,t),n.setPipelineState(m),b(t.length,a.stats.occludees,r),u=!0}}})),u}renderCommands(e,t,s){for(let a=0;a<s.length;a++)e.drawArrays(t,s[a].first,s[a].count)}createData(e,t,s){return{instances:new Map,vao:new _(this._rctx,this._material.vertexAttributeLocations,{geometry:o(e)},{geometry:C.createVertex(this._rctx,35044)}),buffer:new d(t),optimalCount:0,origin:s,hasHiddenInstances:!1,hasHighlights:!1,hasOccludees:!1,drawCommandsDirty:!1,drawCommandsDefault:null,drawCommandsOccludees:null,drawCommandsHighlight:null,drawCommandsShadowHighlightRest:null,stats:{default:0,highlight:0,occludees:0,shadowHighlightRest:0}}}removeAndRebuild(e,t,s,a,i){for(const h of t){const t=h.id,a=e.instances.get(t);e.optimalCount-=(a.to-a.from)*s,e.instances.delete(t)}let r=0;const n=e.buffer.array;i.begin=0,i.end=0;let o=-1,d=-1,l=0;e.instances.forEach((e=>{const t=e.from*s,i=e.to*s,h=i-t;o!==d&&d!==t?(n.set(a.subarray(o,d),l),l+=d-o,o=t):-1===o&&(o=t),d=i,e.from=r/s,r+=h,e.to=r/s})),o!==d&&n.set(a.subarray(o,d),l),i.end=r}removeByErasing(e,t,s,a){a.begin=1/0,a.end=-1/0;let i=-1,r=-1;for(const n of t){const t=n.id,o=e.instances.get(t),d=o.from*s,l=o.to*s;i!==r&&r!==d?(e.buffer.erase(i,r),i=d):-1===i&&(i=d),r=l,e.instances.delete(t),e.optimalCount-=l-d,d<a.begin&&(a.begin=d),l>a.end&&(a.end=l)}i!==r&&e.buffer.erase(i,r)}append(e,t,n,o,d){const h=this._bufferWriter;for(const m of t){const t=s(m.transformation)?a(D,o,m.transformation):o;i(j,t),r(j,j);const u=d.end;h.write({transformation:t,invTranspTransformation:j},m.data,h.vertexBufferLayout.createView(e.buffer.array.buffer),d.end/n);const g=h.elementCount(m.data)*n,f=u+g;l(null==e.instances.get(m.id));const p=m.instanceParameters.visible,w=!!m.instanceParameters.highlights&&p,b=!!m.instanceParameters.occludees,C=new c(u/n,f/n,p,w,b);e.instances.set(m.id,C),e.optimalCount+=g,d.end+=g}}get test(){return{material:this._material,glMaterials:this._glMaterials}}}function H(e,s,a,i){const r=new Map,n=s.vertexBufferLayout.stride/4,o=(a,i)=>{const o=a.origin;if(t(o))return;const d=e.get(o.id);let l=r.get(o.id);null==l&&(l={optimalCount:null==d?0:d.optimalCount,sparseCount:null==d?0:d.buffer.size,toAdd:[],toRemove:[],origin:o.vec3},r.set(o.id,l));const h=s.elementCount(a.data)*n;i?(l.optimalCount+=h,l.sparseCount+=h,l.toAdd.push(a)):(l.optimalCount-=h,l.toRemove.push(a))};for(const t of a)o(t,!0);for(const t of i)o(t,!1);return r}function O(e){return e.hasOccludees||e.hasHighlights||e.hasHiddenInstances}const R={begin:0,end:0},B=n(),D=n(),j=n();export default v;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{someMap as t}from\"../../../../core/MapUtils.js\";import{applySome as s}from\"../../../../core/maybe.js\";import i from\"../../../../core/PooledArray.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/Logger.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ChangeSet as d}from\"./ChangeSet.js\";import{materialPredicate as h}from\"./Material.js\";import{splitRenderGeometryChangeSetByMaterial as o}from\"./rendererUtils.js\";import l from\"../materials/renderers/MergedRenderer.js\";let p=class extends r{constructor(){super(...arguments),this._pending=new m,this._changes=new d,this._materialRenderers=new Map,this._sortedMaterialRenderers=new i,this._hasHighlights=!1,this._hasWater=!1}dispose(){this._changes.prune(),this._materialRenderers.forEach((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear()}get updating(){return!this._pending.empty||this._changes.updates.length>0}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return t(this._materialRenderers,(e=>e.rendersOccluded))}stopAnimationsAtTime(e){this._sortedMaterialRenderers.forAll((r=>s(r.material.animation,(r=>r.stopAtTime(e)))))}get isEmpty(){return!this.updating&&0===this._materialRenderers.size}commitChanges(){if(!this.updating)return!1;this._processAddsRemoves();const e=o(this._changes);let r=!1,s=!1,i=!1;return e.forEach(((e,t)=>{let a=this._materialRenderers.get(t);if(!a&&e.adds.length>0&&(a=new l(this.rctx,this.materialRepository,t),this._materialRenderers.set(t,a),r=!0,s=!0,i=!0),!a)return;const n=s||a.hasHighlights,d=i||a.hasWater;a.modify(e),s=s||n!==a.hasHighlights,i=i||d!==a.hasWater,a.isEmpty&&(this._materialRenderers.delete(t),a.dispose(),r=!0)})),this._changes.clear(),r&&this.updateSortedMaterialRenderers(),s&&(this._hasHighlights=t(this._materialRenderers,(e=>e.hasHighlights))),i&&(this._hasWater=t(this._materialRenderers,(e=>e.hasWater))),this.notifyChange(\"updating\"),!0}add(e){if(0===e.length)return;const r=this._pending.empty;for(const t of e)this._pending.adds.add(t);r&&this.notifyChange(\"updating\")}remove(e){const r=this._pending.empty;for(const t of e)this._pending.adds.has(t)?(this._pending.removed.add(t),this._pending.adds.delete(t)):this._pending.removed.has(t)||this._pending.removes.add(t);r&&!this._pending.empty&&this.notifyChange(\"updating\")}modify(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=s,e.updateType=r}t&&this._changes.updates.length>0&&this.notifyChange(\"updating\")}updateLogic(e){let r=!1;return this._sortedMaterialRenderers.forAll((({materialRenderer:t})=>{t.updateLogic&&t.updateLogic(e)&&(r=!0)})),r}render(e,r){for(let t=0;t<this._sortedMaterialRenderers.length;t++){const s=this._sortedMaterialRenderers.data[t];h(s.material,e)&&s.materialRenderer.render(null,e.pass,r,null)}}updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear();let e=0;this._materialRenderers.forEach(((r,t)=>{t.insertOrder=e++,this._sortedMaterialRenderers.push({material:t,materialRenderer:r})})),this._sortedMaterialRenderers.sort(((e,r)=>{const t=r.material.renderPriority-e.material.renderPriority;return 0!==t?t:e.material.insertOrder-r.material.insertOrder}))}_processAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._changes.adds.pushArray(Array.from(this._pending.adds)),this._changes.removes.pushArray(Array.from(this._pending.removes));for(let e=0;e<this._changes.updates.length;){const r=this._changes.updates.data[e];this._pending.has(r.renderGeometry)?this._changes.updates.removeUnorderedIndex(e):e++}this._pending.clear()}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};e([a()],p.prototype,\"rctx\",void 0),e([a()],p.prototype,\"materialRepository\",void 0),e([a()],p.prototype,\"updating\",null),p=e([n(\"esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer\")],p);class m{constructor(){this.adds=new Set,this.removes=new Set,this.removed=new Set}get empty(){return 0===this.adds.size&&0===this.removes.size&&0===this.removed.size}has(e){return this.adds.has(e)||this.removes.has(e)||this.removed.has(e)}clear(){this.adds.clear(),this.removes.clear(),this.removed.clear()}}export{p as SortedRenderGeometryRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{T as r}from\"../../../../chunks/TextureOnly.glsl.js\";import{ReloadableShaderModule as o}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as i,parameter as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"./DefaultVertexAttributeLocations.js\";import{Program as n}from\"./Program.js\";import{makePipelineState as l,separateBlendingParams as h,defaultColorWriteParams as c}from\"../../../webgl/renderState.js\";class u extends t{initializeProgram(e){const r=u.shader.get().build();return new n(e.rctx,r,a)}initializePipeline(){return this.configuration.hasAlpha?l({blending:h(770,1,771,771),colorWrite:c}):l({colorWrite:c})}}u.shader=new o(r,(()=>import(\"../core/shaderLibrary/util/TextureOnly.glsl.js\")));class m extends i{constructor(){super(...arguments),this.hasAlpha=!1}}e([s()],m.prototype,\"hasAlpha\",void 0);export{u as TextureTechnique,m as TextureTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{c as s,f as t}from\"../../../../chunks/vec3f64.js\";class i{constructor(t=s()){this.intensity=t}}class c{constructor(i=s(),c=t(.57735,.57735,.57735)){this.intensity=i,this.direction=c}}class o{constructor(i=s(),c=t(.57735,.57735,.57735),o=!0){this.intensity=i,this.direction=c,this.castShadows=o}}class r{constructor(){this.r=[0],this.g=[0],this.b=[0]}}export{i as AmbientLight,c as FillLight,o as MainLight,r as SphericalHarmonicsAmbientLight};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}export{l as add,t as dotProduct,n as elementwiseProduct,e as scalarProduct};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../../../core/mathUtils.js\";import{o as n,s as o,g as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{elementwiseProduct as r,scalarProduct as e,add as c}from\"../lib/LongVectorMath.js\";import{MainLight as f,FillLight as h,AmbientLight as a,SphericalHarmonicsAmbientLight as u}from\"./Lightsources.js\";function g(t){return(t+1)*(t+1)}function l(n){return t(Math.floor(Math.sqrt(n)-1),0,2)}function y(t,n,o){const i=t[0],s=t[1],r=t[2],e=o||[];return e.length=g(n),n>=0&&(e[0]=.28209479177),n>=1&&(e[1]=.4886025119*i,e[2]=.4886025119*r,e[3]=.4886025119*s),n>=2&&(e[4]=1.09254843059*i*s,e[5]=1.09254843059*s*r,e[6]=.31539156525*(3*r*r-1),e[7]=1.09254843059*i*r,e[8]=.54627421529*(i*i-s*s)),e}function m(t,n){const o=g(t),i=n||{r:[],g:[],b:[]};i.r.length=i.g.length=i.b.length=o;for(let s=0;s<o;s++)i.r[s]=i.g[s]=i.b[s]=0;return i}function p(t,o){const i=l(o.r.length);for(const s of t)n(v,s.direction),y(v,i,P),r(P,w),e(P,s.intensity[0],k),c(o.r,k),e(P,s.intensity[1],k),c(o.g,k),e(P,s.intensity[2],k),c(o.b,k);return o}function b(t,n){y(v,0,P);for(const o of t)n.r[0]+=P[0]*w[0]*o.intensity[0]*4*Math.PI,n.g[0]+=P[0]*w[0]*o.intensity[1]*4*Math.PI,n.b[0]+=P[0]*w[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,s,r){m(n,r),o(s.intensity,0,0,0);let e=!1;const g=d,l=j,y=I;g.length=0,l.length=0,y.length=0;for(const o of t)o instanceof f&&!e?(i(s.direction,o.direction),s.intensity[0]=o.intensity[0],s.intensity[1]=o.intensity[1],s.intensity[2]=o.intensity[2],s.castShadows=o.castShadows,e=!0):o instanceof f||o instanceof h?g.push(o):o instanceof a?l.push(o):o instanceof u&&y.push(o);p(g,r),b(l,r);for(const o of y)c(r.r,o.r),c(r.g,o.g),c(r.b,o.b)}const d=[],j=[],I=[],P=[0],k=[0],v=s(),w=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];export{M as combineLights,y as computeCoefficients,m as initSHCoefficients,g as numberOfCoefficients,l as orderFromNumberOfCoefficients,b as projectAmbientLights,p as projectFillLights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{g as i,a as t,b as n}from\"../../../../chunks/vec3.js\";import{c as s,f as o}from\"../../../../chunks/vec3f64.js\";import{SphericalHarmonicsAmbientLight as r}from\"./Lightsources.js\";import{combineLights as h}from\"./SphericalHarmonics.js\";class e{constructor(){this._shOrder=2,this._ambientBoost=.4,this._oldSunlight={direction:s(),ambient:{color:s(),intensity:1},diffuse:{color:s(),intensity:1}},this.globalFactor=.5,this.groundLightingFactor=.5,this._sphericalHarmonics=new r,this._mainLight={intensity:s(),direction:o(1,0,0),castShadows:!1}}get lightingMainDirection(){return this._mainLight.direction}setLightDirectionUniform(i){i.setUniform3fv(\"lightingMainDirection\",this._mainLight.direction)}setUniforms(i,t=!1){const n=t?(1-this.groundLightingFactor)*(1-this.globalFactor):0;i.setUniform1f(\"lightingFixedFactor\",n),i.setUniform1f(\"lightingGlobalFactor\",this.globalFactor),this.setLightDirectionUniform(i),i.setUniform3fv(\"lightingMainIntensity\",this._mainLight.intensity),i.setUniform1f(\"ambientBoostFactor\",this._ambientBoost);const s=this._sphericalHarmonics;0===this._shOrder?i.setUniform3f(\"lightingAmbientSH0\",s.r[0],s.g[0],s.b[0]):1===this._shOrder?(i.setUniform4f(\"lightingAmbientSH_R\",s.r[0],s.r[1],s.r[2],s.r[3]),i.setUniform4f(\"lightingAmbientSH_G\",s.g[0],s.g[1],s.g[2],s.g[3]),i.setUniform4f(\"lightingAmbientSH_B\",s.b[0],s.b[1],s.b[2],s.b[3])):2===this._shOrder&&(i.setUniform3f(\"lightingAmbientSH0\",s.r[0],s.g[0],s.b[0]),i.setUniform4f(\"lightingAmbientSH_R1\",s.r[1],s.r[2],s.r[3],s.r[4]),i.setUniform4f(\"lightingAmbientSH_G1\",s.g[1],s.g[2],s.g[3],s.g[4]),i.setUniform4f(\"lightingAmbientSH_B1\",s.b[1],s.b[2],s.b[3],s.b[4]),i.setUniform4f(\"lightingAmbientSH_R2\",s.r[5],s.r[6],s.r[7],s.r[8]),i.setUniform4f(\"lightingAmbientSH_G2\",s.g[5],s.g[6],s.g[7],s.g[8]),i.setUniform4f(\"lightingAmbientSH_B2\",s.b[5],s.b[6],s.b[7],s.b[8]))}set(s){h(s,this._shOrder,this._mainLight,this._sphericalHarmonics),i(this._oldSunlight.direction,this._mainLight.direction);const o=1/Math.PI;this._oldSunlight.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*o,this._oldSunlight.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*o,this._oldSunlight.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*o,t(this._oldSunlight.diffuse.color,this._mainLight.intensity,o),i(g,this._oldSunlight.diffuse.color),t(g,g,this._ambientBoost*this.globalFactor),n(this._oldSunlight.ambient.color,this._oldSunlight.ambient.color,g)}get old(){return this._oldSunlight}}const g=s();export{e as SceneLighting};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as e,isNone as t,isSome as r}from\"../../../../core/maybe.js\";import\"../../../webgl/BufferObject.js\";import\"../../../webgl/FramebufferObject.js\";import\"../../../../core/has.js\";import\"../../../webgl/enums.js\";import\"../../../webgl/RenderingContext.js\";import\"../../../../chunks/builtins.js\";import n from\"../../../webgl/Texture.js\";import\"../../../webgl/VertexArrayObject.js\";class s{constructor(e){this._rctx=e,this.cache=new Map}dispose(){this.cache.forEach((t=>t.texture=e(t.texture))),this.cache.clear()}acquire(e){if(t(e))return null;const r=this.patternId(e),s=this.cache.get(r);if(s)return s.refCount++,s.bind;const i=2,o=this.patternToTextureData(e,2),a=o.length/i,c={refCount:1,texture:null,bind:e=>(t(c.texture)&&(c.texture=new n(this._rctx,{width:o.length,height:1,internalFormat:6406,pixelFormat:6406,dataType:5121,wrapMode:33071},o)),e.bindTexture(c.texture,\"stipplePatternTexture\"),a)};return this.cache.set(r,c),c.bind}release(e){if(t(e))return;const n=this.patternId(e),s=this.cache.get(n);s&&(s.refCount--,0===s.refCount&&(r(s.texture)&&s.texture.dispose(),this.cache.delete(n)))}swap(e,t){const r=this.acquire(t);return this.release(e),r}patternId(e){return e.join(\",\")}patternToTextureData(e,t){const r=e.reduce(((e,t)=>e+t))*t,n=new Uint8Array(r);let s=!0,i=0;for(const o of e){for(let e=0;e<o*t;e++)n[i++]=s?255:0;s=!s}return n}}export{s as StippleTextureRepository};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Handles.js\";import s from\"../../../core/Logger.js\";import{someMap as i}from\"../../../core/MapUtils.js\";import{releaseMaybe as a,disposeMaybe as n,isSome as o,unwrapOr as h,isNone as l,unwrap as d}from\"../../../core/maybe.js\";import u from\"../../../core/PooledArray.js\";import{someSet as g}from\"../../../core/SetUtils.js\";import{init as c}from\"../../../core/watchUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{o as m,i as _,t as f}from\"../../../chunks/mat4.js\";import{a as R}from\"../../../chunks/vec2f64.js\";import{f as T,c as b}from\"../../../chunks/vec3f64.js\";import w from\"../support/debugFlags.js\";import{Overlay as x}from\"./Overlay.js\";import{OverlayFramebufferObject as v}from\"./OverlayFramebufferObject.js\";import{OverlayRenderTarget as O}from\"./OverlayRenderTarget.js\";import{ShaderTechniqueRepository as C}from\"../webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js\";import{AutoDisposableMixin as j,autoDispose as L}from\"../webgl-engine/lib/AutoDisposable.js\";import S from\"../webgl-engine/lib/Camera.js\";import G from\"../webgl-engine/lib/GLMaterialRep.js\";import{createEmptyDepthTexture as V,createQuadVAO as D}from\"../webgl-engine/lib/glUtil3D.js\";import{GridLocalOriginFactory as P}from\"../webgl-engine/lib/GridLocalOriginFactory.js\";import{IntersectorResult as M}from\"../webgl-engine/lib/intersectorUtils.js\";import{OverlayRenderContext as A}from\"../webgl-engine/lib/RenderContext.js\";import{SortedRenderGeometryRenderer as E}from\"../webgl-engine/lib/SortedRenderGeometryRenderer.js\";import{TextureTechniqueConfiguration as U,TextureTechnique as W}from\"../webgl-engine/lib/TextureTechnique.js\";import{AmbientLight as H}from\"../webgl-engine/lighting/Lightsources.js\";import{SceneLighting as q}from\"../webgl-engine/lighting/SceneLighting.js\";import{StippleTextureRepository as F}from\"../webgl-engine/materials/StippleTextureRepository.js\";import{TaskPriority as B,noBudget as k}from\"../../support/Scheduler.js\";import z from\"../../webgl/Texture.js\";import{vertexCount as I}from\"../../webgl/Util.js\";const X=s.getLogger(\"esri.views.3d.webgl-engine.lib.OverlayRenderer\");let Y=class extends(j(r)){constructor(e){super(e),this._overlays=null,this._overlayRenderTarget=null,this._hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._lighting=new q,this._handles=new t,this._layerRenderers=new Map,this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers=new u,this._geometries=new Map,this.globalUnitScale=1,this.longitudeCyclical=null}initialize(){const e=this.view._stage.renderView;this._rctx=e.renderingContext,this._renderContext=new A(this._rctx);const r=e.waterTextureRepository;this._stippleTextureRepository=new F(e.renderingContext),this._shaderTechniqueRepository=new C({rctx:this._rctx,viewingMode:2,stippleTextureRepository:this._stippleTextureRepository,waterTextureRepository:r}),this._handles.add([c(r,\"loadingState\",(()=>this.emitContentChanged())),c(this,\"spatialReference\",(e=>this._localOrigins=new P(e)))]),this._materialRepository=new G(e.textureRepository,this._shaderTechniqueRepository),this._materialRepository.onMaterialChanged=e=>{(e.renderOccluded&ee)>0!==this._rendersOccluded&&this.updateRendersOccluded(),this.emitContentChanged(),this.notifyChange(\"updating\")},this._lighting.groundLightingFactor=1,this._lighting.globalFactor=0,this._lighting.set([new H(T(1,1,1))]),this._bindParameters={slot:null,highlightDepthTexture:V(this._rctx),camera:N,inverseViewport:R(),origin:null,screenToWorldRatio:null,screenToWorldRatioGlobalWM:null,shadowMappingEnabled:!1,slicePlane:null,ssaoEnabled:!1,hasOccludees:!1,linearDepthTexture:null,lastFrameColorTexture:null,reprojectionMat:null,ssrEnabled:!1,lighting:this._lighting,transparencyPassType:3,terrainLinearDepthTexture:null,geometryLinearDepthTexture:null,multipassTerrainEnabled:!1,cullAboveGround:!1,multipassGeometryEnabled:!1,highlightColorTexture:null},this._handles.add(this.view.resourceController.scheduler.registerTask(B.STAGE,this))}dispose(){this._handles.destroy(),this._layerRenderers.forEach((e=>e.dispose())),this._layerRenderers.clear(),this._debugTextureTechnique=a(this._debugTextureTechnique),this._debugPatternTexture=n(this._debugPatternTexture),this._bindParameters.highlightDepthTexture=n(this._bindParameters.highlightDepthTexture),this._shaderTechniqueRepository=n(this._shaderTechniqueRepository),this._temporaryFBO=n(this._temporaryFBO),this._quadVAO=n(this._quadVAO),this._overlayRenderTarget=n(this._overlayRenderTarget)}get updating(){return this._sortedLayerRenderersDirty||i(this._layerRenderers,(e=>e.updating))}get hasOverlays(){return o(this._overlays)&&o(this._overlayRenderTarget)}get gpuMemoryUsage(){return o(this._overlayRenderTarget)?this._overlayRenderTarget.gpuMemoryUsage:0}collectUnusedRenderTargetMemory(e){let r=!1;if(o(this._overlayRenderTarget))for(const t of this._overlayRenderTarget.renderTargets){const s=this.overlays[0].validTargets[t.type]||!this.overlays[1].validTargets[t.type];r=this._overlayRenderTarget.validateUsageForTarget(s,t,e)||r}return r}get overlays(){return h(this._overlays,[])}ensureDrapeTargets(e){o(this._overlays)&&this._overlays.forEach((r=>{r.hasTargetWithoutRasterImage=g(e,(e=>1===e.drapeTargetType))}))}ensureDrapeSources(e){o(this._overlays)&&this._overlays.forEach((r=>{r.hasDrapedFeatureSource=i(e,((e,r)=>1===r.drapeSourceType)),r.hasDrapedRasterSource=i(e,((e,r)=>0===r.drapeSourceType))}))}ensureOverlays(e,r){l(this._overlays)&&(this._overlayRenderTarget=new O(this._rctx),this._overlays=[new x(0,this._overlayRenderTarget),new x(1,this._overlayRenderTarget)]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r)}disposeOverlays(){o(this._overlayRenderTarget)&&this._overlayRenderTarget.disposeRenderTargetMemory()}get running(){return this.updating}runTask(e,r=(()=>!0)){let t=!1;for(const[s,i]of this._layerRenderers){if(e.done)break;r(s)&&(i.commitChanges()&&(t=!0,e.madeProgress()),i.isEmpty&&(this._sortedLayerRenderersDirty=!0,this._layerRenderers.delete(s),this._handles.remove(s)))}this._sortedLayerRenderersDirty&&(this.updateSortedLayerRenderers(),t=!0),t&&(o(this._overlays)&&0===this._layerRenderers.size&&this.disposeOverlays(),this.notifyChange(\"updating\"),this.emitContentChanged(),this.updateHasHighlights(),this.updateRendersOccluded(),this.updateHasWater())}processSyncLayers(){this.runTask(k,(e=>1===e.updatePolicy))}addGeometries(e,r,t){for(const s of e)l(s.origin)&&(s.origin=this._localOrigins.getOrigin(s.boundingSphere)),this._geometries.set(s.id,s);this.ensureLayerRenderer(r).add(e),2===t&&this.notifyGraphicGeometryChanged(e,r)}removeGeometries(e,r,t){for(const i of e)this._geometries.delete(d(i.id));const s=this._layerRenderers.get(r);s&&(s.remove(e),2===t&&this.notifyGraphicGeometryChanged(e,r))}updateGeometries(e,r,t){const s=this._layerRenderers.get(r);if(s)switch(s.modify(e,t),t){case 4:case 2:return this.notifyGraphicGeometryChanged(e,r);case 1:return this.notifyGraphicVisibilityChanged(e,r)}else X.warn(\"Attempted to update geometry for nonexistent layer\")}notifyGraphicGeometryChanged(e,r){if(l(r.notifyGraphicGeometryChanged))return;let t;for(const s of e){const e=s.graphicUid;o(e)&&e!==t&&(r.notifyGraphicGeometryChanged(e),t=e)}}notifyGraphicVisibilityChanged(e,r){if(l(r.notifyGraphicVisibilityChanged))return;let t;for(const s of e){const e=s.graphicUid;o(e)&&e!==t&&(r.notifyGraphicVisibilityChanged(e),t=e)}}updateHighlights(e,r){const t=this._layerRenderers.get(r);t?t.modify(e,8):X.warn(\"Attempted to update highlights for nonexistent layer\")}isEmpty(){return 0===this._geometries.size&&!w.OVERLAY_DRAW_DEBUG_TEXTURE}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}updateLogic(e){let r=!1;return this._layerRenderers.forEach((t=>{t.updateLogic(e)&&(r=!0)})),r}updateLayerOrder(){this._sortedLayerRenderersDirty=!0}drawTarget(e,r,t){const s=e.canvasGeometries;if(0===s.numViews)return!1;const i=e.pixelRatio*t;this._screenToWorldRatio=i*Math.abs(s.extents[0][2]-s.extents[0][0])/Math.abs(e.viewport[2]-e.viewport[0]);const a=r.renderPass;if(this.isEmpty()||5===a&&!this.hasHighlights||3===a&&!this.hasWater)return!1;if(!e.hasSomeSizedView())return!1;const n=r.fbo,h=2*e.resolution,l=e.resolution,u=1===r.type?2:4===r.type?1:0;if(!n.isValid())return!1;n.resize(h,l);const g=this._rctx;if(N.pixelRatio=i||1,this._renderContext.pass=a,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToWorldRatioGlobalWM=this._screenToWorldRatio*this.globalUnitScale,e.applyViewport(this._rctx),n.bind(g),0===e.index&&(g.setClearColor(0,0,0,0),g.clearSafe(16384)),1===u&&(this._renderContext.renderOccludedMask=ee),w.OVERLAY_DRAW_DEBUG_TEXTURE&&1!==u)for(let o=0;o<s.numViews;o++)this.setViewParameters(s.extents[o],e,N),this.drawDebugTexture(e.resolution,K[e.index%K.length]);return this._layerRenderers.size>0&&this._sortedLayerRenderers.forAll((({layerView:r,renderer:t})=>{if(2===u&&o(r)&&0===r.drapeSourceType)return;const i=o(r)&&o(r.fullOpacity)&&r.fullOpacity<1&&0===a;i&&(this.bindTemporaryFramebuffer(this._rctx,h,l),g.clearSafe(16384));for(let a=0;a<s.numViews;a++)this.setViewParameters(s.extents[a],e,N),t.render(this._renderContext,this._bindParameters);i&&o(this._temporaryFBO)&&(n.bind(g),this.view._stage.renderView.compositingHelper.composite(this._temporaryFBO.getTexture(),2,d(d(r).fullOpacity),3,e.index))})),g.bindFramebuffer(null),n.generateMipMap(),this._renderContext.resetRenderOccludedMask(),!0}bindTemporaryFramebuffer(e,r,t){l(this._temporaryFBO)&&(this._temporaryFBO=new v(e,!1)),this._temporaryFBO.resize(r,t),this._temporaryFBO.bind(e)}async reloadShaders(){await this._shaderTechniqueRepository.hotReload()}intersect(e,r,t){let s=0;this._geometries.forEach((i=>{if(t&&!t(i))return;this.intersectRenderGeometry(i,r,0,e,s);const a=this.longitudeCyclical;a&&(i.boundingSphere[0]-i.boundingSphere[3]<a.min&&this.intersectRenderGeometry(i,r,a.range,e,s),i.boundingSphere[0]+i.boundingSphere[3]>a.max&&this.intersectRenderGeometry(i,r,-a.range,e,s)),s++}))}intersectRenderGeometry(e,r,t,s,i){if(!e.instanceParameters.visible)return;let a=0;o(e.transformation)&&(t+=e.transformation[12],a=e.transformation[13]),Q[0]=r[0]-t,Q[1]=r[1]-a,Q[2]=1,Z[0]=r[0]-t,Z[1]=r[1]-a,Z[2]=0,e.screenToWorldRatio=this._screenToWorldRatio,e.material.intersect(e,null,e.getShaderTransformation(),s,Q,Z,((r,t,a)=>{this.addIntersectionResult(a,e.material.renderPriority,i,s,e.layerUid,e.graphicUid)}),e.calculateShaderTransformation,!0)}addIntersectionResult(e,r,t,s,i,a){const n={type:\"external\",metadata:{layerUid:i,graphicUid:a}},o=i=>{i.set(n,null,s.results.ground.dist,s.results.ground.normal,s.results.ground.transformation,r,null,null,e,t),i.intersector=\"OverlayRenderer\"};if((null==s.results.min.drapedLayerOrder||r>=s.results.min.drapedLayerOrder)&&(null==s.results.min.dist||s.results.ground.dist<=s.results.min.dist)&&o(s.results.min),0!==s.options.store&&(null==s.results.max.drapedLayerOrder||r<s.results.max.drapedLayerOrder)&&(null==s.results.max.dist||s.results.ground.dist>s.results.max.dist)&&o(s.results.max),2===s.options.store){const e=new M(s.ray);o(e),s.results.all.push(e)}}stopAnimationsAtTime(e){this._sortedLayerRenderers.forAll((r=>r.renderer.stopAnimationsAtTime(e)))}ensureLayerRenderer(e){let r=this._layerRenderers.get(e);return r||(r=new E({rctx:this._rctx,materialRepository:this._materialRepository}),this._layerRenderers.set(e,r),this._sortedLayerRenderersDirty=!0,\"fullOpacity\"in e&&this._handles.add(e.watch(\"fullOpacity\",(()=>this.emitContentChanged())),e),this._handles.add(c(r,\"updating\",(()=>this.notifyChange(\"updating\"))),e)),r}updateSortedLayerRenderers(){if(!this._sortedLayerRenderersDirty)return;if(this._sortedLayerRenderersDirty=!1,this._sortedLayerRenderers.clear(),0===this._layerRenderers.size)return;const e=new Set(this._layerRenderers.values());this.view.allLayerViews.forEach((r=>{const t=r,s=this._layerRenderers.get(t);s&&(this._sortedLayerRenderers.push(new J(t,s)),e.delete(s))})),e.forEach((e=>this._sortedLayerRenderers.push(new J(null,e))))}setViewParameters(e,r,t){t.viewport=r.viewport,m(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),_(t.viewMatrix),f(t.viewMatrix,t.viewMatrix,[-e[0],-e[1],0]),this._renderContext.camera=t,this._bindParameters.camera=t,this._bindParameters.inverseViewport[0]=1/t.fullViewport[2],this._bindParameters.inverseViewport[1]=1/t.fullViewport[3]}emitContentChanged(){this.onContentChanged&&this.onContentChanged()}updateHasWater(){const e=i(this._layerRenderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e,this.onHasWaterChanged&&this.onHasWaterChanged(e))}updateHasHighlights(){const e=i(this._layerRenderers,(e=>e.hasHighlights));e!==this._hasHighlights&&(this._hasHighlights=e,this.onHasHighlightsChanged&&this.onHasHighlightsChanged(this._hasHighlights))}updateRendersOccluded(){const e=i(this._layerRenderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.onRendersOccludedChanged&&this.onRendersOccludedChanged(this.rendersOccluded))}drawDebugTexture(e,r){const t=this._rctx;this.ensureDebugPatternResources(e,e);const s=this._debugTextureTechnique.program;t.useProgram(s),t.setPipelineState(this._debugTextureTechnique.pipeline),s.setUniform4f(\"color\",r[0],r[1],r[2],1),s.bindTexture(this._debugPatternTexture,\"tex\"),t.bindVAO(this._quadVAO),t.drawArrays(5,0,I(this._quadVAO,\"geometry\"))}ensureDebugPatternResources(e,r){if(this._debugPatternTexture)return;const t=new Uint8Array(e*r*4);let s=0;for(let a=0;a<r;a++)for(let i=0;i<e;i++){const n=Math.floor(i/10),o=Math.floor(a/10);n<2||o<2||10*n>e-20||10*o>r-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&n&&1&o?1&i^1&a?0:255:1&n^1&o?0:128)}this._debugPatternTexture=new z(this._rctx,{target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,width:e,height:r},t);const i=new U;i.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquire(W,i),this._quadVAO=D(this._rctx)}get test(){return{layerRenderers:this._layerRenderers}}};e([L()],Y.prototype,\"_shaderTechniqueRepository\",void 0),e([L()],Y.prototype,\"_stippleTextureRepository\",void 0),e([p({constructOnly:!0})],Y.prototype,\"view\",void 0),e([p()],Y.prototype,\"globalUnitScale\",void 0),e([p()],Y.prototype,\"spatialReference\",void 0),e([p({type:Boolean,readOnly:!0})],Y.prototype,\"updating\",null),Y=e([y(\"esri.views.3d.terrain.OverlayRenderer\")],Y);class J{constructor(e,r){this.layerView=e,this.renderer=r}}const K=[[1,.5,.5],[.5,.5,1],[.5,1,.5]],N=new S;N.near=1,N.far=1e4,N.relativeElevation=null;const Q=b(),Z=b(),$=-2,ee=4;export{$ as DRAPED_Z,Y as OverlayRenderer,ee as overlayRenderOccludedFlag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{acosClamped as t}from\"../../../../core/mathUtils.js\";import{isNone as o,isSome as e,unwrapOr as n}from\"../../../../core/maybe.js\";import{slice as r}from\"../../../../core/typedArrayUtil.js\";import{s as i,n as s,d as a,a as u}from\"../../../../chunks/vec3.js\";import{c}from\"../../../../chunks/vec3f64.js\";import{projectBuffer as p}from\"../../../../geometry/projection.js\";import{pathsToTriangulationInfo as l}from\"../../../../geometry/support/triangulationUtils.js\";import{WHITE_UNIT as f}from\"./constants.js\";import{applyPerVertexElevationAlignment as h}from\"./elevationAlignmentUtils.js\";import{DRAPED_Z as m}from\"../../terrain/OverlayRenderer.js\";import{Geometry as y}from\"../../webgl-engine/lib/Geometry.js\";function b(t){const o=[],e=[];j(t,e,o);const n=e[0][1].data,r=o[0][1].length,i=new Uint16Array(r);return A(t,e,o),F(t,e,o,i),w(t,e,o,i),v(t,e,o,i),D(t,e,o,i),P(t,e,o,i),U(t,e,o,n),new y(e,o,2)}function g(t,o,e,n){const r=\"polygon\"===t.type?1:0,i=\"polygon\"===t.type?t.rings:t.paths,{position:s,outlines:a}=l(i,t.hasZ,r),u=new Float64Array(s.length),c=h(s,t.spatialReference,0,u,0,s,0,s.length/3,o,e,n),p=null!=c;return{lines:p?d(a,s,u):[],projectionSuccess:p,sampledElevation:c}}function d(t,o,e){const n=new Array;for(const{index:r,count:i}of t){if(i<=1)continue;const t=3*r,s=t+3*i;n.push({position:o.subarray(t,s),mapPosition:e?e.subarray(t,s):void 0})}return n}function z(t,o){const e=\"polygon\"===t.type?1:0,n=\"polygon\"===t.type?t.rings:t.paths,{position:r,outlines:i}=l(n,!1,e),s=p(r,t.spatialReference,0,r,o,0,r.length/3);for(let a=2;a<r.length;a+=3)r[a]=m;return{lines:s?d(i,r):[],projectionSuccess:s}}function j(t,o,e){const{attributeData:{position:n},removeDuplicateStartEnd:i}=t,s=M(n)&&1===i,a=n.length/3-(s?1:0),u=new Uint32Array(2*(a-1)),c=s?r(n,0,n.length-3):n;let p=0;for(let r=0;r<a-1;r++)u[p++]=r,u[p++]=r+1;o.push([\"position\",{size:3,data:c,exclusive:s}]),e.push([\"position\",u])}function A(t,e,n){const r=t.attributeData.mapPosition;o(r)||(n.push([\"mapPos\",n[0][1]]),e.push([\"mapPos\",{size:3,data:r}]))}function F(t,o,r,i){if(e(t.attributeData.colorFeature))return;const s=t.attributeData.color;o.push([\"color\",{size:4,data:n(s,f)}]),r.push([\"color\",i])}function v(t,e,n,r){const i=t.attributeData.colorFeature;o(i)||(e.push([\"colorFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"color\",r]))}function w(t,o,r,i){if(e(t.attributeData.sizeFeature))return;const s=t.attributeData.size;o.push([\"size\",{size:1,data:[n(s,1)]}]),r.push([\"size\",i])}function D(t,e,n,r){const i=t.attributeData.sizeFeature;o(i)||(e.push([\"sizeFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"sizeFeatureAttribute\",r]))}function P(t,e,n,r){const i=t.attributeData.opacityFeature;o(i)||(e.push([\"opacityFeatureAttribute\",{size:1,data:new Float32Array([i])}]),n.push([\"opacityFeatureAttribute\",r]))}function U(o,e,r,c){if(\"round\"!==o.join)return;const p=c.length/3,l=new Float32Array(p),f=S,h=R;i(f,0,0,0);const m=n(o.uniformSize,1);for(let n=-1;n<p;++n){const o=n<0?p+n:n,e=(n+1)%p;if(i(h,c[3*e+0]-c[3*o+0],c[3*e+1]-c[3*o+1],c[3*e+2]-c[3*o+2]),s(h,h),n>=0){const o=1*((Math.PI-t(a(f,h)))*k)*x(m);l[n]=Math.max(Math.floor(o),0)}u(f,h,-1)}e.push([\"subdivisions\",{size:1,data:l}]),r.push([\"subdivisions\",r[0][1]])}function x(t){return 1.863798+-2.0062872/(1+t/18.2313)**.8856294}function M(t){const o=t.length;return t[0]===t[o-3]&&t[1]===t[o-2]&&t[2]===t[o-1]}const S=c(),R=c(),k=4/Math.PI;export{b as createGeometry,g as geometryToRenderInfo,z as geometryToRenderInfoDraped};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{i as r,t as s}from\"../../../../chunks/mat4.js\";import{c as i}from\"../../../../chunks/mat4f64.js\";import{s as o}from\"../../../../chunks/vec3.js\";import{Z as n,c as l}from\"../../../../chunks/vec3f64.js\";import{g as h,c as a}from\"../../../../chunks/vec4.js\";import{f as p,c as d,a as f}from\"../../../../chunks/vec4f32.js\";import{Object3DVisualElement as _}from\"./Object3DVisualElement.js\";import{createGeometry as c}from\"../../layers/graphics/lineUtils.js\";import{RibbonLineMaterial as u}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class m extends _{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=p(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stippleIntegerRepeats=!1,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromExtent(e){const t=this.view.spatialReference,r=l(),s=l(),i=100,n=[];o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),o(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=l(),h=l(),a=l(),p=l();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;r(g),s(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=n){r(g),s(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){h(e,this._color)||(a(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){e(r)?!t(this._innerColor)&&h(r,this._innerColor)||(this._innerColor=a(d(),r),this._updateMaterial()):e(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=e(t)!==e(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(t(r)||t(this._stippleOffColor)||!h(r,this._stippleOffColor))&&(this._stippleOffColor=e(r)?f(r):null,this._updateMaterial())}get stippleIntegerRepeats(){return this._stippleIntegerRepeats}set stippleIntegerRepeats(e){this._stippleIntegerRepeats!==e&&(this._stippleIntegerRepeats=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new u(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=c(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,stippleIntegerRepeats:this._stippleIntegerRepeats,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameterValues(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(t(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=i();export{m as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nlet e=e=>({vnodeSelector:\"\",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?r(t,i,n):null!=i&&!1!==i&&(\"string\"==typeof i&&(i=e(i)),n.push(i))}};function t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&(\"string\"==typeof t||t.hasOwnProperty(\"vnodeSelector\"))||o&&(\"string\"==typeof o||o.hasOwnProperty(\"vnodeSelector\")))throw new Error(\"h called with invalid arguments\");let n,l;return o&&1===o.length&&\"string\"==typeof o[0]?n=o[0]:o&&(l=[],r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:\"\"===n?void 0:n,domNode:null}}export{t as h};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as o}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";let r=class extends e{constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0}get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set(\"startX\",t[0]),this._set(\"startY\",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set(\"endX\",t[0]),this._set(\"endY\",t[1])}get strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get lineCap(){return\"round\"}render(){const{height:t,left:e,top:s,width:i,x1:r,x2:n,y1:a,y2:p}=this.calculateCoordinates(h),l=`stroke: ${this.strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this.lineCap};`;return o(\"div\",{classes:{\"esri-line-overlay-item\":!0},styles:{left:e+\"px\",top:s+\"px\",width:i+\"px\",height:t+\"px\",visibility:this.visible?\"visible\":\"hidden\"}},[o(\"svg\",{width:i,height:t},[o(\"line\",{x1:r,y1:a,x2:n,y2:p,style:l})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this.strokeStyle,t.lineWidth=this.width,t.lineCap=this.lineCap;const e=this.calculateCoordinates(h);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),i=Math.min(this.startY,this.endY),o=Math.max(this.startY,this.endY),r=this.width;return t.left=e-r,t.top=i-r,t.width=s-e+2*r,t.height=Math.max(20,o-i+2*r),t.x1=this.startX-e+r,t.y1=this.startY-i+r,t.x2=this.endX-e+r,t.y2=this.endY-i+r,t}};t([s()],r.prototype,\"startX\",void 0),t([s()],r.prototype,\"startY\",void 0),t([s()],r.prototype,\"endX\",void 0),t([s()],r.prototype,\"endY\",void 0),t([s()],r.prototype,\"startPosition\",null),t([s()],r.prototype,\"endPosition\",null),t([s()],r.prototype,\"width\",void 0),t([s()],r.prototype,\"color\",void 0),t([s()],r.prototype,\"visible\",void 0),t([s({readOnly:!0})],r.prototype,\"strokeStyle\",null),r=t([i(\"esri.views.overlay.LineOverlayItem\")],r);const h={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};var n=r;export default n;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import\"../../libs/maquette/projection.js\";import{h as r}from\"../../libs/maquette/h.js\";import\"../../libs/maquette/projector.js\";const s={bottom:\"esri-text-overlay-item-anchor-bottom\",\"bottom-right\":\"esri-text-overlay-item-anchor-bottom-right\",\"bottom-left\":\"esri-text-overlay-item-anchor-bottom-left\",top:\"esri-text-overlay-item-anchor-top\",\"top-right\":\"esri-text-overlay-item-anchor-top-right\",\"top-left\":\"esri-text-overlay-item-anchor-top-left\",center:\"esri-text-overlay-item-anchor-center\",right:\"esri-text-overlay-item-anchor-right\",left:\"esri-text-overlay-item-anchor-left\"};let l=class extends e{constructor(t){super(t),this.x=0,this.y=0,this.text=\"-\",this.fontSize=14,this.anchor=\"center\",this.visible=!0,this.backgroundColor=\"rgba(0, 0, 0, 0.6)\",this.textColor=\"white\",this.textShadowColor=[0,0,0],this.textShadowSize=1}get position(){return[this.x,this.y]}set position(t){this._set(\"x\",t[0]),this._set(\"y\",t[1])}get padding(){return.5*this.fontSize}render(){return r(\"div\",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+\"px\",top:Math.floor(this.y)+\"px\",visibility:this.visible?\"visible\":\"hidden\",fontSize:this.fontSize+\"px\",backgroundColor:this.backgroundColor,color:this.textColor,padding:this.padding+\"px\",borderRadius:this.padding+\"px\",textShadow:`0 0 ${this.textShadowSize}px rgb(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]})`}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,\"\");t.font=`${this.fontSize}px ${e}`;const o=this.padding,i=this.padding,r=t.measureText(this.text).width,s=this.fontSize,l=h[this.anchor];t.textAlign=\"center\",t.textBaseline=\"middle\";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,c=this.y+l.y*a;this.roundedRect(t,x,c,n,a,i),t.fillStyle=this.backgroundColor,t.fill();const p=this.x+(l.x+.5)*n,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,p,d),t.fillStyle=this.textColor,t.fillText(this.text,p,d)}_renderTextShadow(t,e,o,i){t.lineJoin=\"miter\",t.fillStyle=`rgba(${this.textShadowColor[0]}, ${this.textShadowColor[1]}, ${this.textShadowColor[2]}, ${1/n.length})`;const r=this.textShadowSize;for(const[s,l]of n)t.fillText(e,o+r*s,i+r*l)}roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={\"esri-text-overlay-item\":!0};for(const e in s)t[s[e]]=this.anchor===e;return t}};t([o()],l.prototype,\"x\",void 0),t([o()],l.prototype,\"y\",void 0),t([o()],l.prototype,\"position\",null),t([o()],l.prototype,\"text\",void 0),t([o()],l.prototype,\"fontSize\",void 0),t([o()],l.prototype,\"anchor\",void 0),t([o()],l.prototype,\"visible\",void 0),t([o()],l.prototype,\"padding\",null),l=t([i(\"esri.views.overlay.TextOverlayItem\")],l);const h={bottom:{x:-.5,y:-1,textAlign:\"center\",textBaseline:\"bottom\"},\"bottom-left\":{x:0,y:-1,textAlign:\"left\",textBaseline:\"bottom\"},\"bottom-right\":{x:-1,y:-1,textAlign:\"right\",textBaseline:\"bottom\"},center:{x:-.5,y:-.5,textAlign:\"center\",textBaseline:\"middle\"},left:{x:0,y:-.5,textAlign:\"left\",textBaseline:\"middle\"},right:{x:-1,y:-.5,textAlign:\"right\",textBaseline:\"middle\"},top:{x:-.5,y:0,textAlign:\"center\",textBaseline:\"top\"},\"top-left\":{x:0,y:0,textAlign:\"left\",textBaseline:\"top\"},\"top-right\":{x:-1,y:0,textAlign:\"right\",textBaseline:\"top\"}},n=[];{const t=16;for(let e=0;e<360;e+=360/t)n.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var a=l;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{isSome as e,unwrap as s}from\"../../../../core/maybe.js\";import{createRenderScreenPointArray as i,createRenderScreenPointArray3 as o,createScreenPointArray as r}from\"../../../../core/screenUtils.js\";import{i as a,s as n,b as h,n as c,f as l,l as m,a as _}from\"../../../../chunks/vec2.js\";import{b as u}from\"../../../../chunks/vec3.js\";import{c as p}from\"../../../../chunks/vec3f64.js\";import{screenSpaceTangent as d}from\"../measurementTools/support/viewUtils.js\";import{VisualElement as x}from\"./VisualElement.js\";import f from\"../../../overlay/LineOverlayItem.js\";import b from\"../../../overlay/TextOverlayItem.js\";class v extends x{constructor(e){super(e.view),this._handles=new t,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text=null,this._fontSize=14,this._distance=25,this._anchor=\"right\",this.applyProps(e)}get geometry(){return this._geometry}set geometry(t){this._geometry=t,this._updateLabelPosition()}get textItem(){return this._textItem}get text(){return this._text}set text(t){this._text=t,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize=t,this.attached&&(this._textItem.fontSize=this._fontSize)}get distance(){return this._distance}set distance(t){this._distance!==t&&(this._distance=t,this._updateLabelPosition())}get anchor(){return this._anchor}set anchor(t){this._anchor!==t&&(this._anchor=t,this._updateLabelPosition())}overlaps(t){return!!this.attached&&(this.textItem.visible&&t.textItem.visible&&this.view.overlay.overlaps(this._textItem,t.textItem))}_updateLabelPosition(){if(this.attached){if(this._showText=!1,this._showCallout=!1,e(this.geometry)&&this.view._stage)switch(this.geometry.type){case\"point\":if(this._computeLabelPositionFromPoint(this.geometry.point,k)){if(this.geometry.callout){const t=this.view.state.camera,e=this.geometry.callout.distance;a(R,R,[0,this.geometry.callout.offset]),t.renderToScreen(R,k),n(j,0,1),h(j,j,e*t.pixelRatio),a(j,j,R),t.renderToScreen(j,z),this._showCallout=this._updatePosition(k,z)}else this._textItem.position=[k[0],k[1]],this._textItem.anchor=\"center\";this._showText=!0}break;case\"corner\":this._computeLabelPositionFromCorner(this.geometry,this._distance,k,z)&&(this._showCallout=this._updatePosition(k,z),this._showText=!0);break;case\"segment\":this._computeLabelPositionFromSegment(this.geometry,this._distance,this._anchor,k,z)&&(this._showText=!0,this._showCallout=this._updatePosition(k,z))}this.updateVisibility(this.visible)}}_computeLabelPositionFromPoint(t,e){const s=this.view.state.camera;return s.projectToRenderScreen(t,R),!(R[2]<0||R[2]>1)&&(s.renderToScreen(R,e),!0)}_computeLabelPositionFromCorner(t,e,s,i){if(!t)return!1;const o=this.view.state.camera;return w(t.left,1,o,P),c(P,P),w(t.right,0,o,T),a(j,P,T),c(j,j),l(j,j),o.projectToRenderScreen(t.left.endRenderSpace,R),!(R[2]<0||R[2]>1)&&(o.renderToScreen(R,s),h(j,j,e*o.pixelRatio),a(j,j,R),o.renderToScreen(j,i),!0)}_computeLabelPositionFromSegment(t,e,s,i,o){if(!t)return!1;const r=t.segment,l=this.view.state.camera;d(r.startRenderSpace,r.endRenderSpace,P,l),n(j,-P[1],P[0]);let _=!1;switch(s){case\"top\":_=j[1]<0;break;case\"bottom\":_=j[1]>0;break;case\"left\":_=j[0]>0;break;case\"right\":_=j[0]<0}if(_&&c(j,j),0===m(j))switch(s){case\"top\":j[1]=1;break;case\"bottom\":j[1]=-1;break;case\"left\":j[0]=-1;break;case\"right\":j[0]=1}return r.eval(O[t.sampleLocation],L),l.projectToRenderScreen(L,R),!(R[2]<0||R[2]>1)&&(l.renderToScreen(R,i),h(j,j,e*l.pixelRatio),a(j,j,R),l.renderToScreen(j,o),!0)}_updatePosition(t,e){if(e){const s=e[0]-t[0],i=e[1]-t[1];return this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(s)>Math.abs(i)?s>0?\"left\":\"right\":i>0?\"top\":\"bottom\",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],!0}return this._textItem.position=[t[0],t[1]],this._textItem.anchor=\"center\",!1}createResources(){this._textItem=new b({visible:!0}),this._textItem.text=s(this._text),this._textItem.fontSize=this._fontSize,this._calloutItem=new f({visible:!0,width:2}),this._updateLabelPosition(),this.view.overlay.items.addMany([this._textItem,this._calloutItem]),this._handles.add(this.view.state.watch(\"camera\",(()=>this._updateLabelPosition())))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(t){this._textItem.visible=this._showText&&t,this._calloutItem.visible=this._showCallout&&t}}function w(t,e,s,i){t.eval(e,y,S),u(I,y,S),s.projectToRenderScreen(y,C),s.projectToRenderScreen(I,M),_(i,V,F),l(i,i)}function g(t){switch(t){case\"top\":return\"bottom\";case\"right\":return\"left\";case\"bottom\":return\"top\";case\"left\":return\"right\"}}const y=p(),I=p(),S=p(),P=i(),T=i(),j=i(),L=p(),R=o(),k=r(),z=r(),C=o(),F=C,M=o(),V=M,O={start:0,center:.5,end:1};export{v as LabelVisualElement,g as mirrorPosition,w as screenSpaceTangent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as u}from\"../../../chunks/mat3.js\";import{c as _}from\"../../../chunks/mat3f64.js\";import{d as g,h as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as v}from\"../../../chunks/mat4f64.js\";import{j as b}from\"../../../chunks/vec2.js\";import{b as y,t as j,m as L,a as S,g as R,h as w,s as O,f as T}from\"../../../chunks/vec3.js\";import{c as E,Z as A}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeLatLonToENURotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as P}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as I}from\"../../../geometry/support/aaBoundingRect.js\";import{distance2 as M,fromPoints as C,closestRayDistance2 as x,create as B}from\"../../../geometry/support/lineSegment.js\";import{fromPositionAndNormal as W,intersectRay as V,create as H}from\"../../../geometry/support/plane.js\";import{create as U}from\"../../../geometry/support/ray.js\";import{sv3d as G}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as Z}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as q}from\"../support/ElevationProvider.js\";import{fromScreen as J}from\"../support/geometryUtils/ray.js\";import K from\"../webgl-engine/lib/Camera.js\";import{Object3D as N}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import X from\"../../../geometry/Point.js\";class Y{constructor(e){this.idHint=0,this.camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=v(),this._worldFrame=null,this._renderLocation=E(),this._renderLocationDirty=!0,this._location=new X({x:0,y:0,z:0}),this._elevationAlignedLocation=new X,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){$(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=v()),ee(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){Z(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Z(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if($(this._modelTransform)){const t=this._calculateModelTransformOffset(_e);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,te),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(b(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ne),a=r*this.screenLocation.pixelSize,c=J(this.camera,s,se);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],i);for(let t=1;t<s.length;t++){const o=L(le,s[t],i),r=x(C(e,o,ie),c);if(null!=r&&r<a*a){const t=y(G.get(),e,o);S(t,t,.5);const i=h(G.get());return this.camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:A,i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,ne),l=r*this.screenLocation.pixelSize,h=J(this.camera,s,se);if(o(h))return null;const d=u(oe,c),_=j(de,e,d),g=L(ue,t,c);W(g,_,ae);const m=he;if(V(ae,h,m)&&w(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,ne),c=r*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=J(this.camera,s,se);if(o(l))return null;const d=u(oe,a),_=j(de,t,d),g=this._calculateModelTransformPosition(ue);W(g,_,ae);const m=he;if(!V(ae,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],a);for(let t=1;t<s.length;t++){const i=L(le,s[t],a),o=M(C(e,i,ie),m);if(null!=o&&o<c*c){const t=y(G.get(),e,i);S(t,t,.5);const s=h(G.get());return this.camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:1});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new X({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,ge,e.spatialReference),I(e.extent,ge)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(q(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(q(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(q(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ne;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=!(0!=(15&r))||(s&r)==(15&r),i=!(0!=(65520&r))||(this.state&r)==(65520&r);if(e&&i)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new N({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function $(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ee(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=P(e.renderCoordsHelper.spatialReference);return z(t,0,ce,0,o.radius),k(i(ce[1]),i(ce[0]),s),!0}}}const te=a(),ie=B(),se=U(),oe=_(),re=v(),ne=v(),ae=H(),ce=E(),le=E(),he=E(),de=E(),ue=E(),_e=E(),ge=new X({x:0,y:0,z:0,spatialReference:null});export{Y as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{c as r}from\"../../../../chunks/vec4f64.js\";import{bindScreenSizeScalingUniforms as i}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as o}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as s,bindView as a,bindCameraPosition as n}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{ShaderTechniqueConfiguration as d,parameter as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{Program as b}from\"../lib/Program.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{makePipelineState as v,cullingParams as y,defaultDepthWriteParams as T,defaultColorWriteParams as E}from\"../../../webgl/renderState.js\";class S extends p{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new b(e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;s(this.program,r.camera.projectionMatrix),this.program.setUniform4fv(\"color\",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),o(this.program,r)),a&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(w,l,n)),this.program.setUniform3fv(\"shadingDirection\",p),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix)),t&&i(this.program,e,r)}bindDraw(e){a(this.program,e),n(this.program,e.origin,e.camera.viewInverseTransposeMatrix),t(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return v({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:y(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&T:u(e),colorWrite:E,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}S.shader=new l(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends d{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([c({count:8})],j.prototype,\"output\",void 0),e([c({count:3})],j.prototype,\"cullFace\",void 0),e([c()],j.prototype,\"slicePlaneEnabled\",void 0),e([c()],j.prototype,\"transparent\",void 0),e([c()],j.prototype,\"writeDepth\",void 0),e([c()],j.prototype,\"screenSizeEnabled\",void 0),e([c()],j.prototype,\"shadingEnabled\",void 0),e([c({count:4})],j.prototype,\"transparencyPassType\",void 0),e([c()],j.prototype,\"multipassTerrainEnabled\",void 0),e([c()],j.prototype,\"cullAboveGround\",void 0);const P=new Map([[\"position\",0],[\"normal\",1],[\"offset\",2]]),w=r();export{S as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as i}from\"../../../../chunks/vec3.js\";import{c as s}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{Material as h,materialParametersDefaults as f}from\"../lib/Material.js\";import{assert as l}from\"../lib/Util.js\";import{writeDefaultAttributes as p,writePosition as m}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as d}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as b,ShadedColorMaterialVertexAttrLocations as g,ShadedColorMaterialTechnique as q}from\"../shaders/ShadedColorMaterialTechnique.js\";class v extends h{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new b,this._vertexAttributeLocations=g}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.params.cullFace,this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled,this.techniqueConfig.transparent=this.params.transparent,this.techniqueConfig.writeDepth=this.params.writeDepth,this.techniqueConfig.screenSizeEnabled=this.params.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.params.shadingEnabled,this.techniqueConfig.transparencyPassType=t?t.transparencyPassType:3,this.techniqueConfig.multipassTerrainEnabled=!!t&&t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=!!t&&t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.params}intersect(e,s,o,u,c,h,f){if(this.params.screenSizeEnabled){const o=e.vertexAttributes.get(\"offset\"),l={applyToVertex:(e,s,a,n)=>{const c=t(P,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),h=t(x,e,s,a);return r(c,c,this.params.screenSize*u.camera.computeRenderPixelSizeAt(c)),i(h,h,c),[h[0],h[1],h[2]]},applyToAabb:e=>{const t=a(e,P);return n(e,this.params.screenSize*u.camera.computeRenderPixelSizeAt(t))}};d(e,s,u,c,h,l,f)}else d(e,s,u,c,h,void 0,f)}getGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new E(e):void 0}createBufferWriter(){return new S(this.params.screenSizeEnabled)}}class E extends c{constructor(e){super(e),this.updateParameters()}updateParameters(e){this._technique=this._techniqueRep.releaseAndAcquire(q,this._material.getTechniqueConfig(this._output,e),this._technique)}beginSlot(e){if(4===this._output)return 3===e;let t=3;return this._technique.configuration.transparent&&(t=this._technique.configuration.writeDepth?5:8),e===t}ensureParameters(e){this.updateParameters(e)}bind(e){this._technique.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(s(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class S{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,i){if(p(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const s=t.vertexAttributes.get(\"offset\"),a=t.indices.get(\"offset\");l(3===s.size);const n=r.getField(\"offset\",o);if(!n)throw new Error(\"unable to acquire view for offset\");m(a,s.data,e.invTranspTransformation,n,i)}}}}const P=s(),x=s();export{v as ShadedColorMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/mat4.js\";import{f as n,c as o,m as c,n as a}from\"../../../chunks/vec3.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as l}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as u}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4,r=!0){const n=i(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new h({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t}):new f({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=i(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new u({view:e,renderObjects:[{geometry:g.createSphereGeometry(1,32,32),material:d(i(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,a,i){const m=n(s.get(),e,a),u=b(m,o(s.get(),i,m),a,l.get());r(u,u);const p=c(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,n){const c=a(s.get(),e),i=a(s.get(),t),l=o(s.get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:F(r,n.geometry)}function F(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:p(r);t(n)||(e.location=m(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,v as placeAtGraphic};\n"],"sourceRoot":""}