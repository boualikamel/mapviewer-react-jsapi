{"version":3,"sources":["../node_modules/@arcgis/core/views/2d/engine/RasterBitmap.js","../node_modules/@arcgis/core/views/2d/engine/RasterTile.js","../node_modules/@arcgis/core/views/2d/engine/RasterTileContainer.js","../node_modules/@arcgis/core/views/layers/ImageryTileLayerView.js","../node_modules/@arcgis/core/views/2d/layers/ImageryTileLayerView2D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/layers/support/ClipRect.js","../node_modules/@arcgis/core/views/layers/support/ClipArea.js","../node_modules/@arcgis/core/views/layers/support/Geometry.js","../node_modules/@arcgis/core/views/layers/support/Path.js","../node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/renderers/support/clickToleranceUtils.js","../node_modules/@arcgis/core/views/support/drapedUtils.js","../node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js","../node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js"],"names":["_","bandCount","outMin","outMax","minCutOff","maxCutOff","factor","useGamma","gamma","gammaCorrection","colormap","colormapOffset","type","x","t","e","s","_textureInvalidated","_memoryUsed","_supportsBilinear","stencilRef","coordScale","_symbolizerParameters","height","isRendereredSource","pixelRatio","resolution","rotation","_source","rawPixelData","_suspended","_bandIds","_interpolation","_transformGrid","width","y","transforms","dvs","o","source","transformGrid","interpolation","this","getTextures","textures","forEach","dispose","_rasterTexture","_transformGridTexture","_colormapTexture","_rasterTextureBandIds","stage","ready","requestRender","invalidateTexture","setSamplingMode","toScreenNoRotation","n","l","h","d","m","Math","PI","u","r","i","a","displayViewMat3","push","names","map","descriptor","reduce","context","pixels","length","_createOrDestroyRasterTexture","_updateColormapTexture","setData","suspended","bandIds","join","capabilities","textureFloat","textureFloatLinear","_colormap","symbolizerParameters","some","bitmap","once","destroy","getMemoryUsage","arguments","isCustomTilingScheme","_getTileBounds","_tileInfoView","tileInfo","size","registerRenderPass","name","brushes","raster","target","children","drawPhase","MAP","visible","getTileBounds","world","spatialReference","lodAt","level","p","_rasterFieldPrefix","layer","view","fullExtent","datumTransformation","renderer","dynamicRangeAdjustment","Promise","reject","popupEnabled","popupTemplate","identify","value","f","hasStandardTime","getStandardTimeValue","ObjectId","_formatAttributeValue","rasterInfo","c","attributeTable","features","filter","attributes","Value","VALUE","String","hasOwnProperty","clone","sourceLayer","_set","resolve","fieldInfos","_getFieldInfo","format","trim","indexOf","_formatDelimitedString","_formatNumberFromString","toLowerCase","fieldName","replace","split","Number","isNaN","prototype","readOnly","V","getLogger","L","q","_tileStrategy","_fetchQueue","_blockCacheRegistryUrl","_blockCacheRegistryId","_bitmapView","_emptyTilePixelBlock","_srcResolutions","_previousLOD","_needBlockCacheUpdate","_globalSymbolizerParams","_symbolizerParams","_abortController","_globalUpdateRequested","_isCustomTilingScheme","useWebGLForProcessing","_redrawOrRefreshDebounced","Date","now","doRefresh","_redrawImage","updateFullExtent","addResolvingPromise","_get","useProgressiveUpdate","removeAllChildren","_getCacheSize","S","cachePolicy","acquireTile","releaseTile","cacheSize","tileInfoView","requestUpdate","toMap","geometry","pause","state","update","resume","extent","scale","getClosestInfoForScale","toJSON","k","fromJSON","ioConfig","sampling","_updateSymbolizerParams","updateCacheSize","notifyChange","increaseRasterJobHandlerUsage","z","supportsTextureFloat","allowPartialFill","_initializeTileInfo","R","_computeFetchConcurrency","C","concurrency","process","fetchTile","I","container","addChild","handles","add","_canUseMajorityInterpolationOnDataSource","catch","error","_updateBlockCacheRegistry","remove","decreaseRasterJobHandlerUsage","clear","hasTilingEffects","abort","signal","then","updateRenderer","reset","tiles","_enqueueTileFetch","createTile","getTileCoords","key","getTileResolution","id","removeChild","_canUseWebGLForProcessing","registryId","requestRawData","srcResolution","row","col","symbolizer","canRenderInWebGL","j","xmin","ymax","w","scales","srcResolutions","create","origin","storageInfo","blockBoundary","maxCol","minCol","maxRow","minRow","has","moving","pixelBlock","applyRenderer","_createEmptyTilePixelBlock","_getLayerInterpolation","_updateGlobalSymbolizerParams","Uint8Array","mask","pixelType","fetchPixels","generateWebGLParameters","isGCS","isGeographic","round","url","multidimensionalDefinition","multidimensionalInfo","getSliceIndex","b","g","colorRamp","U","T","P","v","D","parent","when","title","declaredClass","get","canResume","getSuspendInfo","legendEnabled","updatingHandles","updating","isUpdating","_override","_clearOverride","suspendInfo","viewNotReady","loaded","layerNotLoaded","layerInvisible","EventedMixin","Boolean","left","right","top","bottom","json","write","base","typeMap","polygon","types","read","path","ofType","rect","clips","attached","lastUpdateId","updateRequested","fadeTransitionEnabled","opacity","blendMode","effect","on","whenLayerView","destroyed","attach","detach","minScale","maxScale","isFulfilled","isResolved","isVisibleAtScale","set","sortChildren","setStencilReference","requiredLevel","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","setTransform","xoffset","max","abs","yoffset","stops","maxSize","minSize","floor","event","pointerType","visualVariables","symbol","uniqueValueInfos","classBreakInfos","overlayPixelSizeInMapUnits","basemapSpatialReference","equals","min","ymin","xmax","intersects","isWGS84","isWebMercator","cols","rows","M","center","W","normalize","apply","wkid","N","originX","halfWorldWidth","pyramidsInfo","nativePixelSize","maximumPyramidLevel","blockWidth","pyramidScalingFactor","transform","ceil","resolutionX","datsetColumnCount","worldColumnCountFromOrigin","leftMargin","rightPadding","originColumnOffset","hasGCSSShiftTransform","G","inverseTransform","NaN","Float32Array","offsets","coefficients","spacing","pixelSize","pyramidResolutions","pyramidLevel","pyramidResolution","excessiveReading","log","LN2","projectedPixelSize","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","_timer","_cachedBlocks","Map","_size","_duration","_interval","refCount","delete","controller","ts","block","updateTimer","clearTimer","setInterval","Array","from","clearInterval","cache","decreaseRefCount","getBlock","isRejected","putBlock","deleteBlock","Set","B","pyramidBlockWidth","pyramidBlockHeight","blockHeight","$","H","E"],"mappings":"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","file":"static/js/27.e7fb597c.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isNone as t}from\"../../../core/maybe.js\";import{b as e,c as s,r,k as i,m as a}from\"../../../chunks/mat3.js\";import{c as o}from\"../../../chunks/mat3f32.js\";import{f as u}from\"../../../chunks/vec2f32.js\";import{extractBands as n}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{DisplayObject as l}from\"./DisplayObject.js\";import{createTransformTexture as h,createRasterTexture as d,createColormapTexture as m}from\"../../webgl/rasterUtils.js\";const _={bandCount:3,outMin:0,outMax:1,minCutOff:[0,0,0],maxCutOff:[255,255,255],factor:[1/255,1/255,1/255],useGamma:!1,gamma:[1,1,1],gammaCorrection:[1,1,1],colormap:null,colormapOffset:null,type:\"stretch\"};class x extends l{constructor(t=null,e=null,s=null){super(),this._textureInvalidated=!0,this._memoryUsed=null,this._supportsBilinear=!0,this.stencilRef=0,this.coordScale=[1,1],this._symbolizerParameters=null,this.height=null,this.isRendereredSource=!1,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this.rawPixelData=null,this._suspended=!1,this._bandIds=null,this._interpolation=null,this._transformGrid=null,this.width=null,this.x=0,this.y=0,this.transforms={dvs:o()},this.source=t,this.transformGrid=e,this.interpolation=s}destroy(){const t=this.getTextures();null==t||t.textures.forEach((t=>t.dispose())),this._rasterTexture=null,this._transformGridTexture=null,this._colormapTexture=null}get symbolizerParameters(){return this._symbolizerParameters||_}set symbolizerParameters(t){this._symbolizerParameters=t}get source(){return this._source}set source(t){this._source=t,this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._memoryUsed=null)}get suspended(){return this._suspended}set suspended(t){this._suspended&&!t&&this.stage&&(this.ready(),this.requestRender()),this._suspended=t}get bandIds(){return this._bandIds}set bandIds(t){this._bandIds=t,this.invalidateTexture()}get interpolation(){return this._interpolation}set interpolation(t){this._interpolation=t,this._rasterTexture&&this._rasterTexture.setSamplingMode(!this._supportsBilinear||\"bilinear\"!==t&&\"cubic\"!==t?9728:9729)}get transformGrid(){return this._transformGrid}set transformGrid(t){this._transformGrid=t,this._transformGridTexture&&(this._transformGridTexture.dispose(),this._transformGridTexture=null,this._memoryUsed=null)}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this.requestRender())}setTransform(t){const o=e(this.transforms.dvs),[n,l]=t.toScreenNoRotation([0,0],this.x,this.y),h=this.resolution/this.pixelRatio/t.resolution,d=h*this.width,m=h*this.height,_=Math.PI*this.rotation/180;s(o,o,u(n,l)),s(o,o,u(d/2,m/2)),r(o,o,-_),s(o,o,u(-d/2,-m/2)),i(o,o,u(d,m)),a(this.transforms.dvs,t.displayViewMat3,o)}getTextures(){if(!this._rasterTexture)return null;const t=[],e=[];return this._transformGridTexture&&(e.push(this._transformGridTexture),t.push(\"u_transformGrid\")),this._rasterTexture&&(e.push(this._rasterTexture),t.push(\"u_image\")),this._colormapTexture&&(e.push(this._colormapTexture),t.push(\"u_colormap\")),{names:t,textures:e}}getMemoryUsage(){if(t(this._memoryUsed)){const t=this.getTextures();if(null==t)return 0;this._memoryUsed=t.textures.map((t=>t.descriptor.width*t.descriptor.height*4)).reduce(((t,e)=>t+e))}return this._memoryUsed}onAttach(){this.invalidateTexture()}onDetach(){this.invalidateTexture()}updateTexture({context:t}){var e,s,r;if(!this.stage)return null==(e=this._rasterTexture)||e.dispose(),null==(s=this._transformGridTexture)||s.dispose(),null==(r=this._colormapTexture)||r.dispose(),this._rasterTexture=null,this._rasterTextureBandIds=null,this._transformGridTexture=null,void(this._colormapTexture=null);if(!this._textureInvalidated)return;this._textureInvalidated=!1;const i=this.source,a=i&&i.pixels&&i.pixels.length>0;this._createOrDestroyRasterTexture(t),this._rasterTexture&&(a?(this._updateColormapTexture(t),this.transformGrid&&!this._transformGridTexture&&(this._transformGridTexture=h(t,this.transformGrid))):this._rasterTexture.setData(null)),this.suspended||(this.ready(),this.requestRender())}_createOrDestroyRasterTexture(t){var e,s;const r=this.source?n(this.source,this.bandIds):null;if(!(r&&r.pixels&&r.pixels.length>0))return void(this._rasterTexture&&(this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null));const i=null==this._rasterTextureBandIds&&null==this.bandIds||this._rasterTextureBandIds&&this.bandIds&&this._rasterTextureBandIds.join(\"\")===this.bandIds.join(\"\");if(this._rasterTexture){if(i)return;this._rasterTexture.dispose(),this._rasterTextureBandIds=null,this._rasterTexture=null}const a=this.interpolation||\"nearest\",o=this.isRendereredSource||!(null!=(e=t.capabilities.textureFloat)&&e.textureFloat);this._rasterTexture=d(t,r,a,o),this._supportsBilinear=null==(s=t.capabilities.textureFloat)?void 0:s.textureFloatLinear,this._rasterTextureBandIds=this.bandIds?[...this.bandIds]:null}_updateColormapTexture(t){const e=this._colormap,s=this.symbolizerParameters.colormap;return s?e?s.length!==e.length||s.some(((t,s)=>t!==e[s]))?(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),this._colormapTexture=m(t,s),void(this._colormap=s)):void 0:(this._colormapTexture=m(t,s),void(this._colormap=s)):(this._colormapTexture&&(this._colormapTexture.dispose(),this._colormapTexture=null),void(this._colormap=null))}}export{x as RasterBitmap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{RasterBitmap as t}from\"./RasterBitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class e extends s{constructor(s,e,i,a=null){super(s,e,i),this.bitmap=new t(a,null,null),this.bitmap.coordScale=i,this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy(),this.bitmap=null,this.stage=null}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}getMemoryUsage(){return this.bitmap.getMemoryUsage()}setTransform(t,s){super.setTransform(t,s),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap.stage=null}}export{e as RasterTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{getWorldWidth as s}from\"../viewpointUtils.js\";import{brushes as t}from\"./brushes.js\";import{RasterTile as i}from\"./RasterTile.js\";import{WGLDrawPhase as r}from\"./webgl/enums.js\";import o from\"./webgl/TileContainer.js\";class n extends o{constructor(){super(...arguments),this.isCustomTilingScheme=!1}createTile(e){const s=this._getTileBounds(e);return new i(e,s,this._tileInfoView.tileInfo.size)}destroyTile(){}prepareRenderPasses(e){const s=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[t.raster],target:()=>this.children.map((e=>e.bitmap)),drawPhase:r.MAP});return[...super.prepareRenderPasses(e),s]}doRender(e){this.visible&&e.drawPhase===r.MAP&&super.doRender(e)}_getTileBounds(t){const i=this._tileInfoView.getTileBounds(e(),t);if(this.isCustomTilingScheme&&t.world){const{tileInfo:e}=this._tileInfoView,r=s(e.spatialReference);if(r){const{resolution:s}=e.lodAt(t.level),o=r/s%e.size[0],n=o?(e.size[0]-o)*s:0;i[0]-=n*t.world,i[2]-=n*t.world}}return i}}export{n as RasterTileContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Graphic.js\";import r from\"../../core/Error.js\";import{isSome as i}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{getDefaultDatumTransformationForDataset as a,projectExtent as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{getFetchPopupTemplate as l}from\"./support/popupUtils.js\";const p=p=>{let u=class extends p{constructor(){super(...arguments),this._rasterFieldPrefix=\"Raster.\",this.layer=null,this.view=null,this.fullExtent=null,this.tileInfo=null,this.datumTransformation=null}get hasTilingEffects(){return this.layer.renderer&&\"dynamicRangeAdjustment\"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment}async fetchPopupFeatures(e,o){const{layer:s}=this;if(!e)return Promise.reject(new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s}));const{popupEnabled:a}=s,n=l(s,o);if(!a||!i(n))throw new r(\"imageryTileLayerView:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:n});const p=[],{value:u}=await s.identify(e);let f=\"\";if(u&&u.length){var m,c;f=\"imagery-tile\"===s.type&&s.hasStandardTime()&&null!=u[0]?u.map((e=>s.getStandardTimeValue(e))).join(\", \"):u.join(\", \");const e={ObjectId:0},r=\"Raster.ServicePixelValue\";e[r]=this._formatAttributeValue(f,r);const i=null==(m=s.rasterInfo)||null==(c=m.attributeTable)?void 0:c.features;if(i&&i.length>0){const t=i.filter((e=>{const t=e.attributes.value||e.attributes.Value||e.attributes.VALUE;return String(t)===f}));if(t.length>0){const r=t[0];if(r)for(const t in r.attributes)if(r.attributes.hasOwnProperty(t)){const i=this._rasterFieldPrefix+t;e[i]=this._formatAttributeValue(r.attributes[t],i)}}}const o=new t(this.fullExtent.clone(),null,e);o.layer=s,o.sourceLayer=o.layer,p.push(o)}return p}updateFullExtent(){const e=this.layer.tileInfo;let t;e&&e.spatialReference||(t=new r(\"layerview:tiling-information-missing\",\"The layer doesn't provide tiling information\",{layer:this.layer}));const i=a(this.layer.fullExtent,this.view.spatialReference,!1),o=n(this.layer.fullExtent,this.view.spatialReference,i);return null==o&&(t=new r(\"layerview:projection-not-supported\",\"The layer extent cannot be projected to the view's spatial reference\",{layer:this.layer})),this._set(\"fullExtent\",o),this.datumTransformation||(this.datumTransformation=a(this.layer.fullExtent,this.view.spatialReference,!0)),t?Promise.reject(t):Promise.resolve()}_formatAttributeValue(e,t){if(\"string\"==typeof e){const r=this.layer.popupTemplate&&this.layer.popupTemplate.fieldInfos,i=this._getFieldInfo(r,t),o=i&&i.format;if(o){let t,r;return e.trim().indexOf(\",\")>-1?(t=\",\",r=t+\" \",this._formatDelimitedString(e,t,r,o)):e.trim().indexOf(\" \")>-1?(t=r=\" \",this._formatDelimitedString(e,t,r,o)):this._formatNumberFromString(e,o)}}return e}_getFieldInfo(e,t){if(!e||!e.length||!t)return;const r=t.toLowerCase();let i;return e.some((e=>!(!e.fieldName||e.fieldName.toLowerCase()!==r&&e.fieldName.toLowerCase()!==r.replace(/ /g,\"_\"))&&(i=e,!0))),i}_formatDelimitedString(e,t,r,i){return e&&t&&r&&i?e.trim().split(t).map((e=>this._formatNumberFromString(e,i))).join(r):e}_formatNumberFromString(e,t){if(!e||!t)return e;const r=Number(e);return isNaN(r)?e:t.format(r)}};return e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullExtent\",void 0),e([o()],u.prototype,\"tileInfo\",void 0),e([o({readOnly:!0})],u.prototype,\"hasTilingEffects\",null),u=e([s(\"esri.views.layers.ImageryTileLayerView\")],u),u};export default p;export{p as ImageryTileLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Logger.js\";import{isNone as s,unwrap as r}from\"../../../core/maybe.js\";import{debounce as a,isAbortError as o,createAbortController as l,eachAlways as n}from\"../../../core/promiseUtils.js\";import{createScreenPoint as h}from\"../../../core/screenUtils.js\";import{watch as c}from\"../../../core/watchUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../layers/support/PixelBlock.js\";import d from\"../../../layers/support/TileInfo.js\";import{update as y,unregister as _,register as g,getRasterId as b}from\"../../../layers/support/rasterDatasets/RawBlockCache.js\";import{extractBands as f}from\"../../../layers/support/rasterFunctions/pixelUtils.js\";import{computeProjectedScales as w}from\"../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{RasterTileContainer as I}from\"../engine/RasterTileContainer.js\";import{LayerView2DMixin as P}from\"./LayerView2D.js\";import R from\"../tiling/TileInfoView.js\";import C from\"../tiling/TileQueue.js\";import S from\"../tiling/TileStrategy.js\";import{ImageryTileLayerView as U}from\"../../layers/ImageryTileLayerView.js\";import v from\"../../layers/LayerView.js\";import{RefreshableLayerView as T}from\"../../layers/RefreshableLayerView.js\";import{createQueryGeometry as x}from\"../../support/drapedUtils.js\";import z from\"../../webgl/capabilities.js\";import k from\"../../../geometry/Extent.js\";import j from\"../../../geometry/Point.js\";const V=i.getLogger(\"esri.views.2d.layers.ImageryTileLayerView2D\"),L=[0,0];let q=class extends(U(T(P(v)))){constructor(){super(...arguments),this._tileStrategy=null,this._tileInfoView=null,this._fetchQueue=null,this._blockCacheRegistryUrl=null,this._blockCacheRegistryId=null,this._bitmapView=null,this._emptyTilePixelBlock=null,this._srcResolutions=null,this._previousLOD=null,this._needBlockCacheUpdate=!1,this._globalSymbolizerParams=null,this._symbolizerParams=null,this._abortController=null,this._globalUpdateRequested=!1,this._isCustomTilingScheme=!1,this.useWebGLForProcessing=!0,this._redrawOrRefreshDebounced=a(((e,t)=>e?(this._set(\"refreshTimestamp\",Date.now()),this.doRefresh()):this._redrawImage(t)))}initialize(){const e=this.updateFullExtent();this.addResolvingPromise(e)}get useProgressiveUpdate(){return null==this._get(\"useProgressiveUpdate\")||this._get(\"useProgressiveUpdate\")}set useProgressiveUpdate(e){if(this._tileStrategy&&this.useProgressiveUpdate!==e){this._tileStrategy.destroy(),this._bitmapView.removeAllChildren();const t=this._getCacheSize(e);this._tileStrategy=new S({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._set(\"useProgressiveUpdate\",e),this.requestUpdate()}}hitTest(e,i){if(this.suspended)return Promise.resolve(null);const s=this.view.toMap(h(e,i));return Promise.resolve(new t({attributes:{},geometry:s}))}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume();const{extent:t,resolution:i,scale:s}=e.state,r=this._tileInfoView.getClosestInfoForScale(s);if(this.layer.raster){var a;if(!this.useProgressiveUpdate||this._needBlockCacheUpdate){const e=this._srcResolutions[r.level],s=t.toJSON?t:k.fromJSON(t);y(this._blockCacheRegistryUrl,this._blockCacheRegistryId,s,i,e,this.layer.raster.ioConfig.sampling)}this._needBlockCacheUpdate=!1,(null==(a=this._previousLOD)?void 0:a.level)!==r.level&&(this._previousLOD=r,null!=this._symbolizerParams&&this._updateSymbolizerParams(),this._tileStrategy.updateCacheSize(0))}this.notifyChange(\"updating\")}attach(){this.layer.increaseRasterJobHandlerUsage(),z().supportsTextureFloat||(this.useWebGLForProcessing=!1),this.layer.raster&&(this.layer.raster.ioConfig.allowPartialFill=!0),this._initializeTileInfo(),this._tileInfoView=new R(this.tileInfo,this.fullExtent);const e=this._computeFetchConcurrency();this._fetchQueue=new C({tileInfoView:this._tileInfoView,concurrency:e,process:(e,t)=>this.fetchTile(e,t)});const t=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy=new S({cachePolicy:\"purge\",acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),cacheSize:t,tileInfoView:this._tileInfoView}),this._bitmapView=new I(this._tileInfoView),this._bitmapView.isCustomTilingScheme=this._isCustomTilingScheme,this.container.addChild(this._bitmapView),this.handles.add([c(this.layer,[\"bandIds\",\"renderer\",\"interpolation\",\"multidimensionalDefinition\"],((e,t,i)=>{const s=\"multidimensionalDefinition\"===i,r=\"interpolation\"===i&&(\"majority\"===e||\"majority\"===t)&&this._canUseMajorityInterpolationOnDataSource(),a=s||r;this._redrawOrRefreshDebounced(a).catch((e=>{o(e)||V.error(e)}))}))],\"attach\"),this._updateBlockCacheRegistry()}detach(){this.handles.remove(\"attach\"),this.layer.decreaseRasterJobHandlerUsage(),this._tileStrategy.destroy(),this._fetchQueue.clear(),this.container.removeAllChildren(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null,_(this._blockCacheRegistryUrl,this._blockCacheRegistryId)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){!this.hasTilingEffects&&this.useProgressiveUpdate||(this._abortController&&this._abortController.abort(),this._abortController=l(),0===this._fetchQueue.length&&this._redrawImage(this._abortController.signal).then((()=>{this._globalUpdateRequested=!1,this.requestUpdate()})));const e=this._getCacheSize(this.useProgressiveUpdate);this._tileStrategy.updateCacheSize(e),this.requestUpdate()}createFetchPopupFeaturesQueryGeometry(e,t){return x(e,t,this.view)}async doRefresh(){if(this.suspended)return;this.layer.updateRenderer(),this._updateSymbolizerParams(),this._updateBlockCacheRegistry(!0),this._fetchQueue.reset();const e=[];this._tileStrategy.tiles.forEach((t=>e.push(this._enqueueTileFetch(t)))),await n(e),this.notifyChange(\"updating\")}isUpdating(){return this._fetchQueue.length>0||this._globalUpdateRequested}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(L,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this.requestUpdate(),this._needBlockCacheUpdate=!0,this._globalUpdateRequested=this.hasTilingEffects||!this.useProgressiveUpdate,t}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once(\"detach\",(()=>{e.destroy(),this.requestUpdate()})),this.requestUpdate()}fetchTile(e,t){const i=!s(t)&&t.signal,a=this._canUseWebGLForProcessing(),o={tileInfo:this.tileInfo,signal:r(i),registryId:this._blockCacheRegistryId,requestRawData:a,srcResolution:this._srcResolutions[e.level],datumTransformation:this.datumTransformation,interpolation:a?\"nearest\":this.layer.interpolation};return this.layer.fetchTile(e.level,e.row,e.col,o)}_canUseWebGLForProcessing(){return this.useWebGLForProcessing&&this.layer.symbolizer.canRenderInWebGL&&!(\"majority\"===this.layer.interpolation&&this._canUseMajorityInterpolationOnDataSource())}_getCacheSize(e){return e?40:0}_initializeTileInfo(){const e=this.view.spatialReference,t=new j({x:this.fullExtent.xmin,y:this.fullExtent.ymax,spatialReference:e}),{scales:i,srcResolutions:s,isCustomTilingScheme:r}=w(this.layer.rasterInfo,e),a=d.create({spatialReference:e,size:512,scales:i});(0===a.origin.x||a.origin.x>t.x)&&(a.origin=t),this._isCustomTilingScheme=r,this._set(\"tileInfo\",a),this._srcResolutions=null!=s?s:[]}_computeFetchConcurrency(){const{blockBoundary:e}=this.layer.rasterInfo.storageInfo,t=e[e.length-1];return(t.maxCol-t.minCol+1)*(t.maxRow-t.minRow+1)>64?2:10}async _enqueueTileFetch(e,t){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key),{bandIds:s}=this.layer;let r=!this.useProgressiveUpdate||this.hasTilingEffects&&!this._globalSymbolizerParams;if(this._globalUpdateRequested&&!this.moving&&0===this._fetchQueue.length){r=!1;try{await this._redrawImage(this._abortController&&this._abortController.signal)}catch(i){o(i)&&V.error(i)}this._globalUpdateRequested=!1}const a=this._canUseWebGLForProcessing();if(a&&!this.hasTilingEffects&&null==this._symbolizerParams&&this._updateSymbolizerParams(),t&&t.pixelBlock){const i={extent:t.extent,pixelBlock:t.pixelBlock};if(e.bitmap.rawPixelData=i,a)e.bitmap.source=t.pixelBlock,e.bitmap.isRendereredSource=!1;else{const t=await this.layer.applyRenderer(i,this.hasTilingEffects&&this._globalSymbolizerParams&&\"stretch\"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null);e.bitmap.source=t,e.bitmap.isRendereredSource=!0}e.bitmap.symbolizerParameters=a?this._globalSymbolizerParams||this._symbolizerParams:null,a?e.bitmap.transformGrid||(e.bitmap.transformGrid=t.transformGrid):e.bitmap.transformGrid=null}else{const t=this._createEmptyTilePixelBlock();e.bitmap.source=t,e.bitmap.symbolizerParameters=a?this._symbolizerParams:null,e.bitmap.transformGrid=null}e.bitmap.bandIds=s,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.bitmap.interpolation=this._getLayerInterpolation(),e.bitmap.suspended=r,e.bitmap.invalidateTexture(),e.once(\"attach\",(()=>this.requestUpdate())),this._bitmapView.addChild(e)}catch(i){o(i)||V.error(i)}this.requestUpdate()}}async _redrawImage(e){this.layer.updateRenderer(),this.hasTilingEffects?await this._updateGlobalSymbolizerParams(e):(this._updateSymbolizerParams(),this._globalSymbolizerParams=null);const{bandIds:t}=this.layer,i=this._bitmapView.children.map((async e=>{const i=this._canUseWebGLForProcessing();!i&&e.bitmap.rawPixelData?(e.bitmap.source=await this.layer.applyRenderer(e.bitmap.rawPixelData,this.hasTilingEffects&&this._globalSymbolizerParams&&\"stretch\"===this._globalSymbolizerParams.type?this._globalSymbolizerParams:null),e.bitmap.isRendereredSource=!0):(e.bitmap.isRendereredSource&&e.bitmap.rawPixelData&&(e.bitmap.source=e.bitmap.rawPixelData.pixelBlock),e.bitmap.isRendereredSource=!1),e.bitmap.symbolizerParameters=i?this._globalSymbolizerParams||this._symbolizerParams:null,e.bitmap.bandIds=t,e.bitmap.interpolation=this._getLayerInterpolation(),e.bitmap.suspended=!1}));await n(i),this.container.requestRender()}_createEmptyTilePixelBlock(){if(!this._emptyTilePixelBlock){const e=this._tileInfoView.tileInfo.size[0],t=this._tileInfoView.tileInfo.size[1];this._emptyTilePixelBlock=new p({width:e,height:t,pixels:[new Uint8Array(e*t)],mask:new Uint8Array(e*t),pixelType:\"u8\"})}return this._emptyTilePixelBlock}async _updateGlobalSymbolizerParams(e){const t={srcResolution:this._srcResolutions[this._previousLOD.level],registryId:this._blockCacheRegistryId,signal:e},i=await this.layer.fetchPixels(this.view.extent,this.view.width,this.view.height,t);if(!i||!i.pixelBlock)return;const s=this.layer.symbolizer.generateWebGLParameters({pixelBlock:f(i.pixelBlock,this.layer.bandIds),isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds});!this._canUseWebGLForProcessing()&&s&&\"stretch\"===s.type&&this.layer.renderer&&\"raster-stretch\"===this.layer.renderer.type&&(s.factor=s.factor.map((e=>255*e)),s.outMin=Math.round(255*s.outMin),s.outMax=Math.round(255*s.outMax)),this._globalSymbolizerParams=s}_updateSymbolizerParams(){this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null,isGCS:this.view.spatialReference.isGeographic,resolution:{x:this._previousLOD.resolution,y:this._previousLOD.resolution},bandIds:this.layer.bandIds})}_updateBlockCacheRegistry(e=!1){const{url:t,rasterInfo:i,multidimensionalDefinition:s,raster:r}=this.layer,a=null!=i&&i.multidimensionalInfo?r.getSliceIndex(s):null,o=b(t,a);if(o!==this._blockCacheRegistryUrl){if(null!=this._blockCacheRegistryUrl&&_(this._blockCacheRegistryUrl,this._blockCacheRegistryId),this._blockCacheRegistryId=g(o,this.layer.raster.rasterInfo),e){const e=this._tileInfoView.getClosestInfoForScale(this.view.scale),t=this._srcResolutions[e.level];y(o,this._blockCacheRegistryId,this.view.extent,this.view.resolution,t,this.layer.raster.ioConfig.sampling)}this._blockCacheRegistryUrl=o}}_canUseMajorityInterpolationOnDataSource(){const{bandCount:e,attributeTable:t,colormap:i,pixelType:s}=this.layer.rasterInfo;return 1===e&&(null!=t||null!=i||\"u8\"===s||\"s8\"===s)}_getLayerInterpolation(){const e=this.layer.renderer.type;if(\"raster-colormap\"===e||\"unique-value\"===e||\"class-breaks\"===e)return\"nearest\";const{renderer:t}=this.layer;return\"raster-stretch\"===t.type&&null!=t.colorRamp?\"nearest\":this.layer.interpolation}};e([u()],q.prototype,\"useProgressiveUpdate\",null),q=e([m(\"esri.views.2d.layers.ImageryTileLayerView2D\")],q);var D=q;export default D;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";throw o.getLogger(this.declaredClass).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e),e}}))}get fullOpacity(){const e=e=>null==e?1:e;return e(this.get(\"layer.opacity\"))*e(this.get(\"parent.fullOpacity\"))}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer.legendEnabled}get updating(){return!!(this.updatingHandles&&this.updatingHandles.updating||this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.get(\"layer.visible\")}set visible(e){void 0!==e?this._override(\"visible\",e):this._clearOverride(\"visible\")}canResume(){return!this.get(\"parent.suspended\")&&this.get(\"view.ready\")&&this.get(\"layer.loaded\")&&this.visible||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l()],p.prototype,\"fullOpacity\",null),e([l()],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"parent\",void 0),e([l({readOnly:!0})],p.prototype,\"suspended\",null),e([l({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([l({readOnly:!0})],p.prototype,\"updatingProgress\",null),e([l()],p.prototype,\"visible\",null),p=e([a(\"esri.views.layers.LayerView\")],p);var d=p;export default d;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(){super(...arguments),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}get version(){return(this._get(\"version\")||0)+1}};t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([r({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),t([r({readOnly:!0})],i.prototype,\"version\",null),i=s=t([o(\"esri.views.layers.support.ClipRect\")],i);var p=i;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{};e=r([s(\"esri.views.layers.support.ClipArea\")],e);var p=e;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const n={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let c=y=class extends p{constructor(){super(...arguments),this.type=\"geometry\",this.geometry=null}get version(){return(this._get(\"version\")||0)+1}clone(){return new y({geometry:this.geometry.clone()})}};e([r({types:n,json:{read:s,write:!0}})],c.prototype,\"geometry\",void 0),e([r({readOnly:!0})],c.prototype,\"version\",null),c=y=e([o(\"esri.views.layers.support.Geometry\")],c);var a=c;export default a;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";let t=class extends e{constructor(){super(...arguments),this.type=\"path\",this.path=[]}get version(){return(this._get(\"version\")||0)+1}};r([o({type:[[[Number]]],json:{write:!0}})],t.prototype,\"path\",void 0),r([o({readOnly:!0})],t.prototype,\"version\",null),t=r([s(\"esri.views.layers.support.Path\")],t);var p=t;export default p;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import{init as i}from\"../../../core/watchUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as a}from\"../engine/Container.js\";import p from\"../../layers/support/ClipArea.js\";import h from\"../../layers/support/ClipRect.js\";import n from\"../../layers/support/Geometry.js\";import d from\"../../layers/support/Path.js\";const c=e.ofType({key:\"type\",base:p,typeMap:{rect:h,path:d,geometry:n}}),l=e=>{let p=class extends e{constructor(){super(...arguments),this.clips=new c,this.moving=!1,this.attached=!1,this.lastUpdateId=-1,this.updateRequested=!1}initialize(){var t;this.container||(this.container=new a),this.container.fadeTransitionEnabled=!0,this.container.opacity=0,this.container.clips=this.clips,this.handles.add([i(this,\"suspended\",(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),!0),i(this,[\"layer.opacity\",\"container\"],(()=>{var t,e;this.container&&(this.container.opacity=null!=(t=null==(e=this.layer)?void 0:e.opacity)?t:1)}),!0),i(this,[\"layer.blendMode\"],(t=>{this.container&&(this.container.blendMode=t)}),!0),i(this,[\"layer.effect\"],(t=>{this.container&&(this.container.effect=t)}),!0),this.clips.on(\"change\",(()=>{this.container.clips=this.clips,this.notifyChange(\"clips\")}))]),null!=(t=this.view)&&t.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t!==this||this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{})):this.when().then((()=>{this.attached||this.destroyed||(this.attach(),this.requestUpdate(),this.attached=!0)}),(()=>{}))}destroy(){this.attached&&(this.detach(),this.attached=!1),this.handles.remove(\"initialize\"),this.updateRequested=!1}get updating(){return!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())}isVisibleAtScale(t){let e=!0;const s=this.layer,i=s.minScale,r=s.maxScale;if(null!=i&&null!=r){let s=!i,o=!r;!s&&t<=i&&(s=!0),!o&&t>=r&&(o=!0),e=s&&o}return e}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}isUpdating(){return!1}isRendering(){return!1}canResume(){return!!super.canResume()&&this.isVisibleAtScale(this.view.scale)}};return t([r({type:c,set(t){const e=s(t,this._get(\"clips\"),c);this._set(\"clips\",e)}})],p.prototype,\"clips\",void 0),t([r()],p.prototype,\"moving\",void 0),t([r()],p.prototype,\"attached\",void 0),t([r()],p.prototype,\"container\",void 0),t([r()],p.prototype,\"suspended\",void 0),t([r({readOnly:!0})],p.prototype,\"updateParameters\",void 0),t([r()],p.prototype,\"updateRequested\",void 0),t([r()],p.prototype,\"updating\",null),t([r()],p.prototype,\"view\",void 0),p=t([o(\"esri.views.2d.layers.LayerView2D\")],p),p};export{l as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/has.js\";import{WGLDrawPhase as r}from\"./enums.js\";import s from\"./WGLContainer.js\";import t from\"./brushes/WGLBrushInfo.js\";import n from\"./brushes/WGLBrushStencil.js\";const i=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class o extends s{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(),super.renderChildren(e)}createRenderParams(e){const{state:r}=e;return{...super.createRenderParams(e),requiredLevel:this._tileInfoView.getClosestInfoForScale(r.scale).level,displayLevel:this._tileInfoView.tileInfo.scaleToZoom(r.scale)}}prepareRenderPasses(s){const i=super.prepareRenderPasses(s);return i.push(s.registerRenderPass({name:\"stencil\",brushes:[n],drawPhase:r.DEBUG|r.MAP|r.HIGHLIGHT,target:()=>this.getStencilTarget()})),e(\"esri-tiles-debug\")&&i.push(s.registerRenderPass({name:\"tileInfo\",brushes:[t],drawPhase:r.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}updateTransforms(e){for(const r of this.children){const s=this._tileInfoView.getTileResolution(r.key);r.setTransform(e,s)}}setStencilReference(){let e=1;for(const r of this.children)r.stencilRef=e++}}export default o;export{i as sortByLevel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nfunction t(t,e){return e?\"xoffset\"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):\"yoffset\"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function e(t){let e=0,n=0;for(let r=0;r<t.length;r++){const s=t[r].size;\"number\"==typeof s&&(e+=s,n++)}return e/n}function n(t,n){return\"number\"==typeof t?t:t&&t.stops&&t.stops.length?e(t.stops):n}function r(t,e){if(!e)return t;const r=e.filter((t=>\"size\"===t.type)).map((e=>{const{maxSize:r,minSize:s}=e;return(n(r,t)+n(s,t))/2}));let s=0;const o=r.length;if(0===o)return t;for(let n=0;n<o;n++)s+=r[n];const f=Math.floor(s/o);return Math.max(f,t)}function s(e){const n=e&&e.renderer,s=\"touch\"===(e&&e.event&&e.event.pointerType)?9:6;if(!n)return s;const o=\"visualVariables\"in n?r(s,n.visualVariables):s;if(\"simple\"===n.type)return t(o,n.symbol);if(\"unique-value\"===n.type){let e=o;return n.uniqueValueInfos.forEach((n=>{e=t(e,n.symbol)})),e}if(\"class-breaks\"===n.type){let e=o;return n.classBreakInfos.forEach((n=>{e=t(e,n.symbol)})),e}return n.type,o}export{s as calculateTolerance};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import{isSome as e,isNone as t}from\"../../core/maybe.js\";import{getMetersPerUnitForSR as r}from\"../../core/unitUtils.js\";import{calculateTolerance as n}from\"../../renderers/support/clickToleranceUtils.js\";import i from\"../../geometry/Extent.js\";function a(t,n,a,o=new i){let s;if(\"2d\"===a.type)s=n*a.resolution;else if(\"3d\"===a.type){const i=a.overlayPixelSizeInMapUnits(t),o=a.basemapSpatialReference;s=e(o)&&!o.equals(a.spatialReference)?r(o)/r(a.spatialReference):n*i}const m=t.x-s,p=t.y-s,c=t.x+s,l=t.y+s,{spatialReference:f}=a;return o.xmin=Math.min(m,c),o.ymin=Math.min(p,l),o.xmax=Math.max(m,c),o.ymax=Math.max(p,l),o.spatialReference=f,o}function o(e,r,i){const o=i.toMap(e);if(t(o))return!1;return a(o,n(),i,s).intersects(r)}const s=new i;export{a as createQueryGeometry,o as intersectsDrapedGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import{isSome as n}from\"../../../core/maybe.js\";import{getMetersPerUnitForSR as t}from\"../../../core/unitUtils.js\";import{isLoaded as o,isSupported as r,load as i,getTransformation as a,project as s}from\"../../../geometry/projection.js\";import{project as l}from\"../../../geometry/support/webMercatorUtils.js\";import c from\"../../../geometry/Extent.js\";import x from\"../../../geometry/Point.js\";const m=5e-4,u=function(e,n){const t=(e.isWGS84||e.isWebMercator)&&(n.isWGS84||n.isWebMercator);return!(e.equals(n)||t)},f=function(e,n){const t=(e[0]+e[4]+e[4*n.cols]+e[4*n.cols+4])/4,o=(e[1]+e[5]+e[4*n.rows+1]+e[4*n.rows+5])/4;return[Math.abs(t-e[2*n.rows+2]),Math.abs(o-e[2*n.rows+3])]},p={3395:20037508.342789244,3410:17334193.943686873,3832:3339584.723798206,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,8858:7396237.374497803,8859:2465412.4581659334,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53025:7276828.3848298555,53031:10384677.558821043,53034:20015086.79602057,53036:7389443.187332862,53037:2463147.729110953,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54025:7311399.09166516,54031:10396310.810074743,54034:20037508.342789244,54050:808820.9223376509,54053:1920897.3915568967,54079:20037508.342789244,54080:20037508.342789244,54099:13524439.768288724,54100:20037508.342789244,54101:20037508.342789244,102038:4297258.582585486,102299:5013965.117483125},h=32;async function y(){if(o()||!r())return null;await i()}function M(n,t,r){if(!u(n.spatialReference,t))return null;if(!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");return r?a(t,n.spatialReference,n):a(n.spatialReference,t,n)}function g(n,t,r,i=null){if(n.spatialReference.equals(t))return n;const a=u(n.spatialReference,t);if(a&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const x=r.center,m=new c({xmin:x.x-n.x/2,xmax:x.x+n.x/2,ymin:x.y-n.y/2,ymax:x.y+n.y/2,spatialReference:n.spatialReference}),f=a?s(m,t,i):l(m,t);if(null==f)return null;return{x:f.xmax-f.xmin,y:f.ymax-f.ymin}}function d(e,n=.01){return t(e)?n/t(e):0}function w(n,t,r=null,i=!0){const a=n.spatialReference;if(a.equals(t))return n;const c=u(a,t);if(c&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");const x=c?s(n,t,r):l(n,t);if(x&&i&&t.isGeographic){const[e,t]=v(a,!0),o=d(a);o&&null!=e&&null!=t&&(Math.abs(n.x-e)<o&&Math.abs(180-x.x)<m?x.x-=360:Math.abs(n.x-t)<o&&Math.abs(180+x.x)<m&&(x.x+=360))}return x}function R(e){const t=S(e[0].spatialReference);if(e.length<2||!n(t))return e[0];let{xmin:o,xmax:r,ymin:i,ymax:a}=e[0];for(let n=1;n<e.length;n++){const o=e[n];r=o.xmax+t*n,i=Math.min(i,o.ymin),a=Math.max(a,o.ymax)}return new c({xmin:o,xmax:r,ymin:i,ymax:a,spatialReference:e[0].spatialReference})}function j(e,t,o=null,r=!0){if(e.spatialReference.equals(t))return e;const i=W(e),a=S(e.spatialReference,!0);if(!n(a)||0===i)return b(e,t,o,r);return R(e.clone().normalize().map((e=>b(e,t,o,r))))}function b(n,t,r=null,i=!0){const a=n.spatialReference;if(a.equals(t))return n;const c=u(a,t);if(c&&!o())throw new e(\"rasterprojectionhelper-projectExtent\",\"projection engine is not loaded\");const f=c?s(n,t,r):l(n,t);let[p,h]=v(a,!0);if(f&&i&&a.isWebMercator&&t.isGeographic&&null!=p&&null!=h){const e=.001,o=1e3;if(Math.abs(n.xmin-p)<e&&Math.abs(h-n.xmax)>o&&Math.abs(180-f.xmax)<m){f.xmin=-180;const e=[];e.push(new x(n.xmax,n.ymin,a)),e.push(new x(n.xmax,(n.ymin+n.ymax)/2,a)),e.push(new x(n.xmax,n.ymax,a));const o=e.map((e=>w(e,t,r))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));f.xmax=Math.max.apply(null,o)}if(Math.abs(n.xmax-h)<e&&Math.abs(p-n.xmin)>o&&Math.abs(180+f.xmin)<m){f.xmax=180;const e=[];e.push(new x(n.xmin,n.ymin,a)),e.push(new x(n.xmin,(n.ymin+n.ymax)/2,a)),e.push(new x(n.xmin,n.ymax,a));const o=e.map((e=>w(e,t,r))).filter((e=>!isNaN(null==e?void 0:e.x))).map((e=>e.x));f.xmin=Math.min.apply(null,o)}}[p,h]=v(t,!0);const y=d(t);return y&&null!=p&&null!=h&&(Math.abs(f.xmin-p)<y&&(f.xmin=p),Math.abs(f.xmax-h)<y&&(f.xmax=h)),f}function S(e,n=!1){const t=n?20037508.342787:20037508.342788905;return e.isWebMercator?2*t:e.wkid&&e.isGeographic?360:2*p[e.wkid]||null}function v(e,t=!1){const o=[],r=S(e,t);return n(r)&&(o.push(-r/2),o.push(r/2)),o}function N(e,n,t,o){let r=(e-n)/t;return r-Math.floor(r)!=0?r=Math.floor(r):o&&(r-=1),r}function W(e,t=!1){const o=S(e.spatialReference);if(!n(o))return 0;const r=t?0:-(o/2);return N(e.xmax,r,o,!0)-N(e.xmin,r,o,!1)}function z(e){const t=e.storageInfo.origin.x,o=S(e.spatialReference,!0);if(!n(o))return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const r=o/2,{nativePixelSize:i,storageInfo:a,extent:s}=e,{maximumPyramidLevel:l,blockWidth:c,pyramidScalingFactor:x}=a;let m=i.x;const u=[],f=n(e.transform)&&\"gcs-shift\"===e.transform.type,p=t+r,h=f?o-t:r-t;for(let n=0;n<=l;n++){const e=(s.xmax-t)/m/c,n=e-Math.floor(e)==0?e:Math.ceil(e),r=(o/2-t)/m/c,i=r-Math.floor(r)==0?r:Math.ceil(r),a=Math.floor(p/m/c),l=Math.round(p/m)%c,f=(c-Math.round(h/m)%c)%c;u.push({resolutionX:m,blockWidth:c,datsetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:l,rightPadding:f,originColumnOffset:a}),m*=x}return{originX:t,halfWorldWidth:r,pyramidsInfo:u,hasGCSSShiftTransform:f}}function G(t,r,i,a=null,s=null,l=!1,c=[h,h]){if(u(t.spatialReference,r.spatialReference)&&!o())throw new e(\"rasterprojectionhelper-projectResolution\",\"projection engine is not loaded\");if(!(t&&r&&i))return null;const{xmin:m,ymin:p,xmax:y,ymax:M}=t,g=t.spatialReference,d=r.spatialReference,R=S(d);l=l||\"gcs-shift\"===(null==s?void 0:s.type);const j={x:c[0]*i.x,y:c[1]*i.y},b={cols:Math.ceil((y-m)/j.x-.1)+1,rows:Math.ceil((M-p)/j.y-.1)+1},v=j.x,N=j.y,W=[];let z,G=!1;for(let e=0;e<b.cols;e++){const t=[];for(let o=0;o<b.rows;o++){let i=w(new x({x:m+v*e,y:M-N*o,spatialReference:g}),d,a);s&&(i=s.inverseTransform(i)),t.push(i),e>0&&l&&i&&z[o]&&n(R)&&i.x<z[o].x&&(i.x+=R),i?(W.push((i.x-r.xmin)/(r.xmax-r.xmin)),W.push((r.ymax-i.y)/(r.ymax-r.ymin))):(W.push(NaN),W.push(NaN),G=!0)}z=t}const P=f(W,b),C=new Float32Array((b.cols-1)*(b.rows-1)*2*6),L=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),k=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let e=0;e<b.cols-1;e++){for(let n=0;n<b.rows-1;n++){let t=e*b.rows*2+2*n;const o=W[t],r=W[t+1],i=W[t+2],a=W[t+3];t+=2*b.rows;const s=W[t],l=W[t+1],c=W[t+2],x=W[t+3];let m=0,u=12*(n*(b.cols-1)+e);for(let e=0;e<3;e++)C[u++]=L[m++]*o+L[m++]*i+L[m++]*c;m=0;for(let e=0;e<3;e++)C[u++]=L[m++]*r+L[m++]*a+L[m++]*x;m=0;for(let e=0;e<3;e++)C[u++]=k[m++]*o+k[m++]*s+k[m++]*c;m=0;for(let e=0;e<3;e++)C[u++]=k[m++]*r+k[m++]*l+k[m++]*x}if(G)for(let e=0;e<C.length;e++)isNaN(C[e])&&(C[e]=-1)}return{offsets:W,error:P,coefficients:C,spacing:c,size:[b.cols-1,b.rows-1]}}function P(e){const n=e.clone().normalize();return 1===n.length?n[0]:R(n)}function C(e,t,o){const{storageInfo:r,pixelSize:i}=t;let a,s=!1;const{pyramidResolutions:l}=r;if(n(l)&&l.length){const n=(e.x+e.y)/2,r=l[l.length-1],c=(r.x+r.y)/2,m=(i.x+i.y)/2;if(n<=m)a=0;else if(n>=c)a=l.length,s=n/c>8;else{let e,t=m;for(let r=1;r<=l.length;r++){if(e=(l[r-1].x+l[r-1].y)/2,n<=e){n===e?a=r:\"down\"===o?(a=r-1,s=n/t>8):a=\"up\"===o||n-t>e-n||n/t>2?r:r-1;break}t=e}}const u=0===a?i:l[a-1];return{pyramidLevel:a,pyramidResolution:new x({x:u.x,y:u.y,spatialReference:t.spatialReference}),excessiveReading:s}}const c=Math.log(e.x/i.x)/Math.LN2,m=Math.log(e.y/i.y)/Math.LN2,u=t.storageInfo.maximumPyramidLevel||0;a=\"down\"===o?Math.floor(Math.min(c,m)):\"up\"===o?Math.ceil(Math.max(c,m)):Math.round((c+m)/2),a<0?a=0:a>u&&(s=a>u+3,a=u);const f=2**a;return{pyramidLevel:a,pyramidResolution:new x({x:f*t.nativePixelSize.x,y:f*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:s}}function L(e,n,o=512,r=!0){const{extent:i,spatialReference:a,pixelSize:s}=e,l=g(new x({x:s.x,y:s.y,spatialReference:a}),n,i);if(null==l)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const c=(l.x+l.y)/2,m=t(n),u=c*m*96*39.37,f=n.isGeographic?256/o*295828763.7958547:256/o*591657527.591555;let p=!1;const h=j(i,n);r&&(n.isGeographic||n.isWebMercator)&&(p=h.xmin*h.xmax<0);let y,M=u;const d=1.001;if(p){M=f;const e=n.isGeographic?1341104507446289e-21:.29858214164761665,t=e*(96*m*39.37),o=n.isGeographic?4326:3857;y=g(new x({x:e,y:e,spatialReference:{wkid:o}}),a,h),y.x*=M/t,y.y*=M/t}else{y={x:s.x,y:s.y};const n=Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2);let t=0;for(;M<f*(d/2)&&t<n;)t++,M*=2,y.x*=2,y.y*=2;Math.max(M,f)/Math.min(M,f)<=d&&(M=f)}const w=[M],R=[{x:y.x,y:y.y}],b=70.5310735,S=Math.min(b,u)/d;for(;M>=S;)M/=2,y.x/=2,y.y/=2,w.push(M),R.push({x:y.x,y:y.y});return{projectedPixelSize:l,scales:w,srcResolutions:R,isCustomTilingScheme:!p}}export{L as computeProjectedScales,h as defaultGridSpacing,M as getDefaultDatumTransformationForDataset,G as getProjectionOffsetGrid,z as getRasterDatasetAlignmentInfo,W as getWorldWrapCount,y as load,j as projectExtent,w as projectPoint,g as projectResolution,P as snapExtent,C as snapPyramid};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/maybe.js\";import{getFeatureEditFields as p,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function t(t,d=t.popupTemplate){if(!e(d))return[];const i=await d.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:n}=d,{objectIdField:s,typeIdField:a,globalIdField:o,relationships:u}=t;if(i.includes(\"*\"))return[\"*\"];const f=n?await p(t):[],r=l(t.fieldsIndex,[...i,...f]);return a&&r.push(a),r&&s&&t.fieldsIndex.has(s)&&-1===r.indexOf(s)&&r.push(s),r&&o&&t.fieldsIndex.has(o)&&-1===r.indexOf(o)&&r.push(o),u&&u.forEach((e=>{const{keyField:p}=e;r&&p&&t.fieldsIndex.has(p)&&-1===r.indexOf(p)&&r.push(p)})),r}function d(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{d as getFetchPopupTemplate,t as getRequiredFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nclass t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+\"/\"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r=null){const i=this._cachedBlocks,c=t+\"/\"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this.trim(),this.updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+\"/\"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this.trim()}empty(){this._cachedBlocks.clear(),this.clearTimer()}getCurrentSize(){return this._cachedBlocks.size}updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this.clearTimer()}),this._interval)}trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}export default t;\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{isSome as e}from\"../../../core/maybe.js\";import t from\"./EphemeralBlockCache.js\";import{projectExtent as n,projectResolution as o,snapPyramid as r}from\"../rasterFunctions/rasterProjectionHelper.js\";import l from\"../../../geometry/Point.js\";const c=new Map,a=new t;function i(e,t){return null==t?e:`${e}?sliceId=${t}`}function s(e,t){const n={extent:null,rasterInfo:t,cache:new Map};if(c.has(e)){const t=c.get(e);return t.push(n),t.length-1}return c.set(e,[n]),0}function u(e,t){if(c.has(e)){const n=c.get(e);n[t]=null,n.some((e=>null!=e))||c.delete(e)}}function f(e){c.delete(e)}function h(e,t,n){if(!c.has(e))return null==t?a.decreaseRefCount(e,n):0;const o=c.get(e);if(null==o[t])return a.decreaseRefCount(e,n);const r=o[t].cache;if(r.has(n)){const e=r.get(n);if(e.refCount--,0===e.refCount){r.delete(n);for(let e=0;e<o.length;e++)o[e]&&o[e].cache.has(n)&&o[e].cache.delete(n);e.controller&&e.controller.abort()}return e.refCount}return 0}function m(e,t,n){if(!c.has(e))return null==t?a.getBlock(e,n):null;const o=c.get(e);if(null==o[t]){for(let e=0;e<o.length;e++)if(o[e]&&o[e].cache.has(n)){const t=o[e].cache.get(n);return t.refCount++,t.block}return a.getBlock(e,n)}const r=o[t].cache;if(r.has(n)){const e=r.get(n);return e.refCount++,e.block}for(let l=0;l<o.length;l++)if(l!==t&&o[l]&&o[l]&&o[l].cache.has(n)){const e=o[l].cache.get(n);return e.refCount++,r.set(n,e),e.block}return null}function x(e,t,n,o,r=null){if(!c.has(e))return void(null==t&&a.putBlock(e,n,o,r));const l=c.get(e);if(null==l[t])return void a.putBlock(e,n,o,r);const i={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:r};o.then((()=>i.isResolved=!0)).catch((()=>i.isRejected=!0)),l[t].cache.set(n,i)}function d(e,t,n){if(!c.has(e))return void(null==t&&a.deleteBlock(e,n));const o=c.get(e);null!=o[t]?o[t].cache.delete(n):a.deleteBlock(e,n)}function y(e,t){if(!c.has(e))return null;const n=c.get(e);return null==n[t]?null:n[t]}function g(t,c,a,i,s,u,f=null){const h=y(t,c),m=h.extent,{cache:x,rasterInfo:d}=h;if(m&&m.xmin===a.xmin&&m.xmax===a.xmax&&m.ymin===a.ymin&&m.ymax===a.ymax)return;const g=a.clone().normalize(),{spatialReference:p,transform:k}=d,M=new Set;for(let y=0;y<g.length;y++){const t=g[y];if(t.xmax-t.xmin<=i||t.ymax-t.ymin<=i)continue;let c=n(t,p,f);e(k)&&(c=k.inverseTransform(c));const a=new l({x:i,y:i,spatialReference:t.spatialReference});if(null==s&&!(s=o(a,p,t,f)))return;const{pyramidLevel:h,pyramidResolution:m,excessiveReading:x}=r(s,d,u||\"closest\");if(x)return;const{storageInfo:R}=d,{origin:C}=R,j={x:Math.max(0,Math.floor((c.xmin-C.x)/m.x)),y:Math.max(0,Math.floor((C.y-c.ymax)/m.y))},v=Math.ceil((c.xmax-c.xmin)/m.x-.1),B=Math.ceil((c.ymax-c.ymin)/m.y-.1),b=h>0?R.pyramidBlockWidth:R.blockWidth,w=h>0?R.pyramidBlockHeight:R.blockHeight,$=1,I=Math.max(0,Math.floor(j.x/b)-$),H=Math.max(0,Math.floor(j.y/w)-$),E=Math.floor((j.x+v-1)/b)+$,P=Math.floor((j.y+B-1)/w)+$;for(let e=H;e<=P;e++)for(let t=I;t<=E;t++)M.add(`${h}/${e}/${t}`)}x.forEach(((e,t)=>{if(!M.has(t)){const e=x.get(t);(null==e||e.isResolved||e.isRejected)&&x.delete(t)}})),h.extent={xmin:a.xmin,ymin:a.ymin,xmax:a.xmax,ymax:a.ymax}}export{h as decreaseRefCount,d as deleteBlock,f as deleteRaster,m as getBlock,i as getRasterId,x as putBlock,s as register,u as unregister,g as update};\n"],"sourceRoot":""}