(this["webpackJsonpjsapi-create-react-app"]=this["webpackJsonpjsapi-create-react-app"]||[]).push([[141],{558:function(e,t,r){"use strict";r.r(t),r.d(t,"clearBoundingBoxCache",(function(){return h})),r.d(t,"computeIconLayerResourceSize",(function(){return j})),r.d(t,"computeLayerResourceSize",(function(){return d})),r.d(t,"computeLayerSize",(function(){return m})),r.d(t,"computeObjectLayerResourceSize",(function(){return w}));var n=r(2),i=r(13),c=r(9),o=r(47),u=r(471),s=r(132),a=(r(7),r(15));const l=Object(s.j)(-.5,-.5,-.5,.5,.5,.5),f=Object(s.j)(-.5,-.5,0,.5,.5,1),p=Object(s.j)(-.5,-.5,0,.5,.5,.5);let y=b();function b(){return new u.a(50)}function h(){y=b()}function d(e,t){if("icon"===e.type)return j(e,t);if("object"===e.type)return w(e,t);throw new i.a("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}async function m(e,t){if("icon"===e.type)return function(e,t){return j(e,t).then((t=>{if(null==e.size)return t;const r=t[0]/t[1];return r>1?[e.size,e.size/r]:[e.size*r,e.size]}))}(e,t);if("object"===e.type)return async function(e,t){return function(e,{isPrimitive:t,width:r,depth:n,height:i}){const c=t?10:1;if(null==r&&null==i&&null==n)return[c*e[0],c*e[1],c*e[2]];const o=Object(a.g)(r,n,i);let u;for(let s=0;s<3;s++){const t=o[s];if(null!=t){u=t/e[s];break}}for(let s=0;s<3;s++)null==o[s]&&(o[s]=e[s]*u);return o}(await w(e,t),e)}(e,t);throw new i.a("symbol3d:unsupported-symbol-layer","computeLayerSize only works with symbol layers of type Icon and Object")}async function j(e,t){if(e.resource.href)return(r=e.resource.href,Object(o.default)(r,{responseType:"image"}).then((e=>e.data))).then((e=>[e.width,e.height]));var r;if(e.resource.primitive)return Object(n.i)(t)?[t,t]:[256,256];throw new i.a("symbol3d:invalid-symbol-layer","symbol layers of type Icon must have either an href or a primitive resource")}function w(e,t){return async function(e,t){if(!e.isPrimitive){const t=e.resource.href,n=y.get(t);if(void 0!==n)return Object(c.u)(n);const i=await r.e(38).then(r.bind(null,956)),o=await i.fetch(t,{disableTextures:!0});return y.put(t,o.referenceBoundingBox),o.referenceBoundingBox}let o=null;if(e.resource&&e.resource.primitive&&(o=Object(s.b)(function(e){switch(e){case"sphere":case"cube":case"diamond":return l;case"cylinder":case"cone":case"inverted-cone":return f;case"tetrahedron":return p;default:return}}(e.resource.primitive)),Object(n.i)(t)))for(let r=0;r<o.length;r++)o[r]*=t;return o?Object(c.u)(o):Object(c.t)(new i.a("symbol:invalid-resource","The symbol does not have a valid resource"))}(e,t).then((e=>Object(s.p)(e)))}}}]);